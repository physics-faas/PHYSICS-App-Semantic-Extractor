[
    {
        "id": "0796678ec01bc492",
        "type": "tab",
        "label": "Semantic Extractor MAIN",
        "disabled": false,
        "info": ""
    },
    {
        "id": "75bc5fa0db2ad379",
        "type": "tab",
        "label": "TEST POST EXTRACTOR and RF",
        "disabled": false,
        "info": ""
    },
    {
        "id": "da309c1626dccde8",
        "type": "tab",
        "label": "BACKUP",
        "disabled": false,
        "info": ""
    },
    {
        "id": "61834c2663a6ece6",
        "type": "subflow",
        "name": "BranchJoin",
        "info": "\nThe BranchJoin node can be used in each branch that you need to join. One overall Join node should be used in the end, linking all the outputs of the individual BranchJoin nodes.\n\nThe UI node needs to be configured with the following details:\n - Total count is the total number of branches expected to join.\n - Position in sequence should be from 1 to total count.\n\nAll branch outputs need to produce a relevant message for the final message to be complete and recompiled. \n\n",
        "category": "PHYSICS",
        "in": [
            {
                "x": 140,
                "y": 120,
                "wires": [
                    {
                        "id": "6cf5b4224f0daa69"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 520,
                "y": 120,
                "wires": [
                    {
                        "id": "6cf5b4224f0daa69",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "totalcount",
                "type": "num",
                "value": "",
                "ui": {
                    "label": {
                        "en-US": "Total Count"
                    }
                }
            },
            {
                "name": "position",
                "type": "num",
                "value": "",
                "ui": {
                    "label": {
                        "en-US": "Position in sequence"
                    }
                }
            }
        ],
        "meta": {},
        "color": "#FFF0F0"
    },
    {
        "id": "aeaa52ebbbf839e0",
        "type": "tls-config",
        "name": "",
        "cert": "",
        "key": "",
        "ca": "",
        "certname": "",
        "keyname": "",
        "caname": "",
        "servername": "",
        "verifyservercert": false,
        "alpnprotocol": ""
    },
    {
        "id": "6cf5b4224f0daa69",
        "type": "function",
        "z": "61834c2663a6ece6",
        "name": "create artificial msg.parts",
        "func": "\n//need to push the new parts down a LIFO structure?\nif (msg.hasOwnProperty(\"parts\")){\n    var parts={};\n    parts=msg.parts;\n    delete msg.parts;\n    msg.parts={};\n    msg.parts.parts=parts;\n    msg.parts.id=msg._msgid;\n} else {\n    msg.parts={};\n    msg.parts.id=msg._msgid;\n}\n\nmsg.parts.count=env.get('totalcount');\nmsg.parts.len=1;\nmsg.parts.index=env.get('position')-1;\nmsg.parts.type=\"array\";\n\n//msg.topic='topic2';\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "793d33b965cc1004",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Filter Flow",
        "func": "if (msg.payload == null) return;\n\nconst { supportedNodeType } = flow.get(\"utilFunctions\");\n\nif (msg.payload.disabled){\n    node.warn({\"error_msg\":\"THIS FLOW IS DISABLED\"});\n    return;\n}\n\nif (! Array.isArray(msg.payload.nodes)){\n    node.warn({\"error_msg\":\"Wrong type! Expects only arrays.\", \"payload.nodes\":msg.payload.nodes});\n    return;\n}\n\nconst originalPayload = msg.payload\nconst old_nodes = msg.payload.nodes;\nconst id = msg.payload.id;\nconst label = msg.payload.label;\n\nmsg.payload = {};\nmsg.payload.type = \"flow\";\nmsg.payload.id = id;\nmsg.payload.label = label;\nmsg.payload.nodes = {};\nmsg.excludedFlowData = [];\n\nfor (let flowNode of old_nodes ) {\n    // Filter out the node if not supported.\n    if(!supportedNodeType(flowNode.type)){\n        msg.excludedFlowData.push(flowNode);\n        continue;\n    }\n    \n    // Each node can be addressed by its id.\n    msg.payload.nodes[flowNode.id] = flowNode;\n}\n\nmsg.originalPayload = originalPayload\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 820,
        "wires": [
            [
                "2a7e453815593bf5",
                "23cc48e46fd4541e",
                "8adb3b799d821f49",
                "1a61ae74d81363f2"
            ]
        ]
    },
    {
        "id": "2a7e453815593bf5",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "New Flow data",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 820,
        "wires": []
    },
    {
        "id": "16306134bb5b3e22",
        "type": "inject",
        "z": "0796678ec01bc492",
        "name": "set context",
        "props": [
            {
                "p": "context",
                "v": "{\"@context\":{\"@version\":1.1,\"@vocab\":\"http://www.physics-h2020.eu/physics/1.0.0/\",\"flow\":\"http://example_composer.physics.eu/flow/\",\"function\":\"http://example_composer.physics.eu/function/\",\"param\":\"http://example_parameters_repository.physics.eu/\",\"app\":\"http://example_composer.physics.eu/app/\",\"owner\":\"http://example_owners_repository.physics.eu/\",\"proglang\":\"http://languages.programming.physics.eu/\",\"js_lib\":\"http://languages.programming.physics.eu/javascript/lib/\"}}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "25c52e411e11923d"
            ]
        ]
    },
    {
        "id": "25c52e411e11923d",
        "type": "change",
        "z": "0796678ec01bc492",
        "name": "Set jsonLdBase",
        "rules": [
            {
                "t": "set",
                "p": "jsonLdBase",
                "pt": "flow",
                "to": "context",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 100,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "f0adf96dc91b37b7",
        "type": "inject",
        "z": "0796678ec01bc492",
        "name": "Set Supported Nodes",
        "props": [
            {
                "p": "supportedNodes",
                "v": "{\"function\":true,\"subflow\":true,\"http\":true}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "x": 540,
        "y": 100,
        "wires": [
            [
                "147a9e16935b0651"
            ]
        ]
    },
    {
        "id": "147a9e16935b0651",
        "type": "change",
        "z": "0796678ec01bc492",
        "name": "Set supportedNodes",
        "rules": [
            {
                "t": "set",
                "p": "supportedNodes",
                "pt": "flow",
                "to": "supportedNodes",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 100,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "23cc48e46fd4541e",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Excluded Flow Data",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "excludedFlowData",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 860,
        "wires": []
    },
    {
        "id": "641c2ecd648a5b73",
        "type": "inject",
        "z": "0796678ec01bc492",
        "name": "Set Utils",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "x": 100,
        "y": 160,
        "wires": [
            [
                "312b9bd49799834b"
            ]
        ]
    },
    {
        "id": "4e3061dee4896671",
        "type": "change",
        "z": "0796678ec01bc492",
        "name": "Set utility functions",
        "rules": [
            {
                "t": "set",
                "p": "utilFunctions",
                "pt": "flow",
                "to": "utilFunctions",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 160,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "312b9bd49799834b",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Utilities",
        "func": "// Check if node type is supported\nconst supportedNodeType = (nodeType) => {\n    if(typeof nodeType != \"string\"){\n        console.error(`supportedNodeType: nodeType input ${nodeType} is not a string!`);\n        return false;\n    }\n    \n    if(!!flow.get(\"supportedNodes\")[nodeType]){\n        return true;\n    }\n        \n    if(nodeType.includes(\":\")){\n        const localTypes = nodeType.split(\":\");\n        for(const localType of localTypes){\n            if (supportedNodeType(localType)){\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    if(nodeType.includes(\" \")){\n        const localTypes = nodeType.split(\" \");\n        for(const localType of localTypes){\n            if (supportedNodeType(localType)){\n                return true;\n            }\n        }\n        return false;\n    }\n        \n    return false;\n};\n\n\n// Check if is valid NPM name. Does not support old package names by default.\nconst validNpmPackage = (str, oldPackages=false) => {\n    const ret = validNpm(str); // Imported library validate-npm-package-name.\n    return oldPackages ?\n        ret.validForNewPackages || ret.validForOldPackages :\n        ret.validForNewPackages;\n};\n\n\n// Check if Path or URI\nconst isPathOrUri = (str) => {\n    return isAbsolutePath(str) || isRelativePath(str) || isUri(str);\n};\n\n// Add object-property-value to a temp triples index for multiple objects.\nconst tempTripleToIndex = (object, property, value, tempTriplesIndex) => {\n    // Not a pure function! An empty or non empty object is changed here!\n    // tempTriplesIndex: { object: { property: [value] } }\n    // For multiple values, input all values in an array as value parameter.\n    if (!(object in tempTriplesIndex)) {\n        tempTriplesIndex[object] = {};\n    }\n    if(!(property in tempTriplesIndex[object])) {\n        tempTriplesIndex[object][property] = [];\n    }\n    if(Array.isArray(value)){\n        const temp = tempTriplesIndex[object][property];\n        tempTriplesIndex[object][property] = temp.concat(value);\n    }else tempTriplesIndex[object][property].push(value);\n};\n\n// Clean a temp triples index. Meant for the same type of index as above!\nconst cleanTriplesIndex = (tempTriplesIndex) => {\n    // Not a pure function! Input object is changed here!\n    // tempTriplesIndex: { object: { property: [value] } }\n    for(const object in tempTriplesIndex){\n        for(let property in tempTriplesIndex[object]){\n            // Remove any duplicate values.\n            if (tempTriplesIndex[object][property].length > 1) {\n                let temp = tempTriplesIndex[object][property];\n                tempTriplesIndex[object][property] = [...new Set(temp)];\n            }\n            \n            // If only one value, set value directly.\n            if(tempTriplesIndex[object][property].length == 1){\n                tempTriplesIndex[object][property] = tempTriplesIndex[object][property][0];\n            }\n        }\n    }\n};\n\n// Add a property value as in semantics, in a JS object for semantics.\n// Does NOT take array value.\nconst addPropertyValue = (js_obj, property, value) => {\n    if (! (property in js_obj)){\n        js_obj[property] = value;\n    } else {\n        // Results in array.\n        if ( ! (Array.isArray(js_obj[property]))) {\n            const temp = js_obj[property];\n            js_obj[property] = [ temp, value ];\n        } else js_obj[property].push(value);\n        // Removes duplicates\n        js_obj[property] = [...new Set(js_obj[property])]\n    }\n};\n\n// Deep clean all empty and faulty values, even NaN.\nconst cleanObj = (obj) => {\n    return cleanDeep(obj, NaNValues=true);\n};\n\n// First letter uppercase, rest lowercase\nconst firstLetter = (str) => {\n    return str.replace(/^.{1}/g, str[0].toUpperCase());\n};\n\n// Canonical Semantic property or class name style\nconst toSemanticName = (str, isProperty=false) => {\n    if (isAbsolutePath(str) || isUri(str)){\n        return str;\n    }\n    \n    let newStr = \"\";\n    let i = 0;\n    for (const part of str.split(\" \")){\n        if (isProperty && i==0) {\n            for (let subPart of part.split(/(?=[A-Z])/) ) {\n                if (isProperty && i==0){\n                    newStr = newStr.concat(subPart.toLowerCase());\n                    \n                } else newStr = newStr.concat(subPart);\n                i++;\n            }\n        }else newStr = newStr.concat(firstLetter(part));\n        i++;\n    }\n    return newStr;\n};\n\nconst bestStringMatch = (str, strArray) => {\n    return stringSimilarity.findBestMatch(str, strArray).\n        bestMatch.target;\n};\n\nconst isObject = (item) => {\n    return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\nconst mergeDeep = (target, ...sources) => {\n    if (!sources.length) return target;\n    const source = sources.shift();\n\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key]) Object.assign(target, { [key]: {} });\n                mergeDeep(target[key], source[key]);\n            } else {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    \n    return mergeDeep(target, ...sources);\n}\n\nmsg.utilFunctions = {\n    // ALL UTIL FUNCTIONS TO FLOW CONTEXT\n    \"supportedNodeType\": supportedNodeType,\n    \"isUri\": isUri, // Imported library validate.io-uri.\n    \"isAbsolutePath\": isAbsolutePath, // Imported library @stdlib/assert-is-absolute-path.\n    \"isRelativePath\": isRelativePath, // Imported library @stdlib/assert-is-relative-path.\n    \"isPathOrUri\": isPathOrUri,\n    \"validNpmPackage\": validNpmPackage,\n    \"tempTripleToIndex\": tempTripleToIndex,\n    \"cleanTriplesIndex\": cleanTriplesIndex,\n    \"addPropertyValue\": addPropertyValue,\n    \"cleanDeep\": cleanDeep, // Imported library clean-deep.\n    \"cleanObj\": cleanObj,\n    \"firstLetter\": firstLetter,\n    \"toSemanticName\": toSemanticName,\n    \"bestStringMatch\": bestStringMatch,\n    \"isObject\": isObject,\n    \"mergeDeep\": mergeDeep,\n    \n    // Test console log only\n    \"testFunc\": () => {\n        console.log(\"Hello testFunc\");\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "isUri",
                "module": "validate.io-uri"
            },
            {
                "var": "isRelativePath",
                "module": "@stdlib/assert-is-relative-path"
            },
            {
                "var": "isAbsolutePath",
                "module": "@stdlib/assert-is-absolute-path"
            },
            {
                "var": "validNpm",
                "module": "validate-npm-package-name"
            },
            {
                "var": "jsonata",
                "module": "jsonata"
            },
            {
                "var": "cleanDeep",
                "module": "clean-deep"
            },
            {
                "var": "stringSimilarity",
                "module": "string-similarity"
            }
        ],
        "x": 240,
        "y": 160,
        "wires": [
            [
                "4e3061dee4896671"
            ]
        ]
    },
    {
        "id": "1a61ae74d81363f2",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Semantic Transformation 1",
        "func": "console.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"Semantic Transformation - Phase 1 ==============================\");\n// Generic function import -----------------------------------------------------\nconst { \n    validNpmPackage,\n    isRelativePath,\n    isAbsolutePath,\n    tempTripleToIndex,\n    cleanTriplesIndex,\n    addPropertyValue,\n    toSemanticName,\n} = flow.get(\"utilFunctions\");\nconst codeAnnotationExtractor = flow.get(\"codeAnnotationExtractor\");\n\n// Transformation helper functions ---------------------------------------------\n// Find the appropriate reference for the dependency\nconst libraryDependencyTemplate = (functionNode, lib) => {\n    if (validNpmPackage(lib.module)) {\n       return `js_lib:${lib.module}`;\n    }\n    if (isRelativePath(lib.module) || isAbsolutePath(lib.module)) {\n        // Means local dependency.\n        return `function:${functionNode.id}/dependency/${lib.var}#path=${lib.module}`\n    }\n    return \"\"\n}\n\n// Create the library imports for function nodes.\nconst transformLibs = (functionNode) => {\n    \n    let libImports = [];\n    \n    if ( !(\"libs\" in functionNode) ||\n        functionNode.libs === undefined ||\n        functionNode.libs === null)\n        return libImports;\n    \n    for (const lib of functionNode.libs){\n        libImports.push({\n            \"@id\": `function:${functionNode.id}/dependency/${lib.var}`,\n            \"@type\": \"SoftwareLibrary\",\n            \"label\": lib.var,\n            // js_lib is the scheme to reference the library.\n            // The uri should link to the npm (or yarn) package.\n            \"hasTemplate\": libraryDependencyTemplate(functionNode, lib),\n            \"codeSymbol\": lib.var,\n        });\n    }\n    \n    return libImports;\n}\n\n// Filters ---------------------------------------------------------------------\nconst subflowFilter = jsonata(\"[nodes.*[$contains(type, 'subflow:')]]\");\nconst functionsFilter = jsonata(\"[nodes.*[type='function']]\");\nconst httpNodesFilter = jsonata(\"[nodes.*[$contains(type, 'http')]]\");\n\n// Node collections (Lists) ----------------------------------------------------\nconsole.log(\"Node collections ===============================================\");\nconst subflowNodes = subflowFilter.evaluate(msg.payload);\nlet functionNodes = functionsFilter.evaluate(msg.payload);\nlet httpNodes = httpNodesFilter.evaluate(msg.payload);\nlet nodes = []; // Other nodes. To be filled with other types later.\n\n// Monitor\nconsole.log(\"--------------------------\");\nconsole.log(\"subflowNodes\", util.inspect(subflowNodes, false, null, true));\nconsole.log(\"--------------------------\");\nconsole.log(\"functionNodes\", util.inspect(functionNodes, false, null, true));\nconsole.log(\"--------------------------\");\nconsole.log(\"httpNodes\", util.inspect(httpNodes, false, null, true));\nconsole.log(\"--------------------------\");\nconsole.log(\"Other nodes\", util.inspect(nodes, false, null, true));\nconsole.log(\"--------------------------\");\n\n// New constructs from semantics -----------------------------------------------\nconsole.log(\"New constructs for semantics ===================================\");\n// Indexes ( simple id : boolean )\nlet appInterfacesIndex = {}; // Application Interfaces (all types) (OLD ID)\nlet nonWireAppInterfaces = {}; // TO EXCLUDE FROM WIRE TRANSFORMATION (OLD ID)\n// Temporary triples from parsing\nlet flowTriples = {}; // Flow id (complete): {property: [ value]} \nlet functionTriples = {}; // Function id (complete): {property:[ value]}\n// Other triples from any parsing operation (index).\nlet otherTriples = {}; // id (complete or `unset:${var}`) : {property:[ value] }\n// ID indexes, to be used in any situation\nlet oldToNewID = {}; // Old id : new id\nlet newToOldID = {}; // New id : old id\n//Set ID indexes for flow and functions.\noldToNewID[msg.payload.id] = \"flow:\"+msg.payload.id;\nnewToOldID[\"flow:\"+msg.payload.id] = msg.payload.id;\nfor (const oldFunctionNode of functionNodes) {\n    oldToNewID[oldFunctionNode.id] = \"function:\"+oldFunctionNode.id;\n    newToOldID[\"function:\"+oldFunctionNode.id] = oldFunctionNode.id;\n}\n\n/*\nNOTE: Triple indexes may have the \"unset:\" prefix in the key. This means that \nthe id has uncertain matching, i.e. new ID of new entity is not known. It is \nfixed up using the fixUnset function.\n*/\n// Fix all unset IDs\nconst fixUnset = (triplesIndex) => {\n    for ( const object in triplesIndex ){\n        if(! object.includes(\"unset:\")) continue;\n        \n        const oldId = object.replace(\"unset:\", \"\");\n        if ( oldId in oldToNewID ) {\n            // Match found. Replace ID.\n            triplesIndex[oldToNewID[oldId]] = triplesIndex[oldId];\n            delete triplesIndex[oldId];\n            \n        }else {\n            // Match not found. Add to otherTriples.\n            for ( const property in triplesIndex[object] ){\n                tempTripleToIndex(\n                    object,\n                    property,\n                    triplesIndex[object][property],\n                    otherTriples,\n                );\n            }\n        }\n    }\n};\n\n// Monitor\nconsole.log(\"--------------------------\");\nconsole.log(\"oldToNewID\", util.inspect(oldToNewID, false, null, true));\nconsole.log(\"--------------------------\");\nconsole.log(\"newToOldID\", util.inspect(newToOldID, false, null, true));\nconsole.log(\"--------------------------\");\n\n// Transformation of NON-workflow nodes ----------------------------------------\n// Transformation for httpNodes ------------------------------------------------\nconsole.log(\"HTTP Nodes Transformation ======================================\");\nfor (let httpNode of httpNodes){\n    const newId = `flow:${httpNode.z}/interface/${httpNode.id}`\n    oldToNewID[httpNode.id] = newId;\n    newToOldID[newId] = httpNode.id;\n    \n    // The new individual\n    let httpAppInterface = {\n        \"@id\": newId,\n        \"@type\": \"REST\",\n        \"label\": httpNode.name,\n    };\n    \n    if (httpNode.type == \"http response\") {\n        // Simple output.\n        httpAppInterface[\"@type\"] = \"RESTOutput\";\n    } else {\n        httpAppInterface[\"hasHttpMethod\"] = httpNode.method.toUpperCase();\n        httpAppInterface[\"interfaceURI\"] = httpNode.url;\n        \n        if (httpNode.type == \"http in\"){\n            // HTTP in node\n            httpAppInterface[\"allowsUpload\"] = httpNode.upload;\n            httpAppInterface[\"swaggerDoc\"] = httpNode.swaggerDoc;\n            \n            // add temporary Triple to index\n            // Flow exposesREST this http interface\n            tempTripleToIndex(\n                `flow:${httpNode.z}`,\n                \"exposesREST\",\n                newId,\n                flowTriples\n            );\n        \n        } else if (httpNode.type == \"http request\") {\n            // add temporary Triple to index\n            // Flow consumesREST this http interface\n             tempTripleToIndex(\n                `flow:${httpNode.z}`,\n                \"consumesREST\",\n                newId,\n                flowTriples\n            );\n        }\n    }\n    \n    // Indexing required to avoid wrong wire parsing\n    appInterfacesIndex[httpNode.id] = httpAppInterface;\n    nonWireAppInterfaces[httpNode.id] = httpAppInterface;\n}\n\n// Monitor\nconsole.log(\"--------------------------\");\nconsole.log(\"appInterfacesIndex\", util.inspect(appInterfacesIndex, false, null, true));\nconsole.log(\"--------------------------\");\nconsole.log(\"nonWireAppInterfaces\", util.inspect(nonWireAppInterfaces, false, null, true));\nconsole.log(\"--------------------------\");\n\n// -----------------------------------------------------------------------------\n\n// Transformation of workflow nodes --------------------------------------------\nconsole.log(\"Workflow Nodes Transformation ==================================\");\nlet completeWorkflowNodes = {}; // COMPLETED nodes for THIS PHASE (OLD ID)\n// Transformation for functionNodes --------------------------------------------\ncleanTriplesIndex(functionTriples); // Cleaned triples for functions.\nfixUnset(functionTriples); // Clean up any unset triple\nlet triplesFromFunctions = [];\nlet semanticFunctionNodes = [];\nfor (const oldFunctionNode of functionNodes) {\n    // Extract function code annotations and semantics. FUNCTION-LEVEL EXTRACTOR\n    const { \n        functionCode,\n        functionAnnotations,\n        triples,\n    } = codeAnnotationExtractor(oldFunctionNode.func);\n    \n    const newFuncID = \"function:\"+oldFunctionNode.id\n    \n    // The new function individual\n    let newFunctionNode = {\n        \"@id\": newFuncID,\n        \"@type\": \"Function\",\n        \"label\": oldFunctionNode.name,\n        \"initCode\": oldFunctionNode.initialize,\n        \"funcCode\": functionCode,\n        \"finalCode\": oldFunctionNode.finalize,\n        \"callsDependency\": transformLibs(oldFunctionNode),\n    };\n    \n    for (const annotation of functionAnnotations) {\n        addPropertyValue(\n            newFunctionNode,\n            toSemanticName(annotation.property, true),\n            toSemanticName(annotation.value),\n        );\n    }\n    \n    for (let triple of triples) {\n        // Fix their naming.\n        triple = {\n            \"object\": toSemanticName(triple.object ),\n            \"property\": toSemanticName(triple.property ),\n            \"value\": toSemanticName(triple.value ),\n        }\n    }\n    \n    // External triples that come from inserted functions. To be processed later.\n    triplesFromFunctions = triplesFromFunctions.concat(triples);\n    \n    // Get all temporary triples for the function and add them.\n    if (newFuncID in functionTriples){\n        for ( const property in  functionTriples[newFuncID] ){\n            newFunctionNode[property] = functionTriples[newFuncID][property]\n        }\n        delete functionTriples[newFuncID]; // Not to go to otherTriples.\n    }\n    // Function complete\n    semanticFunctionNodes.push(newFunctionNode);\n    completeWorkflowNodes[oldFunctionNode.id] = newFunctionNode;\n}\n\n// Monitor\nconsole.log(\"--------------------------\");\nconsole.log(\"semanticFunctionNodes\", util.inspect(semanticFunctionNodes, false, null, true));\nconsole.log(\"--------------------------\");\nconsole.log(\"completeWorkflowNodes\", util.inspect(completeWorkflowNodes, false, null, true));\nconsole.log(\"--------------------------\");\n\n// -----------------------------------------------------------------------------\n\n// Unparsed supported nodes NOW get an ID, in the first phase ------------------\nconsole.log(\"Preparation of unparsed nodes ==================================\");\nconst otherSupportedNodes =  {};\nconst oldFlowId = msg.payload.id;\n\n// Pre-parsing of the rest...\nfor (const oldNode of []\n    //NOTE: ADD ALL SUPPORTED NODES that are NOT MAIN! ( .concat( collection ) )\n    .concat( subflowNodes )\n){\n    const oldNodeId= oldNode.id;\n    \n    const newOtherNodeId = `flow:${oldFlowId}/node/${oldNodeId}`;\n    oldToNewID[oldNodeId] = newOtherNodeId;\n    newToOldID[newOtherNodeId] = oldNodeId;\n    completeWorkflowNodes[oldNodeId] = {\n        \"@id\": newOtherNodeId,\n    }\n}\n\n// Monitor\nconsole.log(\"--------------------------\");\nconsole.log(\"completeWorkflowNodes\", util.inspect(completeWorkflowNodes, false, null, true));\nconsole.log(\"--------------------------\");\n\n// Transformation of all application interfaces --------------------------------\nconsole.log(\"Application Interfaces Transformation ==========================\");\nconst supportedNodes =  []\n    //NOTE: ADD ALL SUPPORTED NODES!!! (.concat( node group ))\n    .concat(subflowNodes)\n    .concat(functionNodes)\n    .concat(httpNodes);\n\nconsole.log(\"supportedNodes\", util.inspect(supportedNodes, false, null, true));\n\nmsg.appInterfaces = {};\n// Parse all wires.\nfor (const oldNode of supportedNodes ){\n    const oldNodeId = oldNode.id;\n    // Avoid unsupported nodes.\n    if(! (oldNodeId in oldToNewID) ) break;\n    \n    let isNonWire = false;\n    const newNodeId = oldToNewID[oldNodeId];\n    let appInterfaceId = \"\";\n    let interfaceIndividual = {};\n    \n    if(oldNodeId in nonWireAppInterfaces){\n        isNonWire = true;\n        appInterfaceId = newNodeId;\n        interfaceIndividual = nonWireAppInterfaces[oldNodeId];\n    }\n    \n    let i = 0;\n    for ( const wireOutput of oldNode.wires ) {\n        \n        // If new Message Wire should be created.\n        if (! isNonWire) {\n            // Create a new message wire app interface.\n            appInterfaceId = `flow:${oldFlowId}/interface/${oldNodeId}.out${i}`;\n            interfaceIndividual = {\n                \"@id\": appInterfaceId,\n                \"@type\": \"MessageWire\",\n                \"isNodeOutputOf\": newNodeId,  // Current node\n            }\n        }\n        \n        let emptyMsgWire = true;\n        // Iterate over destination connections.\n        for(const oldDestID of wireOutput){\n            \n            // Check if this nr wire connection goes to non-wire app interface.\n            if (oldDestID in nonWireAppInterfaces) {\n                if (! isNonWire){\n                    // This is a Workflow Node that has interface node as output.\n                    addPropertyValue(\n                        completeWorkflowNodes[oldNodeId], // Current node obj\n                        \"hasNodeOutput\",\n                        oldToNewID[oldDestID] // Destination node \n                    );\n                } else{\n                    // This is an interface node, and connects to interface node.\n                    addPropertyValue(\n                        interfaceIndividual,  // Current node obj\n                        \"interfaceToInterface\",\n                        oldToNewID[oldDestID]  // Destination node\n                    );\n                }\n            } else { // Msg wire connection to workflow node.\n                if (! isNonWire){\n                    emptyMsgWire = false;\n                    // This is a Workflow Node that connects to another, through\n                    // the newly created message wire interface.\n                    addPropertyValue(\n                        interfaceIndividual,  // New Interface obj\n                        \"isNodeInputOf\",\n                        oldToNewID[oldDestID]  // Destination node\n                    );\n                } else {\n                    // This is an interface Node that connects to Workflow node.\n                    addPropertyValue(\n                        interfaceIndividual, // Current node obj\n                        \"isNodeInputOf\",\n                        oldToNewID[oldDestID]    // Destination node\n                    );\n                }\n            }\n        }\n        \n        // Set interface individual appropriately. (Normal wire)\n        if ( (!isNonWire) && (!emptyMsgWire) ){\n            msg.appInterfaces[appInterfaceId] = interfaceIndividual;\n        }\n        \n        i++; // Next wire...\n    }\n    \n    // Set interface individual appropriately. (Not wire)\n    if (isNonWire) msg.appInterfaces[appInterfaceId] = interfaceIndividual;\n    \n}\n\n// Monitor\nconsole.log(\"--------------------------\");\nconsole.log(\"msg.appInterfaces\", util.inspect(msg.appInterfaces, false, null, true));\nconsole.log(\"--------------------------\");\n\n// subflow Nodes check ---------------------------------------------------------\nconsole.log(\"PHASE 1 ready ==================================================\");\n\nmsg.tempSubflowData = subflowNodes;\n\n//Phase 1 complete\n// ID mapping\nmsg.oldToNewID = oldToNewID;\nmsg.newToOldID = newToOldID;\n// Other triples extracted from functions.\nmsg.triplesFromFunctions = triplesFromFunctions;\n// Semi-ready Flow\nmsg.payload = {  // Flow with functions.\n    // Semantically ready\n    \"@id\": \"flow:\"+oldFlowId,\n    \"@type\": \"Flow\",\n    \"label\": msg.payload.label,\n    \"hasFunction\": semanticFunctionNodes,\n    \n    // To be further worked on\n    \"hasNode\": nodes\n}\n\n\n\nfixUnset(flowTriples);\nfor (const flowId in flowTriples) {\n    if(flowId == \"flow:\"+oldFlowId){\n        msg.payload = {\n            ...msg.payload,\n            ...flowTriples[flowId],\n        }\n        delete flowTriples[flowId]; // Not to go to otherTriples.\n    }\n}\n\n// Include other triples to be added in the end.\ncleanTriplesIndex(otherTriples);\nfixUnset(otherTriples);\nmsg.otherTriples = {\n    ...otherTriples,\n    ...flowTriples,\n    ...functionTriples,\n};\n\n// Pass all the (old id : workflow Node)\nmsg.completeWorkflowNodes = completeWorkflowNodes;\n\n// Monitoring end\nconsole.log(\"Complete msg\", util.inspect(msg, false, null, true));\nconsole.log(\"END OF PHASE 1 =================================================\");\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jsonata",
                "module": "jsonata"
            }
        ],
        "x": 300,
        "y": 940,
        "wires": [
            [
                "e38e93a8b68f8981",
                "da7da8f9d3d94244"
            ]
        ]
    },
    {
        "id": "7088f0cba24fe40e",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Semantic Transformation 2",
        "func": "const { \n    tempTripleToIndex,\n    cleanTriplesIndex,\n    addPropertyValue,\n    toSemanticName,\n    bestStringMatch,\n} = flow.get(\"utilFunctions\");\n\nconsole.log(\"Semantic Transformation - Phase 2 ==============================\");\n\nmsg.payload = msg.payload[0];\n\nlet flowData = msg.payload; // The created Flow object with everything ready.\nconst oldSubFlows = msg.tempSubflowData;\nconsole.log(\"---------------------------------------\");\nconsole.log(\"oldSubFlows\", util.inspect(oldSubFlows, false, null, true));\nconsole.log(\"---------------------------------------\");\n\n// Continue with subflows\nconst storedSubFlows = msg.subflows; // Old id : old subflow\nconst storedFlowAnnotators = msg.annotators; // Old id : old subflow\n\n// console.log(\"storedSubFlows\", util.inspect(storedSubFlows, false, null, true));\n// console.log(\"---------------------------------------\");\n// console.log(\"storedFlowAnnotators\", util.inspect(storedFlowAnnotators, false, null, true));\n// console.log(\"---------------------------------------\");\n\nconsole.log(\"Subflow Preparation ============================================\");\n// Parse subflows\nfor (let oldSubflow of oldSubFlows) {\n    oldSubflow[\"subflow\"] = oldSubflow.type.replace('subflow:', '');\n    \n    // FLOW ANNOTATOR case.\n    if (oldSubflow[\"subflow\"] in storedFlowAnnotators){\n        // Assumption: Annotator nodes are NOT CONNECTED to ANY NODE.\n        // NOTE for later: Find a way to filter these through the ontology.\n        for (const definitionObject of oldSubflow[\"env\"] ){\n            let value = \"\";\n            if (definitionObject.type == \"num\") {\n                value = Number(definitionObject.value);\n            } value = definitionObject.value;\n            \n            addPropertyValue(\n                msg.payload, // Flow object\n                toSemanticName(definitionObject.name, true),\n                value,\n            ); \n        }\n        \n    }else {  // Add any subflow as node if not in annotators.\n        let prepedNode = msg.completeWorkflowNodes[oldSubflow[\"id\"]];\n        \n        // Note that its connections have already been prepared if they exist.\n        addPropertyValue(\n           msg.payload, // Flow object\n           \"hasNode\",\n           { // Subflow\n               ...prepedNode, // Prepared id and input/output\n               \"@type\": \"SubFlow\",\n               \"label\": oldSubflow[\"name\"],\n               \"hasTemplate\": `flow:${oldSubflow[\"subflow\"]}`\n           }\n        );\n    }\n}\n// TODO LATER, if needed, add has Node for those not included.\n\n// TODO Filter the annotations!\n\nconsole.log(\"Interfaces Setup ===============================================\");\n// Sort out the defined Application Interfaces\nconst consumedRestApis = [];\nconst appInterfaces = [];\nfor (const interfaceId in msg.appInterfaces){\n    const interfaceDefinition = msg.appInterfaces[interfaceId];\n    // NOTE: ADD RULES TO THE INTERFACES THAT ARE NOT DEFINED.\n    if (interfaceDefinition[\"@type\"] == \"REST\" &&\n        flowData.exposesREST &&\n        !flowData.exposesREST.includes(interfaceId)\n        ){  // From http request node\n        consumedRestApis.push(interfaceDefinition);\n    } else {\n        appInterfaces.push(interfaceDefinition);\n    }\n}\n\nconsole.log(\"---------------------------------------\");\nconsole.log(\"consumedRestApis\", util.inspect(consumedRestApis, false, null, true));\nconsole.log(\"---------------------------------------\");\nconsole.log(\"appInterfaces\", util.inspect(appInterfaces, false, null, true));\nconsole.log(\"---------------------------------------\");\n\n\nconsole.log(\"Software Artifact Setup ========================================\");\nconst supportedArtifactTypes = [\n    'SoftwareImage',\n    'SoftwareBinary',\n    'PackagedSourceCode'\n];\n\n\nlet softwareArtifact = {\n    '@id': msg.originalPayload.artifact,\n};\n\nif (msg.originalPayload.artifactType) {\n    let artifactType = bestStringMatch(\n        msg.originalPayload.artifactType,\n        supportedArtifactTypes,\n    );\n    addPropertyValue(\n        softwareArtifact,\n        '@type',\n        artifactType,\n    );\n}\n\n\nconsole.log(\"END OF PHASE 2 =================================================\");\n\nmsg.payload = { // Final JSON-LD payload for Flow:\n    ...msg.payload,\n    // Add interfaces\n    \"consumesREST\": consumedRestApis,\n    \"definesInterface\": appInterfaces,\n    // Add original description\n    \"hasJSONDescription\": msg.originalPayload,\n    \"hasSoftwareArtifact\": softwareArtifact,\n}\n\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\nconsole.log(\"\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1040,
        "wires": [
            [
                "9930fc0b69f5cfe4",
                "85d2685e7af99079",
                "048f4d8056d48d9e"
            ]
        ]
    },
    {
        "id": "9930fc0b69f5cfe4",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Sem Transform 2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 1040,
        "wires": []
    },
    {
        "id": "8adb3b799d821f49",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Original Payload",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "originalPayload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 780,
        "wires": []
    },
    {
        "id": "29e05866e3b9218c",
        "type": "inject",
        "z": "0796678ec01bc492",
        "name": "Set ext",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "jsonata",
        "x": 620,
        "y": 180,
        "wires": [
            [
                "8f1ba9b56f176774"
            ]
        ]
    },
    {
        "id": "8f1ba9b56f176774",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Code annotation extractor",
        "func": "// Parse line and return annotation parts\nconst parseLine = (line) => {\n    // Skip comments entirely\n    if (! line.includes(\"//\")) return {\n        \"isAnnotationLine\": false,\n        \"cleanedLine\": line,\n    };\n    \n    // Keep code before comment in the line\n    let codePart = \"\";\n    let commentLine = line;\n    \n    if (! line.startsWith(\"//\")){\n        let lineParts = line.split(\"//\");\n        [ lineParts[0], ...lineParts[1] ] = lineParts;\n        lineParts[1] = lineParts[1].join('//');\n        \n        codePart=lineParts[0];\n        commentLine='//'+lineParts[1]\n    }\n    \n    let cleanComment = \"\";\n    \n    // Work on comment with the annotation starter\n    if (commentLine.startsWith(\"//$\") || commentLine.startsWith(\"//@\")) {\n        let annotation = {\n            \"object\": \"self\", // self is reference to the function itself\n            \"property\": \"\", // Annotation name/property\n            \"value\": \"\", // Value, can be any type, depending on the property\n        };\n        \n        let cleanLine = commentLine;\n        \n        // Keep rest of comment, if exists.\n        if (commentLine.includes(\" \")){\n            let parts = [];\n            [cleanLine, ...parts] = commentLine.split(\" \");\n            cleanComment = ' //'+parts.join(' ');\n        }\n        \n        // Check if valid annotation\n        if(cleanLine.startsWith(\"//$\") && cleanLine.includes(\"@\") && cleanLine.includes(\"=\")) {\n            // Triple\n            let annotationLine = cleanLine.replace(\"//$\", \"\");\n            let parts = [];\n            parts = annotationLine.split(\"@\");\n            [ parts[0], ...parts[1] ] = parts;\n            parts[1] = parts[1].join('@');\n            [ parts[1], ...parts[2] ] = parts[1].split(\"=\");\n            parts[2] = parts[2].join('=');\n            \n            annotation.object = parts [0];\n            annotation.property = parts[1];\n            annotation.value = parts[2];\n        \n        } else if(cleanLine.startsWith(\"//@\") && cleanLine.includes(\"=\")) {\n            // Simple annotation\n            let annotationLine = cleanLine.replace(\"//@\", \"\");\n            let parts = [];\n            [parts[0], ...parts[1]] = annotationLine.split(\"=\");\n            parts[1] = parts[1].join('='); // = sign is supported in value\n            \n            annotation.property = parts[0];\n            annotation.value = parts[1];\n        \n        \n        // Not annotation\n        } else return { \n            \"isAnnotationLine\": false,\n            \"cleanedLine\":  line\n        };\n        \n        // Empty fields are not supported!\n        if(annotation.object === \"\" ||\n           annotation.property === \"\" ||\n           annotation.value === \"\"\n        ) return {\n            \"isAnnotationLine\": false,\n            \"cleanedLine\": line,\n        }\n        \n        // Annotation + Cleaned code + comment\n        return {\n            \"isAnnotationLine\": true,\n            \"annotation\": annotation,\n            \"cleanedLine\": codePart + cleanComment,\n        }\n    }\n    \n    // Not an annotation\n    return { \n        \"isAnnotationLine\": false,\n        \"cleanedLine\": line \n    };\n}\n\n// Main code annotation extractor\nmsg.codeAnnotationExtractor = (functionCode) => {\n    let functionAnnotations = [];\n    let triples = [];\n    let cleanedCode = \"\";\n    \n    let lines = functionCode.split(\"\\n\");\n    let cleanLines = [];\n    \n    for (const line of lines){\n        const result = parseLine(line);\n        cleanLines.push(result.cleanedLine);\n        \n        if(result.isAnnotationLine){\n            if(result.annotation.object == \"self\"){\n                // Simple function annotation\n                functionAnnotations.push({\n                    \"property\": result.annotation.property,\n                    \"value\": result.annotation.value,\n                });\n            }else {\n                // Complete triple\n                triples.push(result.annotation);\n            }\n        }\n        \n    }\n    \n    cleanedCode = cleanLines.join(\"\\n\");\n    \n    return {\n        \"functionCode\": cleanedCode,\n        \"functionAnnotations\": functionAnnotations,\n        \"triples\": triples,\n    };\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 140,
        "wires": [
            [
                "7fe19bf35a094dc3"
            ]
        ]
    },
    {
        "id": "7fe19bf35a094dc3",
        "type": "change",
        "z": "0796678ec01bc492",
        "name": "Set annotation extractor",
        "rules": [
            {
                "t": "set",
                "p": "codeAnnotationExtractor",
                "pt": "flow",
                "to": "codeAnnotationExtractor",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 180,
        "wires": [
            [
                "c072b5013a44166b"
            ]
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "c072b5013a44166b",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Extractor test",
        "func": "const codeAnnotationExtractor = flow.get(\"codeAnnotationExtractor\");\n\nconst example0 = \"// Code added here will be run once\\n// whenever the node is started.\\n\\nmsg.payload.imageName=env.get('Image Name');\\n//return msg;\";\nconst example1 = \"//@property=value hahaha\\n// whenever the node is started.\\n\\nmsg.payload.imageName=env.get('Image Name');\\n//return msg;\";\nconst example2 = \"//@property=value hahaha\\n// whenever the node is started.\\n//$object@property=value\\nmsg.payload.imageName=env.get('Image Name');\\nreturn msg;\";\n\nmsg.payload.noAnnotation = codeAnnotationExtractor(example0);\nmsg.payload.functionAnnotation = codeAnnotationExtractor(example1);\nmsg.payload.bothAnnotations = codeAnnotationExtractor(example2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 140,
        "wires": [
            [
                "2f7739ee88d1062c"
            ]
        ]
    },
    {
        "id": "2f7739ee88d1062c",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "extractor test",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1090,
        "y": 180,
        "wires": []
    },
    {
        "id": "e38e93a8b68f8981",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "SemTransform-1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 900,
        "wires": []
    },
    {
        "id": "048f4d8056d48d9e",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Process JSON-LD",
        "func": "const {\n    cleanObj,\n} = flow.get(\"utilFunctions\");\n\nconst doc = msg.payload;\n// TODO Later: JSON Schema absolute validation for base doc.\n\nconst context = flow.get(\"jsonLdBase\");\n\n// JSON-LD basic validation.\nconst expanded = await jsonld.expand({...context, ...doc });\nconst compacted = await jsonld.compact(expanded, context);\n// Monitor\nconsole.log(\"=========EXPANDED JSON-LD=====================\");\nconsole.log(util.inspect(expanded, false, null, true));\nconsole.log(\"=========COMPACTED JSON-LD====================\");\nconsole.log(util.inspect(compacted, false, null, true));\nconsole.log(\"==============================================\");\n\n// Clean the top-level compacted JSON-LD object.\nmsg.payload = compacted;\n\ndelete msg.payload[\"@context\"];\n\nconsole.log(\"Cleaning JSON-LD object...\");\n\n// Reorganize in order to send as repsonse.\nmsg.payload = cleanObj({\n    \"ld-flow\": msg.payload,\n    \"ld-extra-triples\": msg.otherTriples,\n    \"original-flow\": msg.originalPayload,\n    \"included-subflows\": msg.subflows,\n});\n\nconsole.log(\"Cleaned JSON-LD\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jsonld",
                "module": "jsonld"
            }
        ],
        "x": 250,
        "y": 1100,
        "wires": [
            [
                "65ff29980e9620bf",
                "337cb411b60cd723",
                "db2b48c0014d9364"
            ]
        ]
    },
    {
        "id": "65ff29980e9620bf",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "JSON-LD in ld-flow",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 1100,
        "wires": []
    },
    {
        "id": "7b95132a94a59f86",
        "type": "http in",
        "z": "0796678ec01bc492",
        "name": "",
        "url": "/extract",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "1237ad544df57164",
                "a9cd39e968620ff5"
            ]
        ]
    },
    {
        "id": "be43ca335a7fecac",
        "type": "http response",
        "z": "0796678ec01bc492",
        "name": "HTTP Out",
        "statusCode": "",
        "headers": {},
        "x": 1640,
        "y": 1320,
        "wires": []
    },
    {
        "id": "c8b76501279b927f",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Pre-process input",
        "func": "msg.topic = `extract_${msg._msgid}`;\nconst flows = msg.payload.flows;\ndelete msg.payload.flows;\nconst newMsg = RED.util.cloneMessage(msg);\nnewMsg.payload = flows;\n\nreturn [\n    msg,\n    newMsg,\n];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 520,
        "wires": [
            [
                "9ff1fccc7106878f",
                "c17dbb08bb518e50"
            ],
            [
                "ccc68c2ef659f928"
            ]
        ]
    },
    {
        "id": "989525dbf5145ac3",
        "type": "comment",
        "z": "0796678ec01bc492",
        "name": "TODO Later, if needed, check if values are valid in ontology",
        "info": "",
        "x": 230,
        "y": 1380,
        "wires": []
    },
    {
        "id": "e6b716201e2e8408",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "FInal output prep",
        "func": "const { \n    addPropertyValue,\n    toSemanticName,\n    mergeDeep,\n} = flow.get(\"utilFunctions\");\n\nconst context = flow.get(\"jsonLdBase\");\n\n// TODO: Check for changes\n\nconst flows = msg.payload[1];\n\nlet application = {\n    ...msg.payload[0],\n};\n\nmsg.payload = [];\n\nlet extraTriples = {};\n\nfor (const flowObj of flows ){\n    \n    // Error case\n    if (typeof flowObj == \"string\") {\n        msg.payload.push({'error': flowObj});\n        continue;\n    }\n    \n    addPropertyValue(\n        application,\n        'hasFlow',\n        flowObj[\"ld-flow\"],\n    );\n    \n    if (flowObj[\"ld-extra-triples\"]) {\n        oldTriples = extraTriples;\n        extraTriples = {};\n        mergeDeep(extraTriples, oldTriples, flowObj[\"ld-extra-triples\"]);\n    }\n}\n\n// JSON-LD basic validation for main applicaiton.\nconst expanded = await jsonld.expand({...context, ...application });\nconst compacted = await jsonld.compact(expanded, context);\n\napplication = compacted;\n\nmsg.payload.push(application);\n\nif (Object.keys(extraTriples).length > 0) {\n    for (const id in extraTriples){\n        msg.payload.push({\n            '@context': flow.get(\"jsonLdBase\"),\n            '@id': id,\n            ...extraTriples[id],\n        });\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jsonld",
                "module": "jsonld"
            }
        ],
        "x": 730,
        "y": 1280,
        "wires": [
            [
                "9059f5029f8c9120",
                "12e65b57ed15c085"
            ]
        ]
    },
    {
        "id": "ce9a063ad3b7d326",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "configure call",
        "func": "msg.method='POST';\nmsg.url=flow.get('RF_ENDPOINT')+'/api/v2/application';\nmsg.headers = {};\nmsg.headers ['x-api-key'] = flow.get('RFkey');\n\nif (msg.payload.length>1){\n    msg.payload=msg.payload[0];\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 1180,
        "wires": [
            [
                "2cdc841ce50d03b4",
                "c8b5d8fa14b0b5c6"
            ]
        ]
    },
    {
        "id": "c8b5d8fa14b0b5c6",
        "type": "http request",
        "z": "0796678ec01bc492",
        "name": "RF CALL",
        "method": "use",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "bearer",
        "x": 1280,
        "y": 1180,
        "wires": [
            [
                "934c59797f54a935"
            ]
        ]
    },
    {
        "id": "a59e13e5acb5a7d1",
        "type": "comment",
        "z": "0796678ec01bc492",
        "name": "TO RF",
        "info": "This needs to have different branches in order to go to the RF, store the triples, then return, clear the msg.headers and merge with the one coming from the initial flow and needs to maintain the headers in order to return to the initial caller the app id from the RF",
        "x": 1290,
        "y": 1140,
        "wires": []
    },
    {
        "id": "236b8fc60333295c",
        "type": "inject",
        "z": "0796678ec01bc492",
        "name": "INITIALIZE RF ENDPOINT",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 160,
        "y": 220,
        "wires": [
            [
                "008038d60d83aa38"
            ]
        ]
    },
    {
        "id": "934c59797f54a935",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "clear headers",
        "func": "msg.headers={};\nmsg.payload=JSON.parse(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 1180,
        "wires": [
            [
                "c7dfa0dcabe55e29",
                "be43ca335a7fecac"
            ]
        ]
    },
    {
        "id": "8bd3197994599b4c",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Flow data",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 580,
        "wires": []
    },
    {
        "id": "2cdc841ce50d03b4",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "SEMANTIC EXTRACTOR OUTPUT GRAPH",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 1100,
        "wires": []
    },
    {
        "id": "4c90165d84edfbf5",
        "type": "change",
        "z": "0796678ec01bc492",
        "name": "Set RF ENDPOINT",
        "rules": [
            {
                "t": "set",
                "p": "RF_ENDPOINT",
                "pt": "flow",
                "to": "RFendpoint",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "RFkey",
                "pt": "flow",
                "to": "RFkey",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 220,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "94fadd8cd3e30b7f",
        "type": "inject",
        "z": "0796678ec01bc492",
        "name": "INITIALIZE TEST RF ENDPOINT",
        "props": [
            {
                "p": "RFendpoint",
                "v": "http://localhost:1880/test",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 630,
        "y": 260,
        "wires": [
            [
                "4c90165d84edfbf5"
            ]
        ]
    },
    {
        "id": "ccc68c2ef659f928",
        "type": "split",
        "z": "0796678ec01bc492",
        "name": "For each flow",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 140,
        "y": 580,
        "wires": [
            [
                "8bd3197994599b4c",
                "24be6d14aa80078d",
                "bd68d1d94ba50f71"
            ]
        ]
    },
    {
        "id": "9ff1fccc7106878f",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "High-level Application Semantic Transformation",
        "func": "const {\n    isUri,\n    addPropertyValue,\n} = flow.get(\"utilFunctions\");\n\nconst originalAppPayload = msg.payload;\nconst displayName = originalAppPayload.displayName;\n\nconst oldUserId = originalAppPayload.userId;\nlet newUserId = '';\nif (oldUserId) {\n    newUserId = isUri(oldUserId) ? oldUserId : `owner:${oldUserId}`;\n}\n\nmsg.payload = {\n    '@id': (oldUserId) ?\n        `${newUserId}/application/${displayName}` :\n        `app:${displayName}`,\n    '@type': 'Application',\n    'isTopLevelComposite': true, // Override the inference.\n}; // Application Semantic representation.\n\nif (oldUserId) addPropertyValue(\n    msg.payload,\n    'hasOwner',\n    newUserId,\n);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 520,
        "wires": [
            [
                "6a8a7bc8023caba4"
            ]
        ]
    },
    {
        "id": "6a8a7bc8023caba4",
        "type": "subflow:61834c2663a6ece6",
        "z": "0796678ec01bc492",
        "name": "Application",
        "env": [
            {
                "name": "totalcount",
                "value": "2",
                "type": "num"
            },
            {
                "name": "position",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 1030,
        "y": 880,
        "wires": [
            [
                "82f51106e729cb98"
            ]
        ]
    },
    {
        "id": "db2b48c0014d9364",
        "type": "join",
        "z": "0796678ec01bc492",
        "name": "Join all flows",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 130,
        "y": 1200,
        "wires": [
            [
                "887240fe58c3d28f"
            ]
        ]
    },
    {
        "id": "24be6d14aa80078d",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Separate Flow and Subflow definitions ",
        "func": "// Message for the specific flow\nlet flowMsg = msg;\nflowMsg.payload.nodes= [];\nconst flowNodes = flowMsg.payload.flow;\ndelete flowMsg.payload.flow;\n\n// Message containing all the required subflows.\nlet subflowsMsg = RED.util.cloneMessage(msg);\nsubflowsMsg.payload = {};\n\n// Error message to be propagated. It is not null when error occurs.\nlet errorMsg = RED.util.cloneMessage(msg);\nerrorMsg.payload = null;\n\nlet requiredSubflowIDs = [];\n\nfor (let flowNode of flowNodes) {\n    console.log('for');\n    if (flowNode.type == \"subflow\") {\n        subflowsMsg.payload[flowNode.id] = flowNode;\n        // Will be further pre-processed later.\n    } else {\n        console.log('to push');\n        flowMsg.payload.nodes.push(flowNode);\n        console.log(flowNode);\n        if (flowNode.type.includes(\"subflow:\")) {\n            requiredSubflowIDs.push(flowNode.type.split(':')[1]);\n        }\n        console.log('checked');\n    }\n}\n\n// Check that all subflow definitions exist.\nfor (let requiredID of requiredSubflowIDs) {\n    if ( !(requiredID in subflowsMsg.payload) ) {\n        errorMsg.payload = \"Missing one or more required subflow definitions. Please add missing subflow definitions in 'flow' array.\";\n        return [null, null, errorMsg];\n    }\n}\n\n// Set only acceptable fields\nflowMsg.payload.id = flowMsg.payload.flowID;\ndelete flowMsg.payload.flowID;\nflowMsg.payload.label = flowMsg.payload.flowName;\ndelete flowMsg.payload.flowName;\n// Only artifact and artifactType acceptable\nflowMsg.payload.artifactType = flowMsg.payload.type;\ndelete flowMsg.payload.type;\n\nreturn [subflowsMsg, flowMsg, errorMsg];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 640,
        "wires": [
            [
                "721ae66ad0a2ced5"
            ],
            [
                "793d33b965cc1004"
            ],
            [
                "22ac8b4242f8839d"
            ]
        ]
    },
    {
        "id": "ec8249f9f719ba4f",
        "type": "comment",
        "z": "0796678ec01bc492",
        "name": "Part from Application-level transformation",
        "info": "",
        "x": 1100,
        "y": 840,
        "wires": []
    },
    {
        "id": "721ae66ad0a2ced5",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Subflows Preprocessing",
        "func": "if (msg.payload == null) return;\n\nconst results = msg.payload;\n\nmsg.subflows = {};\nmsg.annotators = {};\n\nfor (const subflowId in results){\n    const subflow = results[subflowId];\n    msg.subflows[subflow.id] = subflow;\n    if(subflow.category == \"PHYSICS Annotators\"){\n        msg.annotators[subflow.id] = subflow;\n    }\n}\n\nmsg.payload = {};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 680,
        "wires": [
            [
                "f9fc6125152ca99a",
                "e5d2966b41f0a91c",
                "b1f585e544768ea7"
            ]
        ]
    },
    {
        "id": "22ac8b4242f8839d",
        "type": "switch",
        "z": "0796678ec01bc492",
        "name": "Error exists",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 110,
        "y": 700,
        "wires": [
            [
                "bd5d268580688bc0",
                "db2b48c0014d9364"
            ]
        ],
        "icon": "node-red/alert.svg"
    },
    {
        "id": "bd5d268580688bc0",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Error found",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 110,
        "y": 740,
        "wires": []
    },
    {
        "id": "f9fc6125152ca99a",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Subflows",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "subflows",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 640,
        "wires": []
    },
    {
        "id": "e5d2966b41f0a91c",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Annotators",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "annotators",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 720,
        "wires": []
    },
    {
        "id": "da7da8f9d3d94244",
        "type": "subflow:61834c2663a6ece6",
        "z": "0796678ec01bc492",
        "name": "part 1",
        "env": [
            {
                "name": "totalcount",
                "value": "2",
                "type": "num"
            },
            {
                "name": "position",
                "value": "1",
                "type": "num"
            }
        ],
        "x": 510,
        "y": 960,
        "wires": [
            [
                "678715d04369635f",
                "6c18786597bdbac5"
            ]
        ]
    },
    {
        "id": "b1f585e544768ea7",
        "type": "subflow:61834c2663a6ece6",
        "z": "0796678ec01bc492",
        "name": "Subflows",
        "env": [
            {
                "name": "totalcount",
                "value": "2",
                "type": "num"
            },
            {
                "name": "position",
                "value": "2",
                "type": "num"
            }
        ],
        "x": 780,
        "y": 860,
        "wires": [
            [
                "678715d04369635f",
                "1a724a4ac06407c9"
            ]
        ]
    },
    {
        "id": "678715d04369635f",
        "type": "join",
        "z": "0796678ec01bc492",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 690,
        "y": 980,
        "wires": [
            [
                "3d0328c7f5de6ae0",
                "7088f0cba24fe40e"
            ]
        ]
    },
    {
        "id": "3d0328c7f5de6ae0",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "TEST",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 980,
        "wires": []
    },
    {
        "id": "337cb411b60cd723",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Full",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 1140,
        "wires": []
    },
    {
        "id": "bd68d1d94ba50f71",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Full",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 600,
        "wires": []
    },
    {
        "id": "85d2685e7af99079",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Full",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 1080,
        "wires": []
    },
    {
        "id": "887240fe58c3d28f",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "Part from processed flows",
        "func": "return {\n    'payload': msg.payload,\n    'topic': msg.topic,\n    // Manual override of parts, in order to properly join with app\n    'parts': {\n        \"id\": msg.topic.replace('extract_', ''),\n        \"count\":2,\n        \"len\":1,\n        \"index\":1,\n        \"type\":\"array\"\n    }\n};",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 1280,
        "wires": [
            [
                "5df9c0e258fe6c41",
                "82f51106e729cb98"
            ]
        ]
    },
    {
        "id": "9059f5029f8c9120",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Full",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 1320,
        "wires": []
    },
    {
        "id": "c17dbb08bb518e50",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 540,
        "wires": []
    },
    {
        "id": "82f51106e729cb98",
        "type": "join",
        "z": "0796678ec01bc492",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 530,
        "y": 1280,
        "wires": [
            [
                "e6b716201e2e8408"
            ]
        ]
    },
    {
        "id": "1a724a4ac06407c9",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 820,
        "wires": []
    },
    {
        "id": "6c18786597bdbac5",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 920,
        "wires": []
    },
    {
        "id": "5df9c0e258fe6c41",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "Full",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 1320,
        "wires": []
    },
    {
        "id": "6fa15c76125aac4f",
        "type": "comment",
        "z": "0796678ec01bc492",
        "name": "prepares JSON-LD in Array-Notation",
        "info": "",
        "x": 740,
        "y": 1240,
        "wires": []
    },
    {
        "id": "c7dfa0dcabe55e29",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "RF CALL",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1660,
        "y": 1100,
        "wires": []
    },
    {
        "id": "1237ad544df57164",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "",
        "func": "if (! msg.payload || !msg.payload.flows){\n    msg.data=\"Invalid input\";\n    msg.payload=\"Empty input\";\n    return [msg,null];\n}\n\nif (msg.payload.flows.length==0){\n    msg.data='Flows can not be empty';\n    msg.payload='Flows can not be empty';\n    return [msg,null];\n} else {\n    return [null,msg];\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 400,
        "wires": [
            [
                "ebef1e9e70c27339"
            ],
            [
                "c8b76501279b927f"
            ]
        ]
    },
    {
        "id": "ebef1e9e70c27339",
        "type": "http response",
        "z": "0796678ec01bc492",
        "name": "",
        "statusCode": "400",
        "headers": {},
        "x": 640,
        "y": 380,
        "wires": []
    },
    {
        "id": "a9cd39e968620ff5",
        "type": "debug",
        "z": "0796678ec01bc492",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 210,
        "y": 400,
        "wires": []
    },
    {
        "id": "cd4dc6f2aaaa2e04",
        "type": "http response",
        "z": "0796678ec01bc492",
        "name": "HTTP Out",
        "statusCode": "",
        "headers": {},
        "x": 1080,
        "y": 1300,
        "wires": []
    },
    {
        "id": "24c6b9ddf069c7cc",
        "type": "http in",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "url": "test/api/v2/application",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 560,
        "y": 100,
        "wires": [
            [
                "fc442c6b876cef36",
                "e1114a91639b6a8d"
            ]
        ]
    },
    {
        "id": "d64cef938fe06788",
        "type": "http response",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 990,
        "y": 100,
        "wires": []
    },
    {
        "id": "fc442c6b876cef36",
        "type": "function",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "func": "msg.payload={};\nmsg.payload.id=\"App ID is:\"+Math.random();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 100,
        "wires": [
            [
                "d64cef938fe06788"
            ]
        ]
    },
    {
        "id": "c41d38b6f7c51475",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Full Example 1",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"flows\":[{\"flowID\":\"39ef55a8.55f96a\",\"flowName\":\"fromBlazej\",\"flow\":[{\"id\":\"39ef55a8.55f96a\",\"type\":\"tab\",\"label\":\"Flow 1\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f70d642d7d615561\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":180,\"wires\":[[\"a8ea37eb3bb8cf23\"]]},{\"id\":\"ee0278d90f6393a9\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":280,\"wires\":[[\"f52b7bec399e315a\"]]},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":730,\"y\":180,\"wires\":[]},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":870,\"y\":380,\"wires\":[]},{\"id\":\"f52b7bec399e315a\",\"type\":\"function\",\"z\":\"39ef55a8.55f96a\",\"name\":\"hello world\",\"func\":\"//@locality=edge\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":630,\"y\":280,\"wires\":[[\"ab91c6c51decfbab\"]]},{\"id\":\"47d1123d17b41031\",\"type\":\"comment\",\"z\":\"39ef55a8.55f96a\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":440,\"y\":360,\"wires\":[]},{\"id\":\"9eba693a7b11c208\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":360,\"y\":440,\"wires\":[]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:149\",\"type\":\"image\"},{\"flowID\":\"39ef55a8.55f96a\",\"flowName\":\"flow2\",\"flow\":[{\"id\":\"39ef55a8.55f96a\",\"type\":\"tab\",\"label\":\"Flow 2\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f70d642d7d615561\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":180,\"wires\":[[\"a8ea37eb3bb8cf23\"]]},{\"id\":\"ee0278d90f6393a9\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":280,\"wires\":[[\"f52b7bec399e315a\"]]},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":730,\"y\":180,\"wires\":[]},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":870,\"y\":380,\"wires\":[]},{\"id\":\"f52b7bec399e315a\",\"type\":\"function\",\"z\":\"39ef55a8.55f96a\",\"name\":\"hello world\",\"func\":\"//@locality=edge\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":630,\"y\":280,\"wires\":[[\"ab91c6c51decfbab\"]]},{\"id\":\"47d1123d17b41031\",\"type\":\"comment\",\"z\":\"39ef55a8.55f96a\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":440,\"y\":360,\"wires\":[]},{\"id\":\"9eba693a7b11c208\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"Service\",\"type\":\"str\"}],\"x\":360,\"y\":440,\"wires\":[]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:149\",\"type\":\"image\"},{\"flowID\":\"7c6a3de135b840c5\",\"flowName\":\"fromManualExport_HelloNRFunction\",\"flow\":[{\"id\":\"dd8835083692860a\",\"type\":\"subflow\",\"name\":\"SizingAnnotator\",\"info\":\"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",\"category\":\"PHYSICS Annotators\",\"in\":[{\"x\":120,\"y\":60,\"wires\":[{\"id\":\"c66966a2d36f06b5\"}]}],\"out\":[{\"x\":440,\"y\":60,\"wires\":[{\"id\":\"c66966a2d36f06b5\",\"port\":0}]}],\"env\":[{\"name\":\"memory\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"label\":{\"en-US\":\"Memory (MB)\"}}},{\"name\":\"timeout\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"icon\":\"font-awesome/fa-times-circle-o\",\"label\":{\"en-US\":\"Timeout (millisecs)\"}}}],\"meta\":{},\"color\":\"#E9967A\",\"icon\":\"font-awesome/fa-arrows-h\"},{\"id\":\"c66966a2d36f06b5\",\"type\":\"function\",\"z\":\"dd8835083692860a\",\"name\":\"add sizing\",\"func\":\"\\nmsg.annotations={};\\nmsg.annotations.sizing={};\\nmsg.annotations.sizing.memory=env.get('memory');\\nmsg.annotations.sizing.timeout=env.get('timeout');\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":300,\"y\":60,\"wires\":[[]]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"7c6a3de135b840c5\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"dbb496ac5b4b1756\",\"type\":\"http in\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":260,\"y\":140,\"wires\":[[\"dfd5d7f2a1e4bdce\"]]},{\"id\":\"b3ae2348a7357f89\",\"type\":\"http in\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":260,\"y\":240,\"wires\":[[\"247a1728e0231123\"]]},{\"id\":\"dfd5d7f2a1e4bdce\",\"type\":\"http response\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"x\":560,\"y\":140,\"wires\":[]},{\"id\":\"6d597da6d88a144a\",\"type\":\"http response\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"x\":690,\"y\":320,\"wires\":[]},{\"id\":\"247a1728e0231123\",\"type\":\"function\",\"z\":\"7c6a3de135b840c5\",\"name\":\"hello world\",\"func\":\"//@importance=high\\n//@OptimizationGoal=performance\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":550,\"y\":240,\"wires\":[[\"6d597da6d88a144a\"]]},{\"id\":\"d2f80557dffd0854\",\"type\":\"comment\",\"z\":\"7c6a3de135b840c5\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":360,\"y\":320,\"wires\":[]},{\"id\":\"164958dd7f2a7c37\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":310,\"y\":440,\"wires\":[]},{\"id\":\"ed773d649e8294b1\",\"type\":\"subflow:dd8835083692860a\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"env\":[{\"name\":\"memory\",\"value\":\"512\",\"type\":\"num\"},{\"name\":\"timeout\",\"value\":\"120000\",\"type\":\"num\"}],\"x\":300,\"y\":540,\"wires\":[[]]}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:149\",\"type\":\"image\"}],\"displayName\":\"myapp\",\"userId\":\"test\"}",
        "payloadType": "json",
        "x": 180,
        "y": 600,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "2017ddca62b26917",
        "type": "http request",
        "z": "75bc5fa0db2ad379",
        "name": "Call Extractor (/extract)",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:1880/extract/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 700,
        "y": 380,
        "wires": [
            [
                "c88c716c82357828"
            ]
        ]
    },
    {
        "id": "c88c716c82357828",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "Extractor Output (/extract)",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 380,
        "wires": []
    },
    {
        "id": "226e949bceb1780b",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "DUMMY RF ENDPOINT",
        "info": "",
        "x": 570,
        "y": 60,
        "wires": []
    },
    {
        "id": "e1114a91639b6a8d",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "Extractor Output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 60,
        "wires": []
    },
    {
        "id": "56af61cbaa95fd75",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Single Flow Example",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"flows\":[{\"flowID\":\"39ef55a8.55f96a\",\"flowName\":\"flow2\",\"flow\":[{\"id\":\"39ef55a8.55f96a\",\"type\":\"tab\",\"label\":\"Flow 2\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f70d642d7d615561\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":180,\"wires\":[[\"a8ea37eb3bb8cf23\"]]},{\"id\":\"ee0278d90f6393a9\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":280,\"wires\":[[\"f52b7bec399e315a\"]]},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":730,\"y\":180,\"wires\":[]},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":870,\"y\":380,\"wires\":[]},{\"id\":\"f52b7bec399e315a\",\"type\":\"function\",\"z\":\"39ef55a8.55f96a\",\"name\":\"hello world\",\"func\":\"//@locality=edge\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":630,\"y\":280,\"wires\":[[\"ab91c6c51decfbab\"]]},{\"id\":\"47d1123d17b41031\",\"type\":\"comment\",\"z\":\"39ef55a8.55f96a\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":440,\"y\":360,\"wires\":[]},{\"id\":\"9eba693a7b11c208\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"Service\",\"type\":\"str\"}],\"x\":360,\"y\":440,\"wires\":[]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:149\",\"type\":\"image\"}],\"displayName\":\"myapp\",\"userId\":\"test\"}",
        "payloadType": "json",
        "x": 160,
        "y": 640,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "f1b5b1d97b894b47",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Full Example 2 - BΕ‚aΕΌej",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"flows\":[{\"flowID\":\"39ef55a8.55f96a\",\"flowName\":\"Flow 1\",\"flow\":[{\"id\":\"39ef55a8.55f96a\",\"type\":\"tab\",\"label\":\"Flow 1\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f70d642d7d615561\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":180,\"wires\":[[\"a8ea37eb3bb8cf23\"]]},{\"id\":\"ee0278d90f6393a9\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":280,\"wires\":[[\"f52b7bec399e315a\"]]},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":750,\"y\":180,\"wires\":[]},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":870,\"y\":380,\"wires\":[]},{\"id\":\"f52b7bec399e315a\",\"type\":\"function\",\"z\":\"39ef55a8.55f96a\",\"name\":\"hello world\",\"func\":\"//@locality=edge\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":630,\"y\":280,\"wires\":[[\"ab91c6c51decfbab\"]]},{\"id\":\"47d1123d17b41031\",\"type\":\"comment\",\"z\":\"39ef55a8.55f96a\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":440,\"y\":360,\"wires\":[]},{\"id\":\"9eba693a7b11c208\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":360,\"y\":440,\"wires\":[]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:336\",\"type\":\"image\"},{\"flowID\":\"cc2deec41633e5c5\",\"flowName\":\"Flow 3\",\"flow\":[{\"id\":\"cc2deec41633e5c5\",\"type\":\"tab\",\"label\":\"Flow 3\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f38afd56aac635ef\",\"type\":\"inject\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"props\":[{\"p\":\"payload\"},{\"p\":\"topic\",\"vt\":\"str\"}],\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"onceDelay\":0.1,\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"x\":250,\"y\":200,\"wires\":[[\"b2170a569c9343b3\"]]},{\"id\":\"b2170a569c9343b3\",\"type\":\"debug\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"active\":true,\"tosidebar\":true,\"console\":false,\"tostatus\":false,\"complete\":\"false\",\"statusVal\":\"\",\"statusType\":\"auto\",\"x\":680,\"y\":200,\"wires\":[]}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:337\",\"type\":\"image\"},{\"flowID\":\"4db7e870886c7c0b\",\"flowName\":\"Flow 2\",\"flow\":[{\"id\":\"4db7e870886c7c0b\",\"type\":\"tab\",\"label\":\"Flow 2\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"339d2ef8b0b29795\",\"type\":\"function\",\"z\":\"4db7e870886c7c0b\",\"name\":\"hello\",\"func\":\"//@sizingGB=512\\nmsg.payload=msg.payload+' hello';\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":450,\"y\":180,\"wires\":[[\"3a807141f16764a5\"]]},{\"id\":\"3a807141f16764a5\",\"type\":\"function\",\"z\":\"4db7e870886c7c0b\",\"name\":\"world\",\"func\":\"//implies affinity with the other function in the sequence\\n//@affinity=hello\\nmsg.payload=msg.payload+' world';\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":600,\"y\":180,\"wires\":[[]]},{\"id\":\"65122a1f84227ecc\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"4db7e870886c7c0b\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NativeSequence\",\"type\":\"str\"}],\"x\":500,\"y\":300,\"wires\":[]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:339\",\"type\":\"image\"}],\"displayName\":\"Application\"}",
        "payloadType": "json",
        "x": 150,
        "y": 560,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "94147ba73bbcdf30",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Full Example 3 - BΕ‚aΕΌej",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"flows\":[{\"flowID\":\"4db7e870886c7c0b\",\"flowName\":\"Flow 2\",\"flow\":[{\"id\":\"4db7e870886c7c0b\",\"type\":\"tab\",\"label\":\"Flow 2\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"339d2ef8b0b29795\",\"type\":\"function\",\"z\":\"4db7e870886c7c0b\",\"name\":\"hello\",\"func\":\"//@sizingGB=512\\nmsg.payload=msg.payload+' hello';\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":450,\"y\":180,\"wires\":[[\"3a807141f16764a5\"]]},{\"id\":\"3a807141f16764a5\",\"type\":\"function\",\"z\":\"4db7e870886c7c0b\",\"name\":\"world\",\"func\":\"//implies affinity with the other function in the sequence\\n//@affinity=hello\\nmsg.payload=msg.payload+' world';\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":600,\"y\":180,\"wires\":[[]]},{\"id\":\"65122a1f84227ecc\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"4db7e870886c7c0b\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NativeSequence\",\"type\":\"str\"}],\"x\":500,\"y\":300,\"wires\":[]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:339\",\"type\":\"image\"},{\"flowID\":\"cc2deec41633e5c5\",\"flowName\":\"Flow 3\",\"flow\":[{\"id\":\"cc2deec41633e5c5\",\"type\":\"tab\",\"label\":\"Flow 3\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"5c8da9762f97a3f1\",\"type\":\"http in\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":400,\"y\":140,\"wires\":[[\"229225a4e2f90872\"]]},{\"id\":\"e74e390697949e2f\",\"type\":\"http in\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":400,\"y\":240,\"wires\":[[\"4ea933e751def073\"]]},{\"id\":\"229225a4e2f90872\",\"type\":\"http response\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"x\":700,\"y\":140,\"wires\":[]},{\"id\":\"0e905e275931444c\",\"type\":\"http response\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"x\":830,\"y\":320,\"wires\":[]},{\"id\":\"4ea933e751def073\",\"type\":\"function\",\"z\":\"cc2deec41633e5c5\",\"name\":\"hello world\",\"func\":\"//@importance=high\\n//@OptimizationGoal=performance\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":690,\"y\":240,\"wires\":[[\"0e905e275931444c\"]]},{\"id\":\"83c3128c0abb7536\",\"type\":\"comment\",\"z\":\"cc2deec41633e5c5\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":500,\"y\":320,\"wires\":[]},{\"id\":\"187f434a09549e3d\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":450,\"y\":440,\"wires\":[]},{\"id\":\"5049f15a6b1ebce2\",\"type\":\"subflow:2d47e35cedaacba2\",\"z\":\"cc2deec41633e5c5\",\"name\":\"\",\"env\":[{\"name\":\"memory\",\"value\":\"512\",\"type\":\"num\"},{\"name\":\"timeout\",\"value\":\"120000\",\"type\":\"num\"}],\"x\":440,\"y\":540,\"wires\":[[]]},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"},{\"id\":\"3f041663b504972d\",\"type\":\"function\",\"z\":\"2d47e35cedaacba2\",\"name\":\"add sizing\",\"func\":\"\\nmsg.annotations={};\\nmsg.annotations.sizing={};\\nmsg.annotations.sizing.memory=env.get('memory');\\nmsg.annotations.sizing.timeout=env.get('timeout');\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":300,\"y\":60,\"wires\":[[]]},{\"id\":\"502012d0546e46ab\",\"type\":\"comment\",\"z\":\"2d47e35cedaacba2\",\"name\":\"ADDITIONAL\",\"info\":\"resources:\\n      limits:\\n        memory: 128\\n      requests:\\n        cpu: 1\\n        memory: 128\\n    extraResources:\\n      gpu: true\\n      diskType: ssd\",\"x\":300,\"y\":200,\"wires\":[]},{\"id\":\"2d47e35cedaacba2\",\"type\":\"subflow\",\"name\":\"SizingAnnotator (2)\",\"info\":\"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",\"category\":\"PHYSICS Annotators\",\"in\":[{\"x\":120,\"y\":60,\"wires\":[{\"id\":\"3f041663b504972d\"}]}],\"out\":[{\"x\":440,\"y\":60,\"wires\":[{\"id\":\"3f041663b504972d\",\"port\":0}]}],\"env\":[{\"name\":\"memory\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"label\":{\"en-US\":\"Memory (MB)\"}}},{\"name\":\"timeout\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"icon\":\"font-awesome/fa-times-circle-o\",\"label\":{\"en-US\":\"Timeout (millisecs)\"}}}],\"meta\":{},\"color\":\"#E9967A\",\"icon\":\"font-awesome/fa-arrows-h\"}],\"artifact\":\"https://registry.apps.ocphub.physics-faas.eu/custom:340\",\"type\":\"image\"}],\"displayName\":\"Application\"}",
        "payloadType": "json",
        "x": 150,
        "y": 520,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "615b5e23fdb900ca",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Test Hello DMS App",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{   \"flows\": [     {       \"flowID\": \"3dc59d6aea6e35a4\",       \"flowName\": \"Hello_DMS\",       \"flow\": [         {           \"id\": \"3dc59d6aea6e35a4\",           \"type\": \"tab\",           \"label\": \"Hello_DMS\",           \"disabled\": false,           \"info\": \"\",           \"env\": []         },         {           \"id\": \"3acefcfb6e6a91ea\",           \"type\": \"http in\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"url\": \"/init\",           \"method\": \"post\",           \"upload\": false,           \"swaggerDoc\": \"\",           \"x\": 360,           \"y\": 160,           \"wires\": [             [               \"8cf8bcdd0361dcf7\"             ]           ]         },         {           \"id\": \"b519f76492b660c7\",           \"type\": \"http in\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"url\": \"/run\",           \"method\": \"post\",           \"upload\": false,           \"swaggerDoc\": \"\",           \"x\": 360,           \"y\": 260,           \"wires\": [             [               \"2347840f70beb926\",               \"1b65c81292a1cc77\"             ]           ]         },         {           \"id\": \"8cf8bcdd0361dcf7\",           \"type\": \"http response\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"x\": 660,           \"y\": 160,           \"wires\": []         },         {           \"id\": \"d484c0db85f77685\",           \"type\": \"http response\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"x\": 930,           \"y\": 320,           \"wires\": []         },         {           \"id\": \"2347840f70beb926\",           \"type\": \"function\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"hello world\",           \"func\": \"\\nconsole.log(msg);\\nmsg.payload='hello '+msg.payload.value.name;\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 570,           \"y\": 260,           \"wires\": [             [               \"223f577e6b96a222\"             ]           ]         },         {           \"id\": \"7f89bdaad11eb775\",           \"type\": \"comment\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"OW SKELETON with hello world function\",           \"info\": \"\",           \"x\": 460,           \"y\": 340,           \"wires\": []         },         {           \"id\": \"dc598c2fb4701083\",           \"type\": \"subflow:694cb784968dc0b9\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"env\": [             {               \"name\": \"Executor Mode\",               \"value\": \"NoderedFunction\",               \"type\": \"str\"             }           ],           \"x\": 220,           \"y\": 420,           \"wires\": []         },         {           \"id\": \"1fcff8400467c8f4\",           \"type\": \"subflow:dd8835083692860a\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"env\": [             {               \"name\": \"memory\",               \"value\": \"512\",               \"type\": \"num\"             },             {               \"name\": \"timeout\",               \"value\": \"120000\",               \"type\": \"num\"             }           ],           \"x\": 220,           \"y\": 480,           \"wires\": [             []           ]         },         {           \"id\": \"cbb90d5abd6aeb85\",           \"type\": \"subflow:f0b9b88b6dcb2ece\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"env\": [             {               \"name\": \"goal\",               \"value\": \"performance\",               \"type\": \"str\"             }           ],           \"x\": 270,           \"y\": 540,           \"wires\": []         },         {           \"id\": \"a928d25a87bb1f70\",           \"type\": \"subflow:94dffc86e4af9a58\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"env\": [             {               \"name\": \"importance\",               \"value\": \"high\",               \"type\": \"str\"             }           ],           \"x\": 240,           \"y\": 600,           \"wires\": []         },         {           \"id\": \"e92d973a0c36b990\",           \"type\": \"subflow:05f045b87080a61e\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"env\": [             {               \"name\": \"locality\",               \"value\": \"aws\",               \"type\": \"str\"             }           ],           \"x\": 230,           \"y\": 660,           \"wires\": []         },         {           \"id\": \"223f577e6b96a222\",           \"type\": \"function\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"write\",           \"func\": \"var data=msg.payload;\\nmsg.payload={};\\nmsg.payload.data=data;\\nmsg.data=data;\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 750,           \"y\": 260,           \"wires\": [             [               \"0628036e6e37430a\",               \"cabbea3d9687c2e4\"             ]           ]         },         {           \"id\": \"0628036e6e37430a\",           \"type\": \"subflow:d5cdb05c4a8f64a4\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"write\",           \"env\": [             {               \"name\": \"dms_job_id\",               \"value\": \"ss\",               \"type\": \"str\"             },             {               \"name\": \"dms_pocket_dst_file\",               \"value\": \"dd\",               \"type\": \"str\"             },             {               \"name\": \"dms_operation\",               \"value\": \"dms-w\",               \"type\": \"str\"             },             {               \"name\": \"creds\",               \"type\": \"cred\"             },             {               \"name\": \"dms_size\",               \"value\": \"10\",               \"type\": \"num\"             }           ],           \"x\": 650,           \"y\": 320,           \"wires\": [             [               \"3402a8de3203b61c\",               \"7988bc52cb5a9350\"             ]           ]         },         {           \"id\": \"3402a8de3203b61c\",           \"type\": \"function\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"results\",           \"func\": \"var input=msg.payload;\\n\\nmsg.payload={};\\nmsg.payload.dmsResult=input.response.result;\\nmsg.payload.data=msg.data;\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 770,           \"y\": 320,           \"wires\": [             [               \"d484c0db85f77685\",               \"690e6fa8cb324459\"             ]           ]         },         {           \"id\": \"1b65c81292a1cc77\",           \"type\": \"debug\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"false\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 530,           \"y\": 200,           \"wires\": []         },         {           \"id\": \"cabbea3d9687c2e4\",           \"type\": \"debug\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"false\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 950,           \"y\": 260,           \"wires\": []         },         {           \"id\": \"7988bc52cb5a9350\",           \"type\": \"debug\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"false\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 730,           \"y\": 460,           \"wires\": []         },         {           \"id\": \"690e6fa8cb324459\",           \"type\": \"debug\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"false\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 930,           \"y\": 520,           \"wires\": []         },         {           \"id\": \"f6e5aeef996faf78\",           \"type\": \"subflow:789351ac.02c9d\",           \"z\": \"3dc59d6aea6e35a4\",           \"name\": \"\",           \"x\": 630,           \"y\": 620,           \"wires\": [             [],             [],             []           ]         },         {           \"id\": \"82b665f654048ecf\",           \"type\": \"function\",           \"z\": \"694cb784968dc0b9\",           \"name\": \"\",           \"func\": \"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 360,           \"y\": 140,           \"wires\": [             []           ]         },         {           \"id\": \"eeb5210da7efebd3\",           \"type\": \"comment\",           \"z\": \"694cb784968dc0b9\",           \"name\": \"Instructions\",           \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",           \"x\": 560,           \"y\": 280,           \"wires\": []         },         {           \"id\": \"694cb784968dc0b9\",           \"type\": \"subflow\",           \"name\": \"Executor Mode\",           \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",           \"category\": \"PHYSICS Annotators\",           \"in\": [],           \"out\": [],           \"env\": [             {               \"name\": \"Executor Mode\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"type\": \"select\",                 \"opts\": {                   \"opts\": [                     {                       \"l\": {                         \"en-US\": \"Service\"                       },                       \"v\": \"Service\"                     },                     {                       \"l\": {                         \"en-US\": \"NoderedFunction\"                       },                       \"v\": \"NoderedFunction\"                     },                     {                       \"l\": {                         \"en-US\": \"NativeSequence\"                       },                       \"v\": \"NativeSequence\"                     }                   ]                 }               }             }           ],           \"meta\": {},           \"color\": \"#C0DEED\",           \"icon\": \"font-awesome/fa-angle-right\"         },         {           \"id\": \"c66966a2d36f06b5\",           \"type\": \"function\",           \"z\": \"dd8835083692860a\",           \"name\": \"add sizing\",           \"func\": \"\\nmsg.annotations={};\\nmsg.annotations.sizing={};\\nmsg.annotations.sizing.memory=env.get('memory');\\nmsg.annotations.sizing.timeout=env.get('timeout');\\n\\nreturn msg;\\n\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 300,           \"y\": 60,           \"wires\": [             []           ]         },         {           \"id\": \"dd8835083692860a\",           \"type\": \"subflow\",           \"name\": \"SizingAnnotator\",           \"info\": \"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",           \"category\": \"PHYSICS Annotators\",           \"in\": [             {               \"x\": 120,               \"y\": 60,               \"wires\": [                 {                   \"id\": \"c66966a2d36f06b5\"                 }               ]             }           ],           \"out\": [             {               \"x\": 440,               \"y\": 60,               \"wires\": [                 {                   \"id\": \"c66966a2d36f06b5\",                   \"port\": 0                 }               ]             }           ],           \"env\": [             {               \"name\": \"memory\",               \"type\": \"num\",               \"value\": \"\",               \"ui\": {                 \"label\": {                   \"en-US\": \"Memory (MB)\"                 }               }             },             {               \"name\": \"timeout\",               \"type\": \"num\",               \"value\": \"\",               \"ui\": {                 \"icon\": \"font-awesome/fa-times-circle-o\",                 \"label\": {                   \"en-US\": \"Timeout (millisecs)\"                 }               }             }           ],           \"meta\": {},           \"color\": \"#E9967A\",           \"icon\": \"font-awesome/fa-arrows-h\"         },         {           \"id\": \"5697feaf2b80f2ef\",           \"type\": \"function\",           \"z\": \"f0b9b88b6dcb2ece\",           \"name\": \"\",           \"func\": \"\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 190,           \"y\": 80,           \"wires\": [             []           ]         },         {           \"id\": \"f0b9b88b6dcb2ece\",           \"type\": \"subflow\",           \"name\": \"Optimization Goal (Flow Level)\",           \"info\": \"\",           \"category\": \"PHYSICS Annotators\",           \"in\": [],           \"out\": [],           \"env\": [             {               \"name\": \"goal\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"type\": \"select\",                 \"opts\": {                   \"opts\": [                     {                       \"l\": {                         \"en-US\": \"performance\"                       },                       \"v\": \"performance\"                     },                     {                       \"l\": {                         \"en-US\": \"energy\"                       },                       \"v\": \"energy\"                     },                     {                       \"l\": {                         \"en-US\": \"availability\"                       },                       \"v\": \"availability\"                     }                   ]                 }               }             }           ],           \"meta\": {},           \"color\": \"#FFAAAA\",           \"icon\": \"font-awesome/fa-sliders\"         },         {           \"id\": \"0ac25ab60b652265\",           \"type\": \"function\",           \"z\": \"94dffc86e4af9a58\",           \"name\": \"\",           \"func\": \"msg.annotations={};\\nmsg.annotations.importance=env.get('importance');\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 200,           \"y\": 80,           \"wires\": [             []           ]         },         {           \"id\": \"94dffc86e4af9a58\",           \"type\": \"subflow\",           \"name\": \"Importance (Flow level)\",           \"info\": \"\",           \"category\": \"PHYSICS Annotators\",           \"in\": [],           \"out\": [],           \"env\": [             {               \"name\": \"importance\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"type\": \"select\",                 \"opts\": {                   \"opts\": [                     {                       \"l\": {                         \"en-US\": \"high\"                       },                       \"v\": \"high\"                     },                     {                       \"l\": {                         \"en-US\": \"medium\"                       },                       \"v\": \"medium\"                     },                     {                       \"l\": {                         \"en-US\": \"low\"                       },                       \"v\": \"low\"                     }                   ]                 }               }             }           ],           \"meta\": {},           \"color\": \"#3FADB5\",           \"icon\": \"node-red/alert.svg\"         },         {           \"id\": \"79574bee858dc748\",           \"type\": \"function\",           \"z\": \"05f045b87080a61e\",           \"name\": \"\",           \"func\": \"\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 420,           \"y\": 140,           \"wires\": [             []           ]         },         {           \"id\": \"05f045b87080a61e\",           \"type\": \"subflow\",           \"name\": \"Locality(flow level)\",           \"info\": \"\",           \"category\": \"PHYSICS Annotators\",           \"in\": [],           \"out\": [],           \"env\": [             {               \"name\": \"locality\",               \"type\": \"str\",               \"value\": \"\"             }           ],           \"meta\": {},           \"color\": \"#D8BFD8\",           \"icon\": \"font-awesome/fa-braille\"         },         {           \"id\": \"795bfb0aa4e6606a\",           \"type\": \"tls-config\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"\",           \"cert\": \"\",           \"key\": \"\",           \"ca\": \"\",           \"certname\": \"\",           \"keyname\": \"\",           \"caname\": \"\",           \"servername\": \"\",           \"verifyservercert\": false,           \"alpnprotocol\": \"\"         },         {           \"id\": \"b1565887a7f49105\",           \"type\": \"function\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"adapt\",           \"func\": \"\\nif (msg.hasOwnProperty('dms_job_id')){\\n} else {\\n    msg.dms_job_id=env.get('dms_job_id');\\n}\\n\\nif (msg.hasOwnProperty('dms_size')){\\n} else {\\n    msg.dms_size=env.get('dms_size');\\n}\\n\\nif (msg.hasOwnProperty('dms_location')){\\n} else {\\n    msg.dms_location=env.get('dms_location');\\n}\\n\\n\\nif (msg.hasOwnProperty('dms_operation')){\\n} else {\\n    msg.dms_operation=env.get('dms_operation');\\n}\\n\\nif (msg.hasOwnProperty('dms_namespace')){\\n} else {\\n    msg.namespace=env.get('dms_namespace');\\n}\\n\\n\\nif (msg.hasOwnProperty('dms_pocket_dst_file')){\\n    //msg.dms_pocket_dst_file=msg.payload.dms_pocket_dst_file;\\n} else {\\n    msg.dms_pocket_dst_file=env.get('dms_pocket_dst_file');\\n}\\n\\nif (msg.hasOwnProperty('creds')){\\n    //msg.creds=msg.payload.dms_namespace;\\n} else {\\n    msg.creds=env.get('creds');\\n}\\n\\n\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 250,           \"y\": 80,           \"wires\": [             [               \"ccb0503362a32b2a\",               \"4856665561ef0433\"             ]           ]         },         {           \"id\": \"ccb0503362a32b2a\",           \"type\": \"function\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"insert action invocation url and auth\",           \"func\": \"//msg.url='http://10.100.59.182:3233/api/v1/namespaces/guest/actions/dockeraction';\\nmsg.url=msg.dms_location+'/namespaces/'+msg.namespace+'/actions/'+msg.dms_operation;\\n\\nconsole.log(msg.creds);\\nmsg.creds='178f79b4-4540-449c-a815-f3b50602aeca:0EWLwLLxVWFsBrW4Lq7Y1EuTYRcfVSsYjXQANDQ78nO9tgzT6B2nui2whli9wlc5';\\nmsg.headers={};\\nvar auth = 'Basic ' + new Buffer(msg.creds).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\n\\nmsg.payload.jobid=msg.dms_job_id;\\nmsg.payload.pocketFile= msg.dms_pocket_dst_file;\\nmsg.payload.size=msg.dms_size;\\n\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 340,           \"y\": 140,           \"wires\": [             [               \"3457bb2065109dc6\",               \"2c3be5d81299426d\"             ]           ]         },         {           \"id\": \"3457bb2065109dc6\",           \"type\": \"http request\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"\",           \"method\": \"POST\",           \"ret\": \"obj\",           \"paytoqs\": \"ignore\",           \"url\": \"\",           \"tls\": \"795bfb0aa4e6606a\",           \"persist\": false,           \"proxy\": \"\",           \"authType\": \"basic\",           \"x\": 290,           \"y\": 200,           \"wires\": [             [               \"28af37e1ffcddb70\",               \"2faee81a277aefcd\"             ]           ]         },         {           \"id\": \"28af37e1ffcddb70\",           \"type\": \"function\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"add OW activation id from reply\",           \"func\": \"\\nmsg.activationID=msg.headers['x-openwhisk-activation-id'];\\n\\n//msg.url='http://10.100.59.182:3233/api/v1/namespaces/_/activations/'+msg.activationID;\\n\\nmsg.url=msg.dms_location+'/namespaces/'+msg.namespace+'/activations/'+msg.activationID;\\n\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 350,           \"y\": 260,           \"wires\": [             [               \"f8348bbae5afdb07\"             ]           ]         },         {           \"id\": \"f8348bbae5afdb07\",           \"type\": \"subflow:789351ac.02c9d\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"\",           \"env\": [             {               \"name\": \"maxAttempts\",               \"value\": \"20\",               \"type\": \"str\"             },             {               \"name\": \"pollPeriod\",               \"value\": \"10000\",               \"type\": \"str\"             },             {               \"name\": \"method\",               \"value\": \"POST\",               \"type\": \"str\"             },             {               \"name\": \"functionChain\",               \"value\": \"false\",               \"type\": \"bool\"             }           ],           \"x\": 330,           \"y\": 320,           \"wires\": [             [],             [               \"e5351303862f506c\"             ],             []           ]         },         {           \"id\": \"f3dce7600cf573ec\",           \"type\": \"debug\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"SUCCESS\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 930,           \"y\": 300,           \"wires\": []         },         {           \"id\": \"e5351303862f506c\",           \"type\": \"debug\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"RETRY FAIL\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 930,           \"y\": 340,           \"wires\": []         },         {           \"id\": \"9749a0001a768f9a\",           \"type\": \"debug\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"FINAL FAIL\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 930,           \"y\": 380,           \"wires\": []         },         {           \"id\": \"4856665561ef0433\",           \"type\": \"debug\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 440,           \"y\": 80,           \"wires\": []         },         {           \"id\": \"2c3be5d81299426d\",           \"type\": \"debug\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 570,           \"y\": 140,           \"wires\": []         },         {           \"id\": \"2faee81a277aefcd\",           \"type\": \"debug\",           \"z\": \"d5cdb05c4a8f64a4\",           \"name\": \"\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"statusVal\": \"\",           \"statusType\": \"auto\",           \"x\": 690,           \"y\": 200,           \"wires\": []         },         {           \"id\": \"d5cdb05c4a8f64a4\",           \"type\": \"subflow\",           \"name\": \"DMS Interface\",           \"info\": \"The data to be written needs to be included in the \\nmsg.payload.data.\\n\\nThe operation can be selected from the UI (Read/Write/Lookup) or can be set via the msg.operation field.\\n\\nThe job_id can be set from the UI  or can be set via the msg.job_id field. \\n\\nThe pocket destination file can be set from the UI  or can be set via the msg.pocket_dst_file field.\\n\\nThe pocket server location can be set from the UI or via the msg.dms_location field.\\n\\nThe credentials (user:key) for OW can be set either through the UI or through the msg.creds parameter.\\n\\nThe size parameter should be set either through the msg.dms_size or the UI.\\n\\nIn all cases, the incoming message parameters override the UI set ones. \\n\\nInternal dms function details:\\n * /wp4namespace/dms-w:\\n - input: '--param data \\\"hello world\\\" ' this param indicates the data to be stored in dms.\\n - output: return {\\\"jobid\\\": jobid, \\\"pocketFile\\\": pocketFile,  \\\"size\\\": len(text)} The jobid is the identifier of the file where is stored the information, the pocketFile is the path where the jobId file is stored and the len is the amount of data to read in MB. \\n * /wp4namespace/dms-r:\\n - input:  --param jobid \\\"jobidX\\\" --param pocketFile \\\"pocketFileX\\\" --param size 100.\\n - output: return {\\\"jobid\\\": jobid, \\\"pocketFile\\\": pocketFile}\\n * /wp4namespace/dms-l:\\n - input: --param jobid \\\"jobidX\\\" --param pocketFile \\\"pocketFileX\\\"\\n - output:  return {\\\"result\\\": result} True if exists, false otherwise\",           \"category\": \"PHYSICS Annotators\",           \"in\": [             {               \"x\": 100,               \"y\": 80,               \"wires\": [                 {                   \"id\": \"b1565887a7f49105\"                 }               ]             }           ],           \"out\": [             {               \"x\": 740,               \"y\": 260,               \"wires\": [                 {                   \"id\": \"f8348bbae5afdb07\",                   \"port\": 0                 },                 {                   \"id\": \"f8348bbae5afdb07\",                   \"port\": 2                 }               ]             }           ],           \"env\": [             {               \"name\": \"dms_location\",               \"type\": \"str\",               \"value\": \"https://openwhisk.apps.ocphub.physics-faas.eu/api/v1\"             },             {               \"name\": \"dms_job_id\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"label\": {                   \"en-US\": \"Custom Job ID\"                 }               }             },             {               \"name\": \"dms_pocket_dst_file\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"label\": {                   \"en-US\": \"Destination File\"                 }               }             },             {               \"name\": \"dms_operation\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"type\": \"select\",                 \"opts\": {                   \"opts\": [                     {                       \"l\": {                         \"en-US\": \"Read\"                       },                       \"v\": \"dms-r\"                     },                     {                       \"l\": {                         \"en-US\": \"Write\"                       },                       \"v\": \"dms-w\"                     },                     {                       \"l\": {                         \"en-US\": \"Lookup\"                       },                       \"v\": \"dms-l\"                     }                   ]                 }               }             },             {               \"name\": \"dms_namespace\",               \"type\": \"str\",               \"value\": \"wp4namespace\",               \"ui\": {                 \"label\": {                   \"en-US\": \"OW namespace\"                 }               }             },             {               \"name\": \"creds\",               \"type\": \"cred\"             },             {               \"name\": \"dms_size\",               \"type\": \"num\",               \"value\": \"\",               \"ui\": {                 \"label\": {                   \"en-US\": \"size\"                 }               }             }           ],           \"meta\": {},           \"color\": \"#FFAAAA\",           \"icon\": \"font-awesome/fa-database\"         },         {           \"id\": \"2934f390.711324\",           \"type\": \"tls-config\",           \"z\": \"789351ac.02c9d\",           \"name\": \"\",           \"cert\": \"\",           \"key\": \"\",           \"ca\": \"\",           \"certname\": \"\",           \"keyname\": \"\",           \"caname\": \"\",           \"servername\": \"\",           \"verifyservercert\": false         },         {           \"id\": \"7d194c10.33b51c\",           \"type\": \"function\",           \"z\": \"789351ac.02c9d\",           \"name\": \"defaults+activation id\",           \"func\": \"\\nif (msg.hasOwnProperty('maxAttempts')){\\n    msg.iterations=msg.maxAttempts;\\n} else {\\n    msg.iterations=env.get('maxAttempts');\\n}\\n//needed to reset the iterations after function chaining\\nmsg.defaultAttempts=msg.iterations;\\n\\nif (msg.hasOwnProperty('pollPeriod')){\\n    \\n} else {\\n    msg.pollPeriod=env.get('pollPeriod');\\n}\\n\\nif (msg.hasOwnProperty('method')){\\n    \\n} else {\\n    msg.method=env.get('method');\\n}\\n\\nif (msg.hasOwnProperty('url')){\\n    \\n} else {\\n    msg.url=env.get('url');\\n}\\n\\nif (msg.hasOwnProperty('retryCode')){\\n    \\n} else {\\n    msg.retryCode=env.get('retryCode');\\n}\\n\\nif (msg.hasOwnProperty('acceptCode')){\\n    \\n} else {\\n    msg.acceptCode=env.get('acceptCode');\\n}\\n\\nif (msg.hasOwnProperty('creds')){\\n    \\n} else {\\n    msg.creds=env.get('creds');\\n}\\n\\nif (msg.hasOwnProperty('functionChain')){\\n    \\n} else {\\n    msg.functionChain=env.get('functionChain');\\n}\\n\\nif (msg.hasOwnProperty('inputData')){\\n    if (msg.inputData.hasOwnProperty('creds')){\\n        msg.creds=msg.inputData.creds;\\n    }\\n}\\n\\n\\n\\nmsg.delay=msg.pollPeriod;\\nmsg.start=Date.now();\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 200,           \"y\": 160,           \"wires\": [             [               \"cad17b04.a2b4d8\"             ]           ]         },         {           \"id\": \"4be3f205.3e8dc4\",           \"type\": \"function\",           \"z\": \"789351ac.02c9d\",           \"name\": \"iterations--\",           \"func\": \"msg.iterations=msg.iterations-1;\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"x\": 350,           \"y\": 300,           \"wires\": [             [               \"c2cf68b7.263d4\",               \"d8305759.866988\"             ]           ]         },         {           \"id\": \"c2cf68b7.263d4\",           \"type\": \"switch\",           \"z\": \"789351ac.02c9d\",           \"name\": \"if iterations finished\",           \"property\": \"iterations\",           \"propertyType\": \"msg\",           \"rules\": [             {               \"t\": \"gte\",               \"v\": \"1\",               \"vt\": \"num\"             },             {               \"t\": \"lt\",               \"v\": \"1\",               \"vt\": \"num\"             }           ],           \"checkall\": \"true\",           \"repair\": false,           \"outputs\": 2,           \"x\": 550,           \"y\": 300,           \"wires\": [             [               \"cad17b04.a2b4d8\"             ],             []           ]         },         {           \"id\": \"76299695.812bd8\",           \"type\": \"comment\",           \"z\": \"789351ac.02c9d\",           \"name\": \"SUCCESS\",           \"info\": \"\",           \"x\": 1100,           \"y\": 60,           \"wires\": []         },         {           \"id\": \"48093072.b17a6\",           \"type\": \"comment\",           \"z\": \"789351ac.02c9d\",           \"name\": \"FINAL FAIL\",           \"info\": \"\",           \"x\": 890,           \"y\": 360,           \"wires\": []         },         {           \"id\": \"d5960f2f.2e9448\",           \"type\": \"delay\",           \"z\": \"789351ac.02c9d\",           \"name\": \"delay\",           \"pauseType\": \"delayv\",           \"timeout\": \"5\",           \"timeoutUnits\": \"seconds\",           \"rate\": \"1\",           \"nbRateUnits\": \"1\",           \"rateUnits\": \"second\",           \"randomFirst\": \"1\",           \"randomLast\": \"5\",           \"randomUnits\": \"seconds\",           \"drop\": false,           \"outputs\": 1,           \"x\": 170,           \"y\": 300,           \"wires\": [             [               \"4be3f205.3e8dc4\"             ]           ]         },         {           \"id\": \"471b3d64.265894\",           \"type\": \"http request\",           \"z\": \"789351ac.02c9d\",           \"name\": \"\",           \"method\": \"GET\",           \"ret\": \"obj\",           \"paytoqs\": \"ignore\",           \"url\": \"\",           \"tls\": \"2934f390.711324\",           \"persist\": false,           \"proxy\": \"\",           \"authType\": \"\",           \"x\": 590,           \"y\": 160,           \"wires\": [             [               \"8694180b.ec1c68\"             ]           ]         },         {           \"id\": \"8694180b.ec1c68\",           \"type\": \"switch\",           \"z\": \"789351ac.02c9d\",           \"name\": \"Status code check\",           \"property\": \"statusCode\",           \"propertyType\": \"msg\",           \"rules\": [             {               \"t\": \"lte\",               \"v\": \"acceptCode\",               \"vt\": \"msg\"             },             {               \"t\": \"gte\",               \"v\": \"retryCode\",               \"vt\": \"msg\"             }           ],           \"checkall\": \"true\",           \"repair\": false,           \"outputs\": 2,           \"x\": 810,           \"y\": 160,           \"wires\": [             [               \"f9d0aba7.72382\"             ],             [               \"d5960f2f.2e9448\"             ]           ]         },         {           \"id\": \"ef03414f.ad9d78\",           \"type\": \"comment\",           \"z\": \"789351ac.02c9d\",           \"name\": \"RETRY FAIL\",           \"info\": \"\",           \"x\": 890,           \"y\": 260,           \"wires\": []         },         {           \"id\": \"66bbc0cf.0c62f\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"BEFORE AUTH\",           \"active\": true,           \"tosidebar\": true,           \"console\": false,           \"tostatus\": false,           \"complete\": \"true\",           \"targetType\": \"full\",           \"x\": 370,           \"y\": 100,           \"wires\": []         },         {           \"id\": \"13791c2d.8cea7c\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"URL\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"url\",           \"targetType\": \"msg\",           \"x\": 580,           \"y\": 100,           \"wires\": []         },         {           \"id\": \"cad17b04.a2b4d8\",           \"type\": \"function\",           \"z\": \"789351ac.02c9d\",           \"name\": \"add auth\",           \"func\": \"msg.headers={};\\nvar auth = 'Basic ' + new Buffer(msg.creds).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 420,           \"y\": 160,           \"wires\": [             [               \"471b3d64.265894\"             ]           ]         },         {           \"id\": \"f2b7c4e4.a24c3\",           \"type\": \"function\",           \"z\": \"789351ac.02c9d\",           \"name\": \"adapt to new activation\",           \"func\": \"\\n\\nmsg.url=msg.payload.response.result.newActivationIDURL;\\nmsg.iterations=msg.defaultAttempts+1;\\nconsole.log('IN ADAPTATION TO ACTIVATION',msg.url);\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 1500,           \"y\": 160,           \"wires\": [             [               \"d5960f2f.2e9448\",               \"ee1dbf44.7368f8\"             ]           ]         },         {           \"id\": \"c338e47b.b00ed\",           \"type\": \"comment\",           \"z\": \"789351ac.02c9d\",           \"name\": \"FUNCTION CHAIN CONTINUATION\",           \"info\": \"\",           \"x\": 1240,           \"y\": 240,           \"wires\": []         },         {           \"id\": \"ee1dbf44.7368f8\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"AFTER CONTINUATION IN Poll2Push\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"payload\",           \"targetType\": \"msg\",           \"x\": 1420,           \"y\": 300,           \"wires\": []         },         {           \"id\": \"f9d0aba7.72382\",           \"type\": \"switch\",           \"z\": \"789351ac.02c9d\",           \"name\": \"is Chain\",           \"property\": \"functionChain\",           \"propertyType\": \"msg\",           \"rules\": [             {               \"t\": \"false\"             },             {               \"t\": \"true\"             }           ],           \"checkall\": \"true\",           \"repair\": false,           \"outputs\": 2,           \"x\": 1020,           \"y\": 160,           \"wires\": [             [],             [               \"6da1eea0.969368\",               \"1bbc6fa0.4879c\"             ]           ]         },         {           \"id\": \"6da1eea0.969368\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"RESULT STATUS\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"payload\",           \"targetType\": \"msg\",           \"x\": 1100,           \"y\": 300,           \"wires\": []         },         {           \"id\": \"f20a68d.9711598\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"AFTER CODE CHECK\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"functionChain\",           \"targetType\": \"msg\",           \"x\": 890,           \"y\": 100,           \"wires\": []         },         {           \"id\": \"36905e62.dfad92\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"TOP1\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"payload\",           \"targetType\": \"msg\",           \"x\": 1120,           \"y\": 100,           \"wires\": []         },         {           \"id\": \"9610a737.bf275\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"TOP2\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"payload\",           \"targetType\": \"msg\",           \"x\": 1300,           \"y\": 100,           \"wires\": []         },         {           \"id\": \"c52af08f.756ee8\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"TOP3\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"payload\",           \"targetType\": \"msg\",           \"x\": 1600,           \"y\": 100,           \"wires\": []         },         {           \"id\": \"1bbc6fa0.4879c\",           \"type\": \"function\",           \"z\": \"789351ac.02c9d\",           \"name\": \"compare completion\",           \"func\": \"console.log('IN COMPARE COMPLETION',msg.payload.response);\\nif (msg.payload.response.result.status==='Completed'){\\n    return [msg,null];\\n} else {\\n    return [null,msg];\\n}\\n\",           \"outputs\": 2,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 1240,           \"y\": 160,           \"wires\": [             [               \"c52af08f.756ee8\"             ],             [               \"f2b7c4e4.a24c3\"             ]           ]         },         {           \"id\": \"d8305759.866988\",           \"type\": \"debug\",           \"z\": \"789351ac.02c9d\",           \"name\": \"URL\",           \"active\": true,           \"tosidebar\": true,           \"console\": true,           \"tostatus\": false,           \"complete\": \"iterations\",           \"targetType\": \"msg\",           \"x\": 500,           \"y\": 380,           \"wires\": []         },         {           \"id\": \"789351ac.02c9d\",           \"type\": \"subflow\",           \"name\": \"PollTOPushConverterFC\",           \"info\": \"This helper node aims at performing synchronous calls for polling in case of an async API (calls that return prior to completion, e.g. in the case of non blocking calls in OW, the initial request is returned with a submission success and an activation id in order to follow up on the result). The main difference from the main PollTOPushConverter is that it supports also function chaining (through a msg.functionChain or UI set boolean parameter).\\n\\nThe according function should return as a response the following structure:\\n- have a result.status field with the 'Completed' (if chain is finished) or 'Continuing' string if the function has handed over to a new function in the chain.\\n- have a result.newActivationIDURL field that indicates the updated ID with which to check the follow-up action's status \\n\\nThe node also can get credentials from the msg.creds field of the input message.\\n\\nThe remaining operations are similar with the standard PollTOPushConverter. The node does polling to a specific endpoint in order to detect whether the function has successfully finished\\n\\nThe node has three outputs:\\n - Output 1 indicates successful finalization of the API call\\n - Output 2 indicates intermediate failure and was added to return the reason for failure\\n - Output 3 indicates final failure after max attempts\\n\\nCurrently the node assumes that in case of failure we get a >=40X return code, but this may not always be the case.\\n\\nThe node can be configured for the URL (msg.url), the HTTP method (msg.method), the maximum attempts (msg.maxAttempts), polling period (msg.pollPeriod), the status code above which to retry (msg.retryCode) and the status code for deciding the final success (msg.acceptCode). The msg properties override the UI set properties.\\n\\nGiven that conditions upon which the initial call needs to be polled are highly dependent on the used API, the node assumes that the initial call has been performed a priori.\\n\\nCredentials for accessing the HTTP endpoint can be set via msg.creds or through the UI (input msg prevails).\\n \\n\",           \"category\": \"PHYSICS Helpers\",           \"in\": [             {               \"x\": 60,               \"y\": 160,               \"wires\": [                 {                   \"id\": \"7d194c10.33b51c\"                 }               ]             }           ],           \"out\": [             {               \"x\": 1380,               \"y\": 40,               \"wires\": [                 {                   \"id\": \"f9d0aba7.72382\",                   \"port\": 0                 },                 {                   \"id\": \"1bbc6fa0.4879c\",                   \"port\": 0                 }               ]             },             {               \"x\": 780,               \"y\": 260,               \"wires\": [                 {                   \"id\": \"c2cf68b7.263d4\",                   \"port\": 0                 }               ]             },             {               \"x\": 780,               \"y\": 360,               \"wires\": [                 {                   \"id\": \"c2cf68b7.263d4\",                   \"port\": 1                 }               ]             }           ],           \"env\": [             {               \"name\": \"maxAttempts\",               \"type\": \"str\",               \"value\": \"3\"             },             {               \"name\": \"pollPeriod\",               \"type\": \"str\",               \"value\": \"3000\"             },             {               \"name\": \"method\",               \"type\": \"str\",               \"value\": \"\"             },             {               \"name\": \"url\",               \"type\": \"str\",               \"value\": \"http://10.100.59.182:3233/api/v1/namespaces/_/activations/\"             },             {               \"name\": \"retryCode\",               \"type\": \"num\",               \"value\": \"202\"             },             {               \"name\": \"acceptCode\",               \"type\": \"num\",               \"value\": \"200\"             },             {               \"name\": \"functionChain\",               \"type\": \"bool\",               \"value\": \"true\"             }           ],           \"meta\": {},           \"color\": \"#b4e8a9\"         }       ],       \"artifact\": \"https://registry.apps.ocphub.physics-faas.eu/custom:45\",       \"type\": \"image\"     }   ],   \"displayName\": \"Application\" }",
        "payloadType": "json",
        "x": 170,
        "y": 680,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "e2fbaa850a300e48",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Simple App with V2 flows",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{   \"flows\": [     {       \"flowID\": \"104348eeda17061b\",       \"flowName\": \"Sequence_v2\",       \"flow\": [         {           \"id\": \"104348eeda17061b\",           \"type\": \"tab\",           \"label\": \"Sequence_v2\",           \"disabled\": false,           \"info\": \"\",           \"env\": []         },         {           \"id\": \"8927b63106cb0dc5\",           \"type\": \"function\",           \"z\": \"104348eeda17061b\",           \"name\": \"hello\",           \"func\": \"//@sizingMB=512\\nmsg.payload=msg.payload.value+' hello';\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 490,           \"y\": 180,           \"wires\": [             [               \"6682aa5726c78fc9\"             ]           ]         },         {           \"id\": \"6682aa5726c78fc9\",           \"type\": \"function\",           \"z\": \"104348eeda17061b\",           \"name\": \"world\",           \"func\": \"//implies affinity with the other function in the sequence\\n//@affinity=hello\\nmsg.payload=msg.payload.value+' world';\\nreturn msg;\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 660,           \"y\": 180,           \"wires\": [             []           ]         },         {           \"id\": \"fef4a8d9d2730b90\",           \"type\": \"subflow:694cb784968dc0b9\",           \"z\": \"104348eeda17061b\",           \"name\": \"\",           \"env\": [             {               \"name\": \"Executor Mode\",               \"value\": \"NativeSequence\",               \"type\": \"str\"             }           ],           \"x\": 540,           \"y\": 300,           \"wires\": []         },         {           \"id\": \"82b665f654048ecf\",           \"type\": \"function\",           \"z\": \"694cb784968dc0b9\",           \"name\": \"\",           \"func\": \"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",           \"outputs\": 1,           \"noerr\": 0,           \"initialize\": \"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",           \"finalize\": \"\",           \"libs\": [],           \"x\": 360,           \"y\": 140,           \"wires\": [             []           ]         },         {           \"id\": \"eeb5210da7efebd3\",           \"type\": \"comment\",           \"z\": \"694cb784968dc0b9\",           \"name\": \"Instructions\",           \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",           \"x\": 560,           \"y\": 280,           \"wires\": []         },         {           \"id\": \"694cb784968dc0b9\",           \"type\": \"subflow\",           \"name\": \"Executor Mode\",           \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",           \"category\": \"PHYSICS Annotators\",           \"in\": [],           \"out\": [],           \"env\": [             {               \"name\": \"Executor Mode\",               \"type\": \"str\",               \"value\": \"\",               \"ui\": {                 \"type\": \"select\",                 \"opts\": {                   \"opts\": [                     {                       \"l\": {                         \"en-US\": \"Service\"                       },                       \"v\": \"Service\"                     },                     {                       \"l\": {                         \"en-US\": \"NoderedFunction\"                       },                       \"v\": \"NoderedFunction\"                     },                     {                       \"l\": {                         \"en-US\": \"NativeSequence\"                       },                       \"v\": \"NativeSequence\"                     }                   ]                 }               }             }           ],           \"meta\": {},           \"color\": \"#C0DEED\",           \"icon\": \"font-awesome/fa-angle-right\"         }       ],       \"artifact\": \"https://registry.apps.ocphub.physics-faas.eu/custom:18\",       \"type\": \"image\"     }   ],   \"displayName\": \"Application\" }",
        "payloadType": "json",
        "x": 150,
        "y": 720,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "a6ef04aa2ed30140",
        "type": "http in",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "url": "/desc",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 680,
        "y": 620,
        "wires": [
            [
                "babd8085746ab9f9"
            ]
        ]
    },
    {
        "id": "babd8085746ab9f9",
        "type": "file in",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "filename": "/data/OrchestratorExample",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 900,
        "y": 620,
        "wires": [
            [
                "7fdb5a767e787b5f"
            ]
        ]
    },
    {
        "id": "7fdb5a767e787b5f",
        "type": "http response",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1110,
        "y": 620,
        "wires": []
    },
    {
        "id": "e0daa18fe6db6d7d",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "ehealthAPP",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{     \"flows\": [         {             \"flowID\": \"f4a0fb9518d4df8d\",             \"flowName\": \"Inference\",             \"flow\": [                 {                     \"id\": \"f4a0fb9518d4df8d\",                     \"type\": \"tab\",                     \"label\": \"Inference\",                     \"disabled\": false,                     \"info\": \"\",                     \"env\": []                 },                 {                     \"id\": \"48676e3bbd5ccbdd\",                     \"type\": \"exec\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"command\": \"python3 /data/scripts/inference.py\",                     \"addpay\": \"cla\",                     \"append\": \"\",                     \"useSpawn\": \"false\",                     \"timer\": \"\",                     \"winHide\": false,                     \"oldrc\": false,                     \"name\": \"Infer with Python\",                     \"x\": 410,                     \"y\": 360,                     \"wires\": [                         [                             \"bfc262ed8d69643a\"                         ],                         [                             \"3ec2ee2e0cd2bb1b\"                         ],                         []                     ]                 },                 {                     \"id\": \"41dd301dce34ce6e\",                     \"type\": \"inject\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"props\": [                         {                             \"p\": \"payload\"                         },                         {                             \"p\": \"topic\",                             \"vt\": \"str\"                         }                     ],                     \"repeat\": \"\",                     \"crontab\": \"\",                     \"once\": false,                     \"onceDelay\": 0.1,                     \"topic\": \"\",                     \"payload\": \"\",                     \"payloadType\": \"date\",                     \"x\": 120,                     \"y\": 680,                     \"wires\": [                         [                             \"a3107530757941c9\"                         ]                     ]                 },                 {                     \"id\": \"d0eb89f611e377fd\",                     \"type\": \"http request\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Send request\",                     \"method\": \"POST\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"localhost:1880/run\",                     \"tls\": \"\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"basic\",                     \"senderr\": false,                     \"x\": 490,                     \"y\": 680,                     \"wires\": [                         [                             \"4078b21395814fb2\"                         ]                     ]                 },                 {                     \"id\": \"4078b21395814fb2\",                     \"type\": \"debug\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Inference\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 660,                     \"y\": 680,                     \"wires\": []                 },                 {                     \"id\": \"5f46f2f372d50ec2\",                     \"type\": \"http response\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"statusCode\": \"\",                     \"headers\": {},                     \"x\": 870,                     \"y\": 460,                     \"wires\": []                 },                 {                     \"id\": \"89bbfca9894f9583\",                     \"type\": \"join\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"mode\": \"auto\",                     \"build\": \"array\",                     \"property\": \"payload\",                     \"propertyType\": \"msg\",                     \"key\": \"topic\",                     \"joiner\": \"\\\\n\",                     \"joinerType\": \"str\",                     \"accumulate\": false,                     \"timeout\": \"\",                     \"count\": \"2\",                     \"reduceRight\": false,                     \"reduceExp\": \"\",                     \"reduceInit\": \"\",                     \"reduceInitType\": \"\",                     \"reduceFixup\": \"\",                     \"x\": 770,                     \"y\": 340,                     \"wires\": [                         [                             \"8fe0a12ef00c83e0\"                         ]                     ]                 },                 {                     \"id\": \"8fe0a12ef00c83e0\",                     \"type\": \"function\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Prepare response\",                     \"func\": \"var input = msg.payload;\\nmsg.payload = {};\\nerrors = input[1];\\nif (input[0] == \\\"\\\") {\\n    msg.payload.errors = JSON.stringify(errors);\\n    msg.statusCode = 500;\\n} else {\\n    msg.payload.out = input[0];\\n    msg.payload.errors = JSON.stringify(errors);\\n}\\nmsg.filename = '/data/scripts/out_' + msg._msgid;\\nmsg.result = msg.payload;\\nreturn msg;\\n\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 210,                     \"y\": 460,                     \"wires\": [                         [                             \"91e8d9a937614015\"                         ]                     ]                 },                 {                     \"id\": \"3ec2ee2e0cd2bb1b\",                     \"type\": \"subflow:61834c2663a6ece6\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"totalcount\",                             \"value\": \"2\",                             \"type\": \"num\"                         },                         {                             \"name\": \"position\",                             \"value\": \"2\",                             \"type\": \"num\"                         }                     ],                     \"x\": 610,                     \"y\": 360,                     \"wires\": [                         [                             \"89bbfca9894f9583\"                         ]                     ]                 },                 {                     \"id\": \"bfc262ed8d69643a\",                     \"type\": \"subflow:61834c2663a6ece6\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"totalcount\",                             \"value\": \"2\",                             \"type\": \"num\"                         },                         {                             \"name\": \"position\",                             \"value\": \"1\",                             \"type\": \"num\"                         }                     ],                     \"x\": 610,                     \"y\": 320,                     \"wires\": [                         [                             \"89bbfca9894f9583\"                         ]                     ]                 },                 {                     \"id\": \"a3bf1605553dc582\",                     \"type\": \"http in\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"url\": \"/run\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 80,                     \"y\": 360,                     \"wires\": [                         [                             \"9e2f3aa450c84658\"                         ]                     ]                 },                 {                     \"id\": \"a3107530757941c9\",                     \"type\": \"function\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Prepare input\",                     \"func\": \"msg.payload = {};\\nmsg.payload.value = {};\\nmsg.payload.value.input = \\\"[{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.37319498,0.22020688,0.80695292,-0.14483578,0.82998543,-0.37742864,1.66220971,-0.65614964,-0.14292737,-0.37938052,0.79727469,0.11874357,-1.01171128,0.36931477]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.38092934,0.77517288,0.60602839,-0.74486557,0.55876642,-0.97958379,0.6130755,-1.33591593,0.23242436,0.20101902,0.57318741,-0.32033507,-0.32264458,0.70643433]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.40445467,1.08207716,0.75746139,-0.0749294,0.90057979,0.08020928,0.44294563,-0.95483483,0.79288105,0.84270299,1.23749778,0.99690085,-0.08768413,0.79027754]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.40896638,0.95170053,0.42175769,-1.12061238,0.47985993,-0.97055147,1.12346512,-0.0361204,0.53064902,0.24427862,1.03798781,0.48402748,0.4104772,1.2217207]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.39253087,-0.00477934,0.53616301,-0.60796557,0.86801974,0.23074807,1.18017507,0.04627552,0.75174661,0.44976169,1.17316305,0.82348324,0.90750891,1.51517193]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.41380036,0.89401176,0.55280539,-0.40407195,0.74137306,-0.1215127,0.66978546,-0.5119568,1.0756803,0.8210732,0.43006069,-1.13576682,0.33027435,0.62084439]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.43055813,1.23437552,0.2466346,-1.42354004,0.21542495,-1.64195446,0.69814044,-0.38424313,1.27621067,1.05179103,0.44379507,-1.03614394,-0.47288371,-0.61933637]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.43378078,1.12476685,0.14893176,-1.64491026,0.27156963,-1.32582301,0.17357333,-1.05988962,1.50245007,1.09865559,0.19585333,-1.66708887,0.46808769,0.83045241]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.4179898,0.41634871,0.19798855,-1.27207621,0.28847097,-1.13614413,0.42876814,-0.53667557,0.68490315,0.17578426,0.23705648,-1.35346127,0.54038322,0.83743934]},{\\\\\\\"patient\\\\\\\":\\\\\\\"4140D\\\\\\\",\\\\\\\"date\\\\\\\":\\\\\\\"10-06-2022\\\\\\\",\\\\\\\"vector\\\\\\\":[-0.17563081,0.37738442,-1.15970858,0.17140037,-1.32159323,0.21450978,-1.34689844,0.18775082,-0.80858208,-0.22005444,-0.85523605,0.39680903,-0.86272633,0.34382976,0.45315798]}]\\\";\\nmsg.payload.value.model = \\\"benchmark_tristate_NN_no_valid\\\";\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 300,                     \"y\": 680,                     \"wires\": [                         [                             \"d0eb89f611e377fd\",                             \"2c2d1ebff6a7cc1b\"                         ]                     ]                 },                 {                     \"id\": \"9e2f3aa450c84658\",                     \"type\": \"function\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Prepare CLA\",                     \"func\": \"msg.cla = \\\"'\\\" + msg.payload.value.input + \\\"' \\\" + msg.payload.value.model + \\\" \\\" + 'out_' + msg._msgid;\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 230,                     \"y\": 360,                     \"wires\": [                         [                             \"48676e3bbd5ccbdd\"                         ]                     ]                 },                 {                     \"id\": \"c2a8ddbb8642a71c\",                     \"type\": \"comment\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Manual invocation section\",                     \"info\": \"\",                     \"x\": 130,                     \"y\": 580,                     \"wires\": []                 },                 {                     \"id\": \"91e8d9a937614015\",                     \"type\": \"file in\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"filename\": \"\",                     \"format\": \"utf8\",                     \"chunk\": false,                     \"sendError\": false,                     \"encoding\": \"none\",                     \"allProps\": false,                     \"x\": 380,                     \"y\": 460,                     \"wires\": [                         [                             \"25518d73172e8ecf\"                         ]                     ]                 },                 {                     \"id\": \"25518d73172e8ecf\",                     \"type\": \"json\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"property\": \"payload\",                     \"action\": \"\",                     \"pretty\": false,                     \"x\": 510,                     \"y\": 460,                     \"wires\": [                         [                             \"a929760723e0c2c5\"                         ]                     ]                 },                 {                     \"id\": \"a929760723e0c2c5\",                     \"type\": \"function\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"final\",                     \"func\": \"msg.result.predictions = msg.payload;\\nmsg.payload = {};\\nmsg.payload = msg.result;\\nreturn msg;\\n\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 630,                     \"y\": 460,                     \"wires\": [                         [                             \"a49f32e21f2ceea2\"                         ]                     ]                 },                 {                     \"id\": \"a49f32e21f2ceea2\",                     \"type\": \"file\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"filename\": \"\",                     \"appendNewline\": true,                     \"createDir\": false,                     \"overwriteFile\": \"delete\",                     \"encoding\": \"none\",                     \"x\": 750,                     \"y\": 460,                     \"wires\": [                         [                             \"5f46f2f372d50ec2\"                         ]                     ]                 },                 {                     \"id\": \"7cd54384e3001590\",                     \"type\": \"subflow:694cb784968dc0b9\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"value\": \"NoderedFunction\",                             \"type\": \"str\"                         }                     ],                     \"x\": 300,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"e0a44f9c057781b6\",                     \"type\": \"comment\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Annotations section\",                     \"info\": \"\",                     \"x\": 110,                     \"y\": 40,                     \"wires\": []                 },                 {                     \"id\": \"738be79c50ce5ea0\",                     \"type\": \"subflow:dd8835083692860a\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"memory\",                             \"value\": \"512\",                             \"type\": \"num\"                         },                         {                             \"name\": \"timeout\",                             \"value\": \"300000\",                             \"type\": \"num\"                         }                     ],                     \"x\": 100,                     \"y\": 100,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"b286543636b19b47\",                     \"type\": \"comment\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Endpoints' definition section\",                     \"info\": \"\",                     \"x\": 140,                     \"y\": 220,                     \"wires\": []                 },                 {                     \"id\": \"b4e22c25249c9de1\",                     \"type\": \"http in\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"url\": \"/init\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 80,                     \"y\": 280,                     \"wires\": [                         [                             \"13d4f7c0acaa0a39\"                         ]                     ]                 },                 {                     \"id\": \"13d4f7c0acaa0a39\",                     \"type\": \"http response\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"x\": 380,                     \"y\": 280,                     \"wires\": []                 },                 {                     \"id\": \"2c2d1ebff6a7cc1b\",                     \"type\": \"json\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"property\": \"payload.value.input\",                     \"action\": \"\",                     \"pretty\": false,                     \"x\": 490,                     \"y\": 620,                     \"wires\": [                         [                             \"99c7424da4aad1d3\"                         ]                     ]                 },                 {                     \"id\": \"99c7424da4aad1d3\",                     \"type\": \"debug\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"Input data\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 660,                     \"y\": 620,                     \"wires\": []                 },                 {                     \"id\": \"2d64e8357aafa568\",                     \"type\": \"subflow:40ce9e05d2b123a0\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"gpu_enabled\",                             \"value\": \"true\",                             \"type\": \"str\"                         },                         {                             \"name\": \"architecture\",                             \"value\": \"x86_64\",                             \"type\": \"str\"                         }                     ],                     \"x\": 490,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"ec218f71071744ae\",                     \"type\": \"subflow:05f045b87080a61e\",                     \"z\": \"f4a0fb9518d4df8d\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"locality\",                             \"value\": \"Cloud\",                             \"type\": \"str\"                         }                     ],                     \"x\": 690,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"6cf5b4224f0daa69\",                     \"type\": \"function\",                     \"z\": \"61834c2663a6ece6\",                     \"name\": \"create artificial msg.parts\",                     \"func\": \"\\n//need to push the new parts down a LIFO structure?\\nif (msg.hasOwnProperty(\\\"parts\\\")){\\n    var parts={};\\n    parts=msg.parts;\\n    delete msg.parts;\\n    msg.parts={};\\n    msg.parts.parts=parts;\\n    msg.parts.id=msg._msgid;\\n} else {\\n    msg.parts={};\\n    msg.parts.id=msg._msgid;\\n}\\n\\nmsg.parts.count=env.get('totalcount');\\nmsg.parts.len=1;\\nmsg.parts.index=env.get('position')-1;\\nmsg.parts.type=\\\"array\\\";\\n\\n//msg.topic='topic2';\\n\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 330,                     \"y\": 120,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"61834c2663a6ece6\",                     \"type\": \"subflow\",                     \"name\": \"BranchJoin\",                     \"info\": \"\\nTotal count is the total number of branches expected to join.\\n\\nPosition in sequence should be from 1 to total count.\\n\\nBoth variables are set via the node UI.\",                     \"category\": \"PHYSICS\",                     \"in\": [                         {                             \"x\": 140,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"6cf5b4224f0daa69\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 520,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"6cf5b4224f0daa69\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"totalcount\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Total Count\"                                 }                             }                         },                         {                             \"name\": \"position\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Position in sequence\"                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#FFF0F0\"                 },                 {                     \"id\": \"6cf5b4224f0daa69\",                     \"type\": \"function\",                     \"z\": \"61834c2663a6ece6\",                     \"name\": \"create artificial msg.parts\",                     \"func\": \"\\n//need to push the new parts down a LIFO structure?\\nif (msg.hasOwnProperty(\\\"parts\\\")){\\n    var parts={};\\n    parts=msg.parts;\\n    delete msg.parts;\\n    msg.parts={};\\n    msg.parts.parts=parts;\\n    msg.parts.id=msg._msgid;\\n} else {\\n    msg.parts={};\\n    msg.parts.id=msg._msgid;\\n}\\n\\nmsg.parts.count=env.get('totalcount');\\nmsg.parts.len=1;\\nmsg.parts.index=env.get('position')-1;\\nmsg.parts.type=\\\"array\\\";\\n\\n//msg.topic='topic2';\\n\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 330,                     \"y\": 120,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"61834c2663a6ece6\",                     \"type\": \"subflow\",                     \"name\": \"BranchJoin\",                     \"info\": \"\\nTotal count is the total number of branches expected to join.\\n\\nPosition in sequence should be from 1 to total count.\\n\\nBoth variables are set via the node UI.\",                     \"category\": \"PHYSICS\",                     \"in\": [                         {                             \"x\": 140,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"6cf5b4224f0daa69\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 520,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"6cf5b4224f0daa69\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"totalcount\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Total Count\"                                 }                             }                         },                         {                             \"name\": \"position\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Position in sequence\"                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#FFF0F0\"                 },                 {                     \"id\": \"82b665f654048ecf\",                     \"type\": \"function\",                     \"z\": \"694cb784968dc0b9\",                     \"name\": \"\",                     \"func\": \"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 360,                     \"y\": 140,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"eeb5210da7efebd3\",                     \"type\": \"comment\",                     \"z\": \"694cb784968dc0b9\",                     \"name\": \"Instructions\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"x\": 560,                     \"y\": 280,                     \"wires\": []                 },                 {                     \"id\": \"694cb784968dc0b9\",                     \"type\": \"subflow\",                     \"name\": \"Executor Mode\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"Service\"                                             },                                             \"v\": \"Service\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NoderedFunction\"                                             },                                             \"v\": \"NoderedFunction\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NativeSequence\"                                             },                                             \"v\": \"NativeSequence\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"font-awesome/fa-angle-right\"                 },                 {                     \"id\": \"c66966a2d36f06b5\",                     \"type\": \"function\",                     \"z\": \"dd8835083692860a\",                     \"name\": \"add sizing\",                     \"func\": \"\\nmsg.annotations={};\\nmsg.annotations.sizing={};\\nmsg.annotations.sizing.memory=env.get('memory');\\nmsg.annotations.sizing.timeout=env.get('timeout');\\n\\nreturn msg;\\n\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 300,                     \"y\": 60,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"dd8835083692860a\",                     \"type\": \"subflow\",                     \"name\": \"SizingAnnotator\",                     \"info\": \"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [                         {                             \"x\": 120,                             \"y\": 60,                             \"wires\": [                                 {                                     \"id\": \"c66966a2d36f06b5\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 440,                             \"y\": 60,                             \"wires\": [                                 {                                     \"id\": \"c66966a2d36f06b5\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"memory\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Memory (MB)\"                                 }                             }                         },                         {                             \"name\": \"timeout\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"icon\": \"font-awesome/fa-times-circle-o\",                                 \"label\": {                                     \"en-US\": \"Timeout (millisecs)\"                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#E9967A\",                     \"icon\": \"font-awesome/fa-arrows-h\"                 },                 {                     \"id\": \"170d11b5c7d5b61a\",                     \"type\": \"comment\",                     \"z\": \"40ce9e05d2b123a0\",                     \"name\": \"\",                     \"info\": \"\",                     \"x\": 140,                     \"y\": 60,                     \"wires\": []                 },                 {                     \"id\": \"40ce9e05d2b123a0\",                     \"type\": \"subflow\",                     \"name\": \"architecture\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"gpu_enabled\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"true\"                                             },                                             \"v\": \"true\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"false\"                                             },                                             \"v\": \"false\"                                         }                                     ]                                 }                             }                         },                         {                             \"name\": \"architecture\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"x86_64\"                                             },                                             \"v\": \"x86_64\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"arm64\"                                             },                                             \"v\": \"arm64\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#87A980\",                     \"icon\": \"font-awesome/fa-object-group\"                 },                 {                     \"id\": \"30ee5c09f384361d\",                     \"type\": \"comment\",                     \"z\": \"05f045b87080a61e\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate at the flow level the locality of this flow with relation to a set of standard locations by name \",                     \"x\": 400,                     \"y\": 220,                     \"wires\": []                 },                 {                     \"id\": \"05f045b87080a61e\",                     \"type\": \"subflow\",                     \"name\": \"Locality(flow level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"locality\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"HPC\"                                             },                                             \"v\": \"HPC\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"Cloud\"                                             },                                             \"v\": \"Cloud\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"Edge\"                                             },                                             \"v\": \"Edge\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#D8BFD8\",                     \"icon\": \"font-awesome/fa-braille\"                 }             ],             \"artifact\": \"registry.apps.ocphub.physics-faas.eu/custom/ehealth:19\",             \"type\": \"image\"         }     ],     \"displayName\": \"\",     \"branchName\": \"ehealth\" }",
        "payloadType": "json",
        "x": 190,
        "y": 760,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "fb1d1c6728a2bc13",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "ORCHESTRATOR",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{     \"flows\": [         {             \"flowID\": \"3dc59d6aea6e35a4\",             \"flowName\": \"Hello_DMS\",             \"flow\": [                 {                     \"id\": \"3dc59d6aea6e35a4\",                     \"type\": \"tab\",                     \"label\": \"Hello_DMS\",                     \"disabled\": false,                     \"info\": \"\",                     \"env\": []                 },                 {                     \"id\": \"3acefcfb6e6a91ea\",                     \"type\": \"http in\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"url\": \"/init\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 360,                     \"y\": 160,                     \"wires\": [                         [                             \"8cf8bcdd0361dcf7\"                         ]                     ]                 },                 {                     \"id\": \"b519f76492b660c7\",                     \"type\": \"http in\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"url\": \"/run\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 360,                     \"y\": 260,                     \"wires\": [                         [                             \"2347840f70beb926\",                             \"1b65c81292a1cc77\"                         ]                     ]                 },                 {                     \"id\": \"8cf8bcdd0361dcf7\",                     \"type\": \"http response\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"x\": 660,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"d484c0db85f77685\",                     \"type\": \"http response\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"x\": 930,                     \"y\": 320,                     \"wires\": []                 },                 {                     \"id\": \"2347840f70beb926\",                     \"type\": \"function\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"hello world\",                     \"func\": \"\\nconsole.log(msg);\\nmsg.payload='hello '+msg.payload.value.name;\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 570,                     \"y\": 260,                     \"wires\": [                         [                             \"223f577e6b96a222\"                         ]                     ]                 },                 {                     \"id\": \"7f89bdaad11eb775\",                     \"type\": \"comment\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"OW SKELETON with hello world function\",                     \"info\": \"\",                     \"x\": 460,                     \"y\": 340,                     \"wires\": []                 },                 {                     \"id\": \"dc598c2fb4701083\",                     \"type\": \"subflow:694cb784968dc0b9\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"value\": \"NoderedFunction\",                             \"type\": \"str\"                         }                     ],                     \"x\": 220,                     \"y\": 420,                     \"wires\": []                 },                 {                     \"id\": \"1fcff8400467c8f4\",                     \"type\": \"subflow:dd8835083692860a\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"memory\",                             \"value\": \"512\",                             \"type\": \"num\"                         },                         {                             \"name\": \"timeout\",                             \"value\": \"150000\",                             \"type\": \"num\"                         }                     ],                     \"x\": 220,                     \"y\": 480,                     \"wires\": []                 },                 {                     \"id\": \"cbb90d5abd6aeb85\",                     \"type\": \"subflow:f0b9b88b6dcb2ece\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"goal\",                             \"value\": \"performance\",                             \"type\": \"str\"                         }                     ],                     \"x\": 270,                     \"y\": 540,                     \"wires\": []                 },                 {                     \"id\": \"a928d25a87bb1f70\",                     \"type\": \"subflow:94dffc86e4af9a58\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"importance\",                             \"value\": \"high\",                             \"type\": \"str\"                         }                     ],                     \"x\": 240,                     \"y\": 600,                     \"wires\": []                 },                 {                     \"id\": \"e92d973a0c36b990\",                     \"type\": \"subflow:05f045b87080a61e\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"locality\",                             \"value\": \"aws\",                             \"type\": \"str\"                         }                     ],                     \"x\": 230,                     \"y\": 660,                     \"wires\": []                 },                 {                     \"id\": \"223f577e6b96a222\",                     \"type\": \"function\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"write\",                     \"func\": \"var data=msg.payload;\\nmsg.payload={};\\nmsg.payload.data=data;\\nmsg.data=data;\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 750,                     \"y\": 260,                     \"wires\": [                         [                             \"cabbea3d9687c2e4\",                             \"1621f8dd5bf2de51\"                         ]                     ]                 },                 {                     \"id\": \"3402a8de3203b61c\",                     \"type\": \"function\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"results\",                     \"func\": \"var input=msg.payload;\\n\\nmsg.payload={};\\nmsg.payload.dmsResult=input.response.result;\\nmsg.payload.data=msg.data;\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 770,                     \"y\": 320,                     \"wires\": [                         [                             \"d484c0db85f77685\",                             \"690e6fa8cb324459\"                         ]                     ]                 },                 {                     \"id\": \"1b65c81292a1cc77\",                     \"type\": \"debug\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 530,                     \"y\": 200,                     \"wires\": []                 },                 {                     \"id\": \"cabbea3d9687c2e4\",                     \"type\": \"debug\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 950,                     \"y\": 260,                     \"wires\": []                 },                 {                     \"id\": \"7988bc52cb5a9350\",                     \"type\": \"debug\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 730,                     \"y\": 460,                     \"wires\": []                 },                 {                     \"id\": \"690e6fa8cb324459\",                     \"type\": \"debug\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 930,                     \"y\": 520,                     \"wires\": []                 },                 {                     \"id\": \"f6e5aeef996faf78\",                     \"type\": \"subflow:789351ac.02c9d\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"\",                     \"x\": 630,                     \"y\": 620,                     \"wires\": [                         [],                         [],                         []                     ]                 },                 {                     \"id\": \"1621f8dd5bf2de51\",                     \"type\": \"subflow:d5cdb05c4a8f64a4\",                     \"z\": \"3dc59d6aea6e35a4\",                     \"name\": \"write\",                     \"env\": [                         {                             \"name\": \"dms_location\",                             \"value\": \"https://openwhisk.apps.ocphub.physics-faas.eu/api/v1\",                             \"type\": \"str\"                         },                         {                             \"name\": \"dms_job_id\",                             \"value\": \"ss\",                             \"type\": \"str\"                         },                         {                             \"name\": \"dms_pocket_dst_file\",                             \"value\": \"dd\",                             \"type\": \"str\"                         },                         {                             \"name\": \"dms_operation\",                             \"value\": \"dms-w\",                             \"type\": \"str\"                         },                         {                             \"name\": \"dms_namespace\",                             \"value\": \"wp4namespace\",                             \"type\": \"str\"                         },                         {                             \"name\": \"dms_size\",                             \"value\": \"10\",                             \"type\": \"num\"                         }                     ],                     \"x\": 630,                     \"y\": 320,                     \"wires\": [                         [                             \"3402a8de3203b61c\",                             \"7988bc52cb5a9350\"                         ]                     ]                 },                 {                     \"id\": \"eeb5210da7efebd3\",                     \"type\": \"comment\",                     \"z\": \"694cb784968dc0b9\",                     \"name\": \"Instructions\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"x\": 560,                     \"y\": 280,                     \"wires\": []                 },                 {                     \"id\": \"694cb784968dc0b9\",                     \"type\": \"subflow\",                     \"name\": \"Executor Mode\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"Service\"                                             },                                             \"v\": \"Service\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NoderedFunction\"                                             },                                             \"v\": \"NoderedFunction\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NativeSequence\"                                             },                                             \"v\": \"NativeSequence\"                                         }                                     ]                                 }                             }                         },                         {                             \"name\": \"isChoreographer\",                             \"type\": \"str\",                             \"value\": \"false\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"true\"                                             },                                             \"v\": \"true\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"false\"                                             },                                             \"v\": \"false\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"font-awesome/fa-angle-right\"                 },                 {                     \"id\": \"827476cff63f679c\",                     \"type\": \"comment\",                     \"z\": \"dd8835083692860a\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate memory and timing preferences for the final OW action.\",                     \"x\": 440,                     \"y\": 180,                     \"wires\": []                 },                 {                     \"id\": \"dd8835083692860a\",                     \"type\": \"subflow\",                     \"name\": \"SizingAnnotator\",                     \"info\": \"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"memory\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Memory (MB)\"                                 }                             }                         },                         {                             \"name\": \"timeout\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"icon\": \"font-awesome/fa-times-circle-o\",                                 \"label\": {                                     \"en-US\": \"Timeout (millisecs)\"                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#E9967A\",                     \"icon\": \"font-awesome/fa-arrows-h\"                 },                 {                     \"id\": \"a0dfe746ee0c085b\",                     \"type\": \"comment\",                     \"z\": \"f0b9b88b6dcb2ece\",                     \"name\": \"README\",                     \"info\": \"The node is used to set the desired optimization goal: performance/energy\",                     \"x\": 340,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"f0b9b88b6dcb2ece\",                     \"type\": \"subflow\",                     \"name\": \"Optimization Goal (Flow Level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"goal\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"performance\"                                             },                                             \"v\": \"performance\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"energy\"                                             },                                             \"v\": \"energy\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"availability\"                                             },                                             \"v\": \"availability\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#FFAAAA\",                     \"icon\": \"font-awesome/fa-sliders\"                 },                 {                     \"id\": \"1896904e3b2cf282\",                     \"type\": \"comment\",                     \"z\": \"94dffc86e4af9a58\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate at the flow level what is the importance of the flow (to be taken under consideration in the scheduling aspects of PHYSICS)\",                     \"x\": 400,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"94dffc86e4af9a58\",                     \"type\": \"subflow\",                     \"name\": \"Importance (Flow level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"importance\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"high\"                                             },                                             \"v\": \"high\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"medium\"                                             },                                             \"v\": \"medium\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"low\"                                             },                                             \"v\": \"low\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#3FADB5\",                     \"icon\": \"node-red/alert.svg\"                 },                 {                     \"id\": \"30ee5c09f384361d\",                     \"type\": \"comment\",                     \"z\": \"05f045b87080a61e\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate at the flow level the locality of this flow with relation to a set of standard locations by name \",                     \"x\": 400,                     \"y\": 220,                     \"wires\": []                 },                 {                     \"id\": \"05f045b87080a61e\",                     \"type\": \"subflow\",                     \"name\": \"Locality(flow level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"locality\",                             \"type\": \"str\",                             \"value\": \"\"                         }                     ],                     \"meta\": {},                     \"color\": \"#D8BFD8\",                     \"icon\": \"font-awesome/fa-braille\"                 },                 {                     \"id\": \"2934f390.711324\",                     \"type\": \"tls-config\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": false                 },                 {                     \"id\": \"7d194c10.33b51c\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"defaults+activation id\",                     \"func\": \"\\nif (msg.hasOwnProperty('maxAttempts')){\\n    msg.iterations=msg.maxAttempts;\\n} else {\\n    msg.iterations=env.get('maxAttempts');\\n}\\n//needed to reset the iterations after function chaining\\nmsg.defaultAttempts=msg.iterations;\\n\\nif (msg.hasOwnProperty('pollPeriod')){\\n    \\n} else {\\n    msg.pollPeriod=env.get('pollPeriod');\\n}\\n\\nif (msg.hasOwnProperty('method')){\\n    \\n} else {\\n    msg.method=env.get('method');\\n}\\n\\nif (msg.hasOwnProperty('url')){\\n    \\n} else {\\n    msg.url=env.get('url');\\n}\\n\\nif (msg.hasOwnProperty('retryCode')){\\n    \\n} else {\\n    msg.retryCode=env.get('retryCode');\\n}\\n\\nif (msg.hasOwnProperty('acceptCode')){\\n    \\n} else {\\n    msg.acceptCode=env.get('acceptCode');\\n}\\n\\nif (msg.hasOwnProperty('creds')){\\n    \\n} else {\\n    msg.creds=env.get('creds');\\n}\\n\\nif (msg.hasOwnProperty('functionChain')){\\n    \\n} else {\\n    msg.functionChain=env.get('functionChain');\\n}\\n\\nif (msg.hasOwnProperty('inputData')){\\n    if (msg.inputData.hasOwnProperty('creds')){\\n        msg.creds=msg.inputData.creds;\\n    }\\n}\\n\\n\\n\\nmsg.delay=msg.pollPeriod;\\nmsg.start=Date.now();\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 200,                     \"y\": 160,                     \"wires\": [                         [                             \"cad17b04.a2b4d8\"                         ]                     ]                 },                 {                     \"id\": \"4be3f205.3e8dc4\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"iterations--\",                     \"func\": \"msg.iterations=msg.iterations-1;\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"x\": 350,                     \"y\": 300,                     \"wires\": [                         [                             \"c2cf68b7.263d4\",                             \"d8305759.866988\"                         ]                     ]                 },                 {                     \"id\": \"c2cf68b7.263d4\",                     \"type\": \"switch\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"if iterations finished\",                     \"property\": \"iterations\",                     \"propertyType\": \"msg\",                     \"rules\": [                         {                             \"t\": \"gte\",                             \"v\": \"1\",                             \"vt\": \"num\"                         },                         {                             \"t\": \"lt\",                             \"v\": \"1\",                             \"vt\": \"num\"                         }                     ],                     \"checkall\": \"true\",                     \"repair\": false,                     \"outputs\": 2,                     \"x\": 550,                     \"y\": 300,                     \"wires\": [                         [                             \"cad17b04.a2b4d8\"                         ],                         []                     ]                 },                 {                     \"id\": \"76299695.812bd8\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"SUCCESS\",                     \"info\": \"\",                     \"x\": 1100,                     \"y\": 60,                     \"wires\": []                 },                 {                     \"id\": \"48093072.b17a6\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"FINAL FAIL\",                     \"info\": \"\",                     \"x\": 890,                     \"y\": 360,                     \"wires\": []                 },                 {                     \"id\": \"d5960f2f.2e9448\",                     \"type\": \"delay\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"delay\",                     \"pauseType\": \"delayv\",                     \"timeout\": \"5\",                     \"timeoutUnits\": \"seconds\",                     \"rate\": \"1\",                     \"nbRateUnits\": \"1\",                     \"rateUnits\": \"second\",                     \"randomFirst\": \"1\",                     \"randomLast\": \"5\",                     \"randomUnits\": \"seconds\",                     \"drop\": false,                     \"outputs\": 1,                     \"x\": 170,                     \"y\": 300,                     \"wires\": [                         [                             \"4be3f205.3e8dc4\"                         ]                     ]                 },                 {                     \"id\": \"471b3d64.265894\",                     \"type\": \"http request\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"\",                     \"method\": \"GET\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"2934f390.711324\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"\",                     \"x\": 590,                     \"y\": 160,                     \"wires\": [                         [                             \"8694180b.ec1c68\"                         ]                     ]                 },                 {                     \"id\": \"8694180b.ec1c68\",                     \"type\": \"switch\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"Status code check\",                     \"property\": \"statusCode\",                     \"propertyType\": \"msg\",                     \"rules\": [                         {                             \"t\": \"lte\",                             \"v\": \"acceptCode\",                             \"vt\": \"msg\"                         },                         {                             \"t\": \"gte\",                             \"v\": \"retryCode\",                             \"vt\": \"msg\"                         }                     ],                     \"checkall\": \"true\",                     \"repair\": false,                     \"outputs\": 2,                     \"x\": 810,                     \"y\": 160,                     \"wires\": [                         [                             \"f9d0aba7.72382\"                         ],                         [                             \"d5960f2f.2e9448\"                         ]                     ]                 },                 {                     \"id\": \"ef03414f.ad9d78\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"RETRY FAIL\",                     \"info\": \"\",                     \"x\": 890,                     \"y\": 260,                     \"wires\": []                 },                 {                     \"id\": \"66bbc0cf.0c62f\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"BEFORE AUTH\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"x\": 370,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"13791c2d.8cea7c\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"URL\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"url\",                     \"targetType\": \"msg\",                     \"x\": 580,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"cad17b04.a2b4d8\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"add auth\",                     \"func\": \"msg.headers={};\\nvar auth = 'Basic ' + new Buffer(msg.creds).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 420,                     \"y\": 160,                     \"wires\": [                         [                             \"471b3d64.265894\"                         ]                     ]                 },                 {                     \"id\": \"f2b7c4e4.a24c3\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"adapt to new activation\",                     \"func\": \"\\n\\nmsg.url=msg.payload.response.result.newActivationIDURL;\\nmsg.iterations=msg.defaultAttempts+1;\\nconsole.log('IN ADAPTATION TO ACTIVATION',msg.url);\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 1500,                     \"y\": 160,                     \"wires\": [                         [                             \"d5960f2f.2e9448\",                             \"ee1dbf44.7368f8\"                         ]                     ]                 },                 {                     \"id\": \"c338e47b.b00ed\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"FUNCTION CHAIN CONTINUATION\",                     \"info\": \"\",                     \"x\": 1240,                     \"y\": 240,                     \"wires\": []                 },                 {                     \"id\": \"ee1dbf44.7368f8\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"AFTER CONTINUATION IN Poll2Push\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1420,                     \"y\": 300,                     \"wires\": []                 },                 {                     \"id\": \"f9d0aba7.72382\",                     \"type\": \"switch\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"is Chain\",                     \"property\": \"functionChain\",                     \"propertyType\": \"msg\",                     \"rules\": [                         {                             \"t\": \"false\"                         },                         {                             \"t\": \"true\"                         }                     ],                     \"checkall\": \"true\",                     \"repair\": false,                     \"outputs\": 2,                     \"x\": 1020,                     \"y\": 160,                     \"wires\": [                         [],                         [                             \"6da1eea0.969368\",                             \"1bbc6fa0.4879c\"                         ]                     ]                 },                 {                     \"id\": \"6da1eea0.969368\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"RESULT STATUS\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1100,                     \"y\": 300,                     \"wires\": []                 },                 {                     \"id\": \"f20a68d.9711598\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"AFTER CODE CHECK\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"functionChain\",                     \"targetType\": \"msg\",                     \"x\": 890,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"36905e62.dfad92\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"TOP1\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1120,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"9610a737.bf275\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"TOP2\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1300,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"c52af08f.756ee8\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"TOP3\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1600,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"1bbc6fa0.4879c\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"compare completion\",                     \"func\": \"console.log('IN COMPARE COMPLETION',msg.payload.response);\\nif (msg.payload.response.result.status==='Completed'){\\n    return [msg,null];\\n} else {\\n    return [null,msg];\\n}\\n\",                     \"outputs\": 2,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 1240,                     \"y\": 160,                     \"wires\": [                         [                             \"c52af08f.756ee8\"                         ],                         [                             \"f2b7c4e4.a24c3\"                         ]                     ]                 },                 {                     \"id\": \"d8305759.866988\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"URL\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"iterations\",                     \"targetType\": \"msg\",                     \"x\": 500,                     \"y\": 380,                     \"wires\": []                 },                 {                     \"id\": \"789351ac.02c9d\",                     \"type\": \"subflow\",                     \"name\": \"PollTOPushConverterFC\",                     \"info\": \"This helper node aims at performing synchronous calls for polling in case of an async API (calls that return prior to completion, e.g. in the case of non blocking calls in OW, the initial request is returned with a submission success and an activation id in order to follow up on the result). The main difference from the main PollTOPushConverter is that it supports also function chaining (through a msg.functionChain or UI set boolean parameter).\\n\\nThe according function should return as a response the following structure:\\n- have a result.status field with the 'Completed' (if chain is finished) or 'Continuing' string if the function has handed over to a new function in the chain.\\n- have a result.newActivationIDURL field that indicates the updated ID with which to check the follow-up action's status \\n\\nThe node also can get credentials from the msg.creds field of the input message.\\n\\nThe remaining operations are similar with the standard PollTOPushConverter. The node does polling to a specific endpoint in order to detect whether the function has successfully finished\\n\\nThe node has three outputs:\\n - Output 1 indicates successful finalization of the API call\\n - Output 2 indicates intermediate failure and was added to return the reason for failure\\n - Output 3 indicates final failure after max attempts\\n\\nCurrently the node assumes that in case of failure we get a >=40X return code, but this may not always be the case.\\n\\nThe node can be configured for the URL (msg.url), the HTTP method (msg.method), the maximum attempts (msg.maxAttempts), polling period (msg.pollPeriod), the status code above which to retry (msg.retryCode) and the status code for deciding the final success (msg.acceptCode). The msg properties override the UI set properties.\\n\\nGiven that conditions upon which the initial call needs to be polled are highly dependent on the used API, the node assumes that the initial call has been performed a priori.\\n\\nCredentials for accessing the HTTP endpoint can be set via msg.creds or through the UI (input msg prevails).\\n \\n\",                     \"category\": \"PHYSICS Helpers\",                     \"in\": [                         {                             \"x\": 60,                             \"y\": 160,                             \"wires\": [                                 {                                     \"id\": \"7d194c10.33b51c\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 1380,                             \"y\": 40,                             \"wires\": [                                 {                                     \"id\": \"f9d0aba7.72382\",                                     \"port\": 0                                 },                                 {                                     \"id\": \"1bbc6fa0.4879c\",                                     \"port\": 0                                 }                             ]                         },                         {                             \"x\": 780,                             \"y\": 260,                             \"wires\": [                                 {                                     \"id\": \"c2cf68b7.263d4\",                                     \"port\": 0                                 }                             ]                         },                         {                             \"x\": 780,                             \"y\": 360,                             \"wires\": [                                 {                                     \"id\": \"c2cf68b7.263d4\",                                     \"port\": 1                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"maxAttempts\",                             \"type\": \"str\",                             \"value\": \"3\"                         },                         {                             \"name\": \"pollPeriod\",                             \"type\": \"str\",                             \"value\": \"3000\"                         },                         {                             \"name\": \"method\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"url\",                             \"type\": \"str\",                             \"value\": \"http://10.100.59.182:3233/api/v1/namespaces/_/activations/\"                         },                         {                             \"name\": \"retryCode\",                             \"type\": \"num\",                             \"value\": \"202\"                         },                         {                             \"name\": \"acceptCode\",                             \"type\": \"num\",                             \"value\": \"200\"                         },                         {                             \"name\": \"functionChain\",                             \"type\": \"bool\",                             \"value\": \"true\"                         }                     ],                     \"meta\": {},                     \"color\": \"#b4e8a9\"                 },                 {                     \"id\": \"795bfb0aa4e6606a\",                     \"type\": \"tls-config\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": false,                     \"alpnprotocol\": \"\"                 },                 {                     \"id\": \"b1565887a7f49105\",                     \"type\": \"function\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"adapt\",                     \"func\": \"\\nif (msg.hasOwnProperty('dms_job_id')){\\n} else {\\n    msg.dms_job_id=env.get('dms_job_id');\\n}\\n\\nif (msg.hasOwnProperty('dms_size')){\\n} else {\\n    msg.dms_size=env.get('dms_size');\\n}\\n\\nif (msg.hasOwnProperty('dms_location')){\\n} else {\\n    msg.dms_location=env.get('dms_location');\\n}\\n\\n\\nif (msg.hasOwnProperty('dms_operation')){\\n} else {\\n    msg.dms_operation=env.get('dms_operation');\\n}\\n\\nif (msg.hasOwnProperty('dms_namespace')){\\n} else {\\n    msg.namespace=env.get('dms_namespace');\\n}\\n\\n\\nif (msg.hasOwnProperty('dms_pocket_dst_file')){\\n    //msg.dms_pocket_dst_file=msg.payload.dms_pocket_dst_file;\\n} else {\\n    msg.dms_pocket_dst_file=env.get('dms_pocket_dst_file');\\n}\\n\\nif (msg.hasOwnProperty('creds')){\\n    //msg.creds=msg.payload.dms_namespace;\\n} else {\\n    msg.creds=env.get('creds');\\n}\\n\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 250,                     \"y\": 80,                     \"wires\": [                         [                             \"ccb0503362a32b2a\",                             \"4856665561ef0433\"                         ]                     ]                 },                 {                     \"id\": \"ccb0503362a32b2a\",                     \"type\": \"function\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"insert action invocation url and auth\",                     \"func\": \"//msg.url='http://10.100.59.182:3233/api/v1/namespaces/guest/actions/dockeraction';\\nmsg.url=msg.dms_location+'/namespaces/'+msg.namespace+'/actions/'+msg.dms_operation;\\n\\nconsole.log(msg.creds);\\n//msg.creds='';\\nmsg.headers={};\\nvar auth = 'Basic ' + new Buffer(msg.creds).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\n\\nmsg.payload.jobid=msg.dms_job_id;\\nmsg.payload.pocketFile= msg.dms_pocket_dst_file;\\nmsg.payload.size=msg.dms_size;\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 340,                     \"y\": 140,                     \"wires\": [                         [                             \"3457bb2065109dc6\",                             \"2c3be5d81299426d\"                         ]                     ]                 },                 {                     \"id\": \"3457bb2065109dc6\",                     \"type\": \"http request\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"\",                     \"method\": \"POST\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"795bfb0aa4e6606a\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"basic\",                     \"x\": 290,                     \"y\": 200,                     \"wires\": [                         [                             \"28af37e1ffcddb70\",                             \"2faee81a277aefcd\"                         ]                     ]                 },                 {                     \"id\": \"28af37e1ffcddb70\",                     \"type\": \"function\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"add OW activation id from reply\",                     \"func\": \"\\nmsg.activationID=msg.headers['x-openwhisk-activation-id'];\\n\\n//msg.url='http://10.100.59.182:3233/api/v1/namespaces/_/activations/'+msg.activationID;\\n\\nmsg.url=msg.dms_location+'/namespaces/'+msg.namespace+'/activations/'+msg.activationID;\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 350,                     \"y\": 260,                     \"wires\": [                         [                             \"f8348bbae5afdb07\"                         ]                     ]                 },                 {                     \"id\": \"f8348bbae5afdb07\",                     \"type\": \"subflow:789351ac.02c9d\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"maxAttempts\",                             \"value\": \"20\",                             \"type\": \"str\"                         },                         {                             \"name\": \"pollPeriod\",                             \"value\": \"10000\",                             \"type\": \"str\"                         },                         {                             \"name\": \"method\",                             \"value\": \"POST\",                             \"type\": \"str\"                         },                         {                             \"name\": \"functionChain\",                             \"value\": \"false\",                             \"type\": \"bool\"                         }                     ],                     \"x\": 330,                     \"y\": 320,                     \"wires\": [                         [],                         [                             \"e5351303862f506c\"                         ],                         []                     ]                 },                 {                     \"id\": \"f3dce7600cf573ec\",                     \"type\": \"debug\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"SUCCESS\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 930,                     \"y\": 300,                     \"wires\": []                 },                 {                     \"id\": \"e5351303862f506c\",                     \"type\": \"debug\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"RETRY FAIL\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 930,                     \"y\": 340,                     \"wires\": []                 },                 {                     \"id\": \"9749a0001a768f9a\",                     \"type\": \"debug\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"FINAL FAIL\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 930,                     \"y\": 380,                     \"wires\": []                 },                 {                     \"id\": \"4856665561ef0433\",                     \"type\": \"debug\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 440,                     \"y\": 80,                     \"wires\": []                 },                 {                     \"id\": \"2c3be5d81299426d\",                     \"type\": \"debug\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 570,                     \"y\": 140,                     \"wires\": []                 },                 {                     \"id\": \"2faee81a277aefcd\",                     \"type\": \"debug\",                     \"z\": \"d5cdb05c4a8f64a4\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 690,                     \"y\": 200,                     \"wires\": []                 },                 {                     \"id\": \"d5cdb05c4a8f64a4\",                     \"type\": \"subflow\",                     \"name\": \"DMS Interface\",                     \"info\": \"The data to be written needs to be included in the \\nmsg.payload.data.\\n\\nThe operation can be selected from the UI (Read/Write/Lookup) or can be set via the msg.operation field.\\n\\nThe job_id can be set from the UI  or can be set via the msg.job_id field. \\n\\nThe pocket destination file can be set from the UI  or can be set via the msg.pocket_dst_file field.\\n\\nThe pocket server location can be set from the UI or via the msg.dms_location field.\\n\\nThe credentials (user:key) for OW can be set either through the UI or through the msg.creds parameter.\\n\\nThe size parameter should be set either through the msg.dms_size or the UI.\\n\\nIn all cases, the incoming message parameters override the UI set ones. \\n\\nInternal dms function details:\\n * /wp4namespace/dms-w:\\n - input: '--param data \\\"hello world\\\" ' this param indicates the data to be stored in dms.\\n - output: return {\\\"jobid\\\": jobid, \\\"pocketFile\\\": pocketFile,  \\\"size\\\": len(text)} The jobid is the identifier of the file where is stored the information, the pocketFile is the path where the jobId file is stored and the len is the amount of data to read in MB. \\n * /wp4namespace/dms-r:\\n - input:  --param jobid \\\"jobidX\\\" --param pocketFile \\\"pocketFileX\\\" --param size 100.\\n - output: return {\\\"jobid\\\": jobid, \\\"pocketFile\\\": pocketFile}\\n * /wp4namespace/dms-l:\\n - input: --param jobid \\\"jobidX\\\" --param pocketFile \\\"pocketFileX\\\"\\n - output:  return {\\\"result\\\": result} True if exists, false otherwise\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [                         {                             \"x\": 100,                             \"y\": 80,                             \"wires\": [                                 {                                     \"id\": \"b1565887a7f49105\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 740,                             \"y\": 260,                             \"wires\": [                                 {                                     \"id\": \"f8348bbae5afdb07\",                                     \"port\": 0                                 },                                 {                                     \"id\": \"f8348bbae5afdb07\",                                     \"port\": 2                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"dms_location\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"dms_job_id\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Custom Job ID\"                                 }                             }                         },                         {                             \"name\": \"dms_pocket_dst_file\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Destination File\"                                 }                             }                         },                         {                             \"name\": \"dms_operation\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"Read\"                                             },                                             \"v\": \"dms-r\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"Write\"                                             },                                             \"v\": \"dms-w\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"Lookup\"                                             },                                             \"v\": \"dms-l\"                                         }                                     ]                                 }                             }                         },                         {                             \"name\": \"dms_namespace\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"OW namespace\"                                 }                             }                         },                         {                             \"name\": \"creds\",                             \"type\": \"str\",                             \"value\": \"178f79b4-4540-449c-a815-f3b50602aeca:0EWLwLLxVWFsBrW4Lq7Y1EuTYRcfVSsYjXQANDQ78nO9tgzT6B2nui2whli9wlc5\"                         },                         {                             \"name\": \"dms_size\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"size\"                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#FFAAAA\",                     \"icon\": \"font-awesome/fa-database\"                 }             ],             \"artifact\": \"registry.apps.ocphub.physics-faas.eu/custom/george:101\",             \"type\": \"image\"         },         {             \"flowID\": \"39ef55a8.55f96a\",             \"flowName\": \"HelloFunctionV2\",             \"flow\": [                 {                     \"id\": \"39ef55a8.55f96a\",                     \"type\": \"tab\",                     \"label\": \"HelloFunctionV2\",                     \"disabled\": false,                     \"info\": \"\",                     \"env\": []                 },                 {                     \"id\": \"f70d642d7d615561\",                     \"type\": \"http in\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"url\": \"/init\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 340,                     \"y\": 180,                     \"wires\": [                         [                             \"a8ea37eb3bb8cf23\"                         ]                     ]                 },                 {                     \"id\": \"ee0278d90f6393a9\",                     \"type\": \"http in\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"url\": \"/run\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 340,                     \"y\": 280,                     \"wires\": [                         [                             \"f52b7bec399e315a\"                         ]                     ]                 },                 {                     \"id\": \"a8ea37eb3bb8cf23\",                     \"type\": \"http response\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"x\": 730,                     \"y\": 180,                     \"wires\": []                 },                 {                     \"id\": \"ab91c6c51decfbab\",                     \"type\": \"http response\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"x\": 870,                     \"y\": 380,                     \"wires\": []                 },                 {                     \"id\": \"f52b7bec399e315a\",                     \"type\": \"function\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"hello world\",                     \"func\": \"//console.log(msg);\\n\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 630,                     \"y\": 280,                     \"wires\": [                         [                             \"ab91c6c51decfbab\"                         ]                     ]                 },                 {                     \"id\": \"47d1123d17b41031\",                     \"type\": \"comment\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"OW SKELETON with hello world function\",                     \"info\": \"\",                     \"x\": 440,                     \"y\": 360,                     \"wires\": []                 },                 {                     \"id\": \"129fabd43047059b\",                     \"type\": \"subflow:694cb784968dc0b9\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"value\": \"NoderedFunction\",                             \"type\": \"str\"                         }                     ],                     \"x\": 230,                     \"y\": 480,                     \"wires\": []                 },                 {                     \"id\": \"bba4b91d07643081\",                     \"type\": \"subflow:dd8835083692860a\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"memory\",                             \"value\": \"512\",                             \"type\": \"num\"                         },                         {                             \"name\": \"timeout\",                             \"value\": \"220000\",                             \"type\": \"num\"                         }                     ],                     \"x\": 220,                     \"y\": 540,                     \"wires\": []                 },                 {                     \"id\": \"46230eca45760f58\",                     \"type\": \"subflow:f0b9b88b6dcb2ece\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"goal\",                             \"value\": \"performance\",                             \"type\": \"str\"                         }                     ],                     \"x\": 280,                     \"y\": 640,                     \"wires\": []                 },                 {                     \"id\": \"be87371dd5bad13a\",                     \"type\": \"subflow:94dffc86e4af9a58\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"importance\",                             \"value\": \"high\",                             \"type\": \"str\"                         }                     ],                     \"x\": 260,                     \"y\": 740,                     \"wires\": []                 },                 {                     \"id\": \"7ec29cdc3b1457ea\",                     \"type\": \"subflow:05f045b87080a61e\",                     \"z\": \"39ef55a8.55f96a\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"locality\",                             \"value\": \"aws\",                             \"type\": \"str\"                         }                     ],                     \"x\": 250,                     \"y\": 840,                     \"wires\": []                 },                 {                     \"id\": \"eeb5210da7efebd3\",                     \"type\": \"comment\",                     \"z\": \"694cb784968dc0b9\",                     \"name\": \"Instructions\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"x\": 560,                     \"y\": 280,                     \"wires\": []                 },                 {                     \"id\": \"694cb784968dc0b9\",                     \"type\": \"subflow\",                     \"name\": \"Executor Mode\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"Service\"                                             },                                             \"v\": \"Service\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NoderedFunction\"                                             },                                             \"v\": \"NoderedFunction\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NativeSequence\"                                             },                                             \"v\": \"NativeSequence\"                                         }                                     ]                                 }                             }                         },                         {                             \"name\": \"isChoreographer\",                             \"type\": \"str\",                             \"value\": \"false\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"true\"                                             },                                             \"v\": \"true\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"false\"                                             },                                             \"v\": \"false\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"font-awesome/fa-angle-right\"                 },                 {                     \"id\": \"827476cff63f679c\",                     \"type\": \"comment\",                     \"z\": \"dd8835083692860a\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate memory and timing preferences for the final OW action.\",                     \"x\": 440,                     \"y\": 180,                     \"wires\": []                 },                 {                     \"id\": \"dd8835083692860a\",                     \"type\": \"subflow\",                     \"name\": \"SizingAnnotator\",                     \"info\": \"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"memory\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"label\": {                                     \"en-US\": \"Memory (MB)\"                                 }                             }                         },                         {                             \"name\": \"timeout\",                             \"type\": \"num\",                             \"value\": \"\",                             \"ui\": {                                 \"icon\": \"font-awesome/fa-times-circle-o\",                                 \"label\": {                                     \"en-US\": \"Timeout (millisecs)\"                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#E9967A\",                     \"icon\": \"font-awesome/fa-arrows-h\"                 },                 {                     \"id\": \"a0dfe746ee0c085b\",                     \"type\": \"comment\",                     \"z\": \"f0b9b88b6dcb2ece\",                     \"name\": \"README\",                     \"info\": \"The node is used to set the desired optimization goal: performance/energy\",                     \"x\": 340,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"f0b9b88b6dcb2ece\",                     \"type\": \"subflow\",                     \"name\": \"Optimization Goal (Flow Level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"goal\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"performance\"                                             },                                             \"v\": \"performance\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"energy\"                                             },                                             \"v\": \"energy\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"availability\"                                             },                                             \"v\": \"availability\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#FFAAAA\",                     \"icon\": \"font-awesome/fa-sliders\"                 },                 {                     \"id\": \"1896904e3b2cf282\",                     \"type\": \"comment\",                     \"z\": \"94dffc86e4af9a58\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate at the flow level what is the importance of the flow (to be taken under consideration in the scheduling aspects of PHYSICS)\",                     \"x\": 400,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"94dffc86e4af9a58\",                     \"type\": \"subflow\",                     \"name\": \"Importance (Flow level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"importance\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"high\"                                             },                                             \"v\": \"high\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"medium\"                                             },                                             \"v\": \"medium\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"low\"                                             },                                             \"v\": \"low\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#3FADB5\",                     \"icon\": \"node-red/alert.svg\"                 },                 {                     \"id\": \"30ee5c09f384361d\",                     \"type\": \"comment\",                     \"z\": \"05f045b87080a61e\",                     \"name\": \"README\",                     \"info\": \"The node is used to indicate at the flow level the locality of this flow with relation to a set of standard locations by name \",                     \"x\": 400,                     \"y\": 220,                     \"wires\": []                 },                 {                     \"id\": \"05f045b87080a61e\",                     \"type\": \"subflow\",                     \"name\": \"Locality(flow level)\",                     \"info\": \"\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"locality\",                             \"type\": \"str\",                             \"value\": \"\"                         }                     ],                     \"meta\": {},                     \"color\": \"#D8BFD8\",                     \"icon\": \"font-awesome/fa-braille\"                 }             ],             \"artifact\": \"registry.apps.ocphub.physics-faas.eu/custom/george:102\",             \"type\": \"image\"         },         {             \"flowID\": \"e98bf48d7a877d25\",             \"flowName\": \"splitjoinFunction\",             \"flow\": [                 {                     \"id\": \"e98bf48d7a877d25\",                     \"type\": \"tab\",                     \"label\": \"splitjoinFunction\",                     \"disabled\": false,                     \"info\": \"\",                     \"env\": []                 },                 {                     \"id\": \"6c475d976512ab6c\",                     \"type\": \"http in\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"url\": \"/run\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 500,                     \"y\": 500,                     \"wires\": [                         [                             \"da1cd4a2ba26b2ce\"                         ]                     ]                 },                 {                     \"id\": \"d8ea5c991b7256b2\",                     \"type\": \"http in\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"url\": \"/init\",                     \"method\": \"post\",                     \"upload\": false,                     \"swaggerDoc\": \"\",                     \"x\": 540,                     \"y\": 380,                     \"wires\": [                         [                             \"0bf6e36501ea140c\"                         ]                     ]                 },                 {                     \"id\": \"0bf6e36501ea140c\",                     \"type\": \"http response\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"statusCode\": \"\",                     \"headers\": {},                     \"x\": 830,                     \"y\": 380,                     \"wires\": []                 },                 {                     \"id\": \"729306c6b37c0ec0\",                     \"type\": \"http response\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"statusCode\": \"\",                     \"headers\": {},                     \"x\": 1090,                     \"y\": 500,                     \"wires\": []                 },                 {                     \"id\": \"e385b549bc1cae8d\",                     \"type\": \"subflow:694cb784968dc0b9\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"value\": \"NoderedFunction\",                             \"type\": \"str\"                         }                     ],                     \"x\": 500,                     \"y\": 600,                     \"wires\": []                 },                 {                     \"id\": \"da1cd4a2ba26b2ce\",                     \"type\": \"subflow:5813b63f70690303\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"x\": 780,                     \"y\": 500,                     \"wires\": [                         [                             \"729306c6b37c0ec0\"                         ]                     ]                 },                 {                     \"id\": \"84e7befdcccb2e4e\",                     \"type\": \"subflow:edfbba7dd979ecf1\",                     \"z\": \"e98bf48d7a877d25\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"affinityArtefactID\",                             \"value\": \"registry.apps.ocphub.physics-faas.eu/custom/george:102\",                             \"type\": \"str\"                         },                         {                             \"name\": \"affinityAppID\",                             \"value\": \"this\",                             \"type\": \"str\"                         },                         {                             \"name\": \"affinity\",                             \"value\": \"affinity\",                             \"type\": \"str\"                         }                     ],                     \"x\": 490,                     \"y\": 680,                     \"wires\": []                 },                 {                     \"id\": \"eeb5210da7efebd3\",                     \"type\": \"comment\",                     \"z\": \"694cb784968dc0b9\",                     \"name\": \"Instructions\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"x\": 560,                     \"y\": 280,                     \"wires\": []                 },                 {                     \"id\": \"694cb784968dc0b9\",                     \"type\": \"subflow\",                     \"name\": \"Executor Mode\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"Service\"                                             },                                             \"v\": \"Service\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NoderedFunction\"                                             },                                             \"v\": \"NoderedFunction\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NativeSequence\"                                             },                                             \"v\": \"NativeSequence\"                                         }                                     ]                                 }                             }                         },                         {                             \"name\": \"isChoreographer\",                             \"type\": \"str\",                             \"value\": \"false\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"true\"                                             },                                             \"v\": \"true\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"false\"                                             },                                             \"v\": \"false\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"font-awesome/fa-angle-right\"                 },                 {                     \"id\": \"64f1be8afce20915\",                     \"type\": \"openwhisk-service\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"aws\",                     \"api\": \"https://openwhisk.apps.ocphub.physics-faas.eu/api/v1\"                 },                 {                     \"id\": \"1f13a2c0346f82c6\",                     \"type\": \"tls-config\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": false,                     \"alpnprotocol\": \"\"                 },                 {                     \"id\": \"770ef202c7ccecb6\",                     \"type\": \"split\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"splt\": \"\\\\n\",                     \"spltType\": \"str\",                     \"arraySplt\": \"1\",                     \"arraySpltType\": \"len\",                     \"stream\": false,                     \"addname\": \"\",                     \"x\": 330,                     \"y\": 100,                     \"wires\": [                         [                             \"cb539c8dcce538f8\",                             \"4b0793e93fa7e4c7\"                         ]                     ]                 },                 {                     \"id\": \"fef7008cea92f52d\",                     \"type\": \"join\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"mode\": \"auto\",                     \"build\": \"string\",                     \"property\": \"payload\",                     \"propertyType\": \"msg\",                     \"key\": \"topic\",                     \"joiner\": \"\\\\n\",                     \"joinerType\": \"str\",                     \"accumulate\": \"false\",                     \"timeout\": \"\",                     \"count\": \"\",                     \"reduceRight\": false,                     \"x\": 650,                     \"y\": 100,                     \"wires\": [                         [                             \"933bd2f642873790\"                         ]                     ]                 },                 {                     \"id\": \"8ca660db8c891c1f\",                     \"type\": \"comment\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"NEEDS CONFIGURATION WITH OW ENDPOINT\",                     \"info\": \"\",                     \"x\": 470,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"ce0ad53cb5c6ef33\",                     \"type\": \"function\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"func\": \"//msg.action=msg.payload.value.action;\\n\\nmsg.url=msg.payload.value.url;\\nmsg.creds=msg.payload.value.creds;\\n\\nmsg.oldpayload=msg.payload;\\nmsg.payload={};\\nmsg.payload=msg.oldpayload.value.values;\\n\\nmsg.headers={};\\nvar auth = 'Basic ' + new Buffer(msg.creds).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 160,                     \"y\": 100,                     \"wires\": [                         [                             \"770ef202c7ccecb6\"                         ]                     ]                 },                 {                     \"id\": \"933bd2f642873790\",                     \"type\": \"function\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"func\": \"msg.newpayload=msg.payload;\\nmsg.payload=[];\\nmsg.payload=msg.oldpayload;\\nmsg.payload.value=msg.newpayload;\\n\\nmsg.payload.value.myvar=env.get('setsplit');\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 800,                     \"y\": 100,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"cb539c8dcce538f8\",                     \"type\": \"debug\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 420,                     \"y\": 240,                     \"wires\": []                 },                 {                     \"id\": \"4b0793e93fa7e4c7\",                     \"type\": \"http request\",                     \"z\": \"5813b63f70690303\",                     \"name\": \"\",                     \"method\": \"POST\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"1f13a2c0346f82c6\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"basic\",                     \"senderr\": false,                     \"x\": 510,                     \"y\": 100,                     \"wires\": [                         [                             \"fef7008cea92f52d\"                         ]                     ]                 },                 {                     \"id\": \"5813b63f70690303\",                     \"type\": \"subflow\",                     \"name\": \"SplitJoin\",                     \"info\": \"This is an implementation of the Single Instruction Multiple Data parallelization pattern with an output barrier.\\n\\nThe pattern expects the name of the parallel function to invoke in the msg.payload.value.action field and the input array in the msg.payload.value.values field (in order to adapt to the usage inside Openwhisk). The input message array is split into individual messages in order to invoke one inner Openwhisk function with each input array row.\\n\\nIn the future further parameters may be added with relation to how the incoming array message is split into individual messages in order to support a more customizable job splitting in chunk sizes.\",                     \"category\": \"PHYSICS\",                     \"in\": [                         {                             \"x\": 60,                             \"y\": 100,                             \"wires\": [                                 {                                     \"id\": \"ce0ad53cb5c6ef33\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 1020,                             \"y\": 100,                             \"wires\": [                                 {                                     \"id\": \"933bd2f642873790\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [],                     \"meta\": {},                     \"color\": \"#FFAAAA\"                 },                 {                     \"id\": \"1dc64fe5f2cdee5b\",                     \"type\": \"comment\",                     \"z\": \"edfbba7dd979ecf1\",                     \"name\": \"README\",                     \"info\": \"Affinity annotator node\",                     \"x\": 500,                     \"y\": 200,                     \"wires\": []                 },                 {                     \"id\": \"edfbba7dd979ecf1\",                     \"type\": \"subflow\",                     \"name\": \"Affinity Annotator\",                     \"info\": \"\\n\\nThis is a semantic node to indicate that a flow has affinity considerations with flows in the same or other app. This information may be useful for the placement and optimization processes of PHYSICS. \\n\\nThe target action is referenced through the deployment artefact id (e.g. imageID), so it needs to have been built beforehand. The relevant information will be included in the Build Tab of the Design Environment.\\n\\nThe app ID can be used to indicate an action belonging to a different app. Therefore this information needs to be available in the Design Environment (it is under the Graphs tab).\\n\\nIf the app ID is left empty, it is assumed that the node refers to this app, since the app ID is given during application creation and it is not available at design time.\\n\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"affinityArtefactID\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"affinityAppID\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"affinity\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"affinity\"                                             },                                             \"v\": \"affinity\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"antiaffinity\"                                             },                                             \"v\": \"antiaffinity\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#FFF0F0\"                 }             ],             \"artifact\": \"registry.apps.ocphub.physics-faas.eu/custom/george:103\",             \"type\": \"image\"         },         {             \"flowID\": \"d616400b75eac2fb\",             \"flowName\": \"Choreographer Service\",             \"flow\": [                 {                     \"id\": \"d616400b75eac2fb\",                     \"type\": \"tab\",                     \"label\": \"Choreographer Service\",                     \"disabled\": false,                     \"info\": \"\",                     \"env\": []                 },                 {                     \"id\": \"8810a3bc8cb78ac2\",                     \"type\": \"subflow:3352c7dddc9aad6d\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"HelloFunctionV2\",                     \"env\": [                         {                             \"name\": \"OWendpoint\",                             \"value\": \"\",                             \"type\": \"str\"                         },                         {                             \"name\": \"token\",                             \"type\": \"cred\"                         },                         {                             \"name\": \"actionName\",                             \"value\": \"HelloFunctionV2\",                             \"type\": \"str\"                         },                         {                             \"name\": \"method\",                             \"value\": \"\",                             \"type\": \"str\"                         }                     ],                     \"x\": 440,                     \"y\": 460,                     \"wires\": [                         [                             \"e7f535ba18f5292b\",                             \"7418d9069a25f945\",                             \"65a2fd77d5dd173b\"                         ]                     ]                 },                 {                     \"id\": \"9ba268dcb3efb932\",                     \"type\": \"subflow:3352c7dddc9aad6d\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"dms\",                     \"env\": [                         {                             \"name\": \"OWendpoint\",                             \"value\": \"\",                             \"type\": \"env\"                         },                         {                             \"name\": \"token\",                             \"type\": \"cred\"                         },                         {                             \"name\": \"actionName\",                             \"value\": \"Hello_DMS\",                             \"type\": \"str\"                         },                         {                             \"name\": \"method\",                             \"value\": \"\",                             \"type\": \"str\"                         }                     ],                     \"x\": 850,                     \"y\": 360,                     \"wires\": [                         [                             \"71b69c0824b8d1a5\"                         ]                     ]                 },                 {                     \"id\": \"e05334d691cc7c32\",                     \"type\": \"subflow:3352c7dddc9aad6d\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"sj\",                     \"env\": [                         {                             \"name\": \"OWendpoint\",                             \"value\": \"\",                             \"type\": \"env\"                         },                         {                             \"name\": \"token\",                             \"type\": \"cred\"                         },                         {                             \"name\": \"actionName\",                             \"value\": \"splitjoinFunction\",                             \"type\": \"str\"                         },                         {                             \"name\": \"dependentAppID\",                             \"value\": \"this\",                             \"type\": \"str\"                         },                         {                             \"name\": \"method\",                             \"value\": \"\",                             \"type\": \"str\"                         }                     ],                     \"x\": 850,                     \"y\": 540,                     \"wires\": [                         [                             \"4d3d411586a1b3a6\"                         ]                     ]                 },                 {                     \"id\": \"66611dafc701f137\",                     \"type\": \"comment\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"INFO\",                     \"info\": \"All invoked actions in this flow should have been included in the defined application graph.\\n\\nTheir actual deployment can be performed in the same or other OW clusters. \\n\\nThis flow should be executed as a service or as a OW action. In both cases we need to find the \\ndetails of the OW environment for each flow, as decided by WP4, as environment variables in the\\ncontainer used to run this flow.\\n\\nWe have maintained the UI configuration of the OW action node, so that we can use this flow also in\\na typical nodered environment. However the retrieved information from the environment variables prevail\\nover the set ones in the UI.\",                     \"x\": 390,                     \"y\": 300,                     \"wires\": []                 },                 {                     \"id\": \"6b7eef155fe168bc\",                     \"type\": \"inject\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"props\": [                         {                             \"p\": \"payload\"                         },                         {                             \"p\": \"topic\",                             \"vt\": \"str\"                         }                     ],                     \"repeat\": \"\",                     \"crontab\": \"\",                     \"once\": false,                     \"onceDelay\": 0.1,                     \"topic\": \"\",                     \"payload\": \"{}\",                     \"payloadType\": \"json\",                     \"x\": 110,                     \"y\": 460,                     \"wires\": [                         [                             \"b2131f1991cfb131\"                         ]                     ]                 },                 {                     \"id\": \"e7f535ba18f5292b\",                     \"type\": \"debug\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 450,                     \"y\": 360,                     \"wires\": []                 },                 {                     \"id\": \"ac02549b1db0d74c\",                     \"type\": \"comment\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"FIX\",                     \"info\": \"check how to pass info, maybe as annotations?\\n\\nhandle UI inputs as second after environment\\n\\n\\n\\n\",                     \"x\": 560,                     \"y\": 240,                     \"wires\": []                 },                 {                     \"id\": \"7418d9069a25f945\",                     \"type\": \"function\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"func\": \"msg.payload={};\\nmsg.payload.value={};\\nmsg.payload.value.name='george';\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 660,                     \"y\": 360,                     \"wires\": [                         [                             \"9ba268dcb3efb932\"                         ]                     ]                 },                 {                     \"id\": \"65a2fd77d5dd173b\",                     \"type\": \"function\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"func\": \"msg.payload={};\\nmsg.payload.value={};\\nmsg.payload.value={\\\"values\\\":[\\n    {'name':'george'},\\n    {'name':'maria'},\\n    {'name':'akis'},\\n    {'name':'alex'}\\n    ], \\n    \\\"creds\\\":\\\"17dz39c2-62f7-3ed6-9b88-925ce4l3c104:459bO3xUERmNZ9v2BLU1dRYFpXlPkccOFqm31LdAsMgRU4VrNZ9dhORZGuLJGIqF\\\",\\n    \\\"url\\\":\\\"https://openwhisk.apps.ocphub.physics-faas.eu/api/v1/namespaces/_/actions/HelloFunctionV2_b1d8d498-4197-420a-9ef8-56fec0c6d4ef.json?blocking=true\\\"\\n};\\n\\n//msg.url='https://openwhisk.apps.ocphub.physics-faas.eu/api/v1/namespaces/_/actions/HelloFunctionV2_b1d8d498-4197-420a-9ef8-56fec0c6d4ef.json?blocking=true';\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 660,                     \"y\": 540,                     \"wires\": [                         [                             \"e05334d691cc7c32\"                         ]                     ]                 },                 {                     \"id\": \"079bfcdcd66f41ae\",                     \"type\": \"comment\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"LIMITATION\",                     \"info\": \"THE ORCHESTRATING FLOW IS ABLE TO BE EXECUTED ONLY AS A SERVICE DUE TO THE FACT THAT ENV VARIABLES CAN NOT BE PASSED IN OW ACTIONS.\",                     \"x\": 310,                     \"y\": 160,                     \"wires\": []                 },                 {                     \"id\": \"5d32ba1c269db8e0\",                     \"type\": \"subflow:694cb784968dc0b9\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"value\": \"Service\",                             \"type\": \"str\"                         },                         {                             \"name\": \"isChoreographer\",                             \"value\": \"true\",                             \"type\": \"str\"                         }                     ],                     \"x\": 320,                     \"y\": 200,                     \"wires\": []                 },                 {                     \"id\": \"4d3d411586a1b3a6\",                     \"type\": \"debug\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 1030,                     \"y\": 540,                     \"wires\": []                 },                 {                     \"id\": \"71b69c0824b8d1a5\",                     \"type\": \"debug\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"false\",                     \"statusVal\": \"\",                     \"statusType\": \"auto\",                     \"x\": 1050,                     \"y\": 360,                     \"wires\": []                 },                 {                     \"id\": \"f3871cad3d0f0969\",                     \"type\": \"subflow:789351ac.02c9d\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"x\": 450,                     \"y\": 820,                     \"wires\": [                         [],                         [],                         []                     ]                 },                 {                     \"id\": \"b2131f1991cfb131\",                     \"type\": \"function\",                     \"z\": \"d616400b75eac2fb\",                     \"name\": \"\",                     \"func\": \"msg.payload={};\\nmsg.payload.value={};\\nmsg.payload.value.name='george';\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 260,                     \"y\": 460,                     \"wires\": [                         [                             \"8810a3bc8cb78ac2\"                         ]                     ]                 },                 {                     \"id\": \"a80b2fa1299e3bb8\",                     \"type\": \"tls-config\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": true,                     \"alpnprotocol\": \"\"                 },                 {                     \"id\": \"b9c86339cffd54ea\",                     \"type\": \"http request\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"method\": \"use\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"a80b2fa1299e3bb8\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"\",                     \"x\": 370,                     \"y\": 180,                     \"wires\": [                         [                             \"27c3b0af40ccb4e0\"                         ]                     ]                 },                 {                     \"id\": \"60d351e91c4f1f19\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"GET ENV OF ENDPOINT AND KEYS\",                     \"func\": \"msg.url=env.get('OWendpoint');\\nmsg.headers={};\\nvar auth = 'Basic ' + new Buffer(env.get('token')).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 350,                     \"y\": 120,                     \"wires\": [                         [                             \"b9c86339cffd54ea\"                         ]                     ]                 },                 {                     \"id\": \"d01b33ba9a399455\",                     \"type\": \"subflow:789351ac.02c9d\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"env\": [],                     \"x\": 390,                     \"y\": 300,                     \"wires\": [                         [],                         [],                         []                     ]                 },                 {                     \"id\": \"27c3b0af40ccb4e0\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"change url\",                     \"func\": \"msg.headers={};\\nmsg.url=env.get('')+'api/v1/namespaces/_/activations/';\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 370,                     \"y\": 240,                     \"wires\": [                         [                             \"d01b33ba9a399455\"                         ]                     ]                 },                 {                     \"id\": \"09223c13e462b3ba\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"func\": \"const propnamevar=env.get('actionName')+'_OW_endpoint';\\n//+1 for creds user:key\\n\\nvar globalenv = global.get(\\\"env2\\\");//needs to be set in the settings file, globalContext env2:process.env\\nmsg.payload4=globalenv[propnamevar];\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 260,                     \"y\": 80,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"3352c7dddc9aad6d\",                     \"type\": \"subflow\",                     \"name\": \"Dynamic OW action\",                     \"info\": \"This node wraps around a typical http request node in order to have a specific type indicating a call to an Openwhisk action.\\n\\nThis annotation is needed for later stages of the PHYSICS platform, in which calls to OW actions need to be distinguished from calls to any other external REST API. Through this information, the platform and infrastructure services can understand which parts of the flow target OW actions in case of splitting of the flow in multiple OW locations.\\n\\n\\nFurthermore, it is used to instantiate dynamic workflows in which the developer does not know beforehand at which OW endpoint each action is going to be deployed. For this reason the relevant information for all actions is retrieved through environment variables inside the OW action container that is intended to run this orchestrator flow. The convention is as follows:\\n$ACTIONNAME_OW_ENDPOINT=http://10.100.59.183:3233\\n$ACTIONNAME_OW_CREDS=user:pwd\\n\\nIn case of a POST method, msg.payload is assumed to carry the body of the call. The node returns JSON object, since this is the typical return object of an Openwhisk action.\\n\\nThis flow should be executed as a service or as a OW action. In case of usage in a manual way in a typical node-red flow, without environment variable population, the information from the UI may be used.\\n\\nWe have maintained the UI configuration of the OW action node, so that we can use this flow also in\\na typical nodered environment. However the retrieved information from the environment variables prevail\\nover the set ones in the UI.\\n\\nPENDING: check how to pass token from UI to http request node\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [                         {                             \"x\": 140,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"09223c13e462b3ba\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 800,                             \"y\": 180,                             \"wires\": [                                 {                                     \"id\": \"d01b33ba9a399455\",                                     \"port\": 0                                 },                                 {                                     \"id\": \"09223c13e462b3ba\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"OWendpoint\",                             \"type\": \"env\",                             \"value\": \"{$ACTION}_OW_ENDPOINT\"                         },                         {                             \"name\": \"token\",                             \"type\": \"cred\"                         },                         {                             \"name\": \"actionName\",                             \"type\": \"str\",                             \"value\": \"dockeraction\"                         },                         {                             \"name\": \"dependentArtefactID\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"dependentAppID\",                             \"type\": \"str\",                             \"value\": \"\"                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"node-red/function.svg\"                 },                 {                     \"id\": \"a80b2fa1299e3bb8\",                     \"type\": \"tls-config\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": true,                     \"alpnprotocol\": \"\"                 },                 {                     \"id\": \"b9c86339cffd54ea\",                     \"type\": \"http request\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"method\": \"use\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"a80b2fa1299e3bb8\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"\",                     \"x\": 370,                     \"y\": 180,                     \"wires\": [                         [                             \"27c3b0af40ccb4e0\"                         ]                     ]                 },                 {                     \"id\": \"60d351e91c4f1f19\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"GET ENV OF ENDPOINT AND KEYS\",                     \"func\": \"msg.url=env.get('OWendpoint');\\nmsg.headers={};\\nvar auth = 'Basic ' + new Buffer(env.get('token')).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 350,                     \"y\": 120,                     \"wires\": [                         [                             \"b9c86339cffd54ea\"                         ]                     ]                 },                 {                     \"id\": \"d01b33ba9a399455\",                     \"type\": \"subflow:789351ac.02c9d\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"env\": [],                     \"x\": 390,                     \"y\": 300,                     \"wires\": [                         [],                         [],                         []                     ]                 },                 {                     \"id\": \"27c3b0af40ccb4e0\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"change url\",                     \"func\": \"msg.headers={};\\nmsg.url=env.get('')+'api/v1/namespaces/_/activations/';\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 370,                     \"y\": 240,                     \"wires\": [                         [                             \"d01b33ba9a399455\"                         ]                     ]                 },                 {                     \"id\": \"09223c13e462b3ba\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"func\": \"const propnamevar=env.get('actionName')+'_OW_endpoint';\\n//+1 for creds user:key\\n\\nvar globalenv = global.get(\\\"env2\\\");//needs to be set in the settings file, globalContext env2:process.env\\nmsg.payload4=globalenv[propnamevar];\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 260,                     \"y\": 80,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"3352c7dddc9aad6d\",                     \"type\": \"subflow\",                     \"name\": \"Dynamic OW action\",                     \"info\": \"This node wraps around a typical http request node in order to have a specific type indicating a call to an Openwhisk action.\\n\\nThis annotation is needed for later stages of the PHYSICS platform, in which calls to OW actions need to be distinguished from calls to any other external REST API. Through this information, the platform and infrastructure services can understand which parts of the flow target OW actions in case of splitting of the flow in multiple OW locations.\\n\\n\\nFurthermore, it is used to instantiate dynamic workflows in which the developer does not know beforehand at which OW endpoint each action is going to be deployed. For this reason the relevant information for all actions is retrieved through environment variables inside the OW action container that is intended to run this orchestrator flow. The convention is as follows:\\n$ACTIONNAME_OW_ENDPOINT=http://10.100.59.183:3233\\n$ACTIONNAME_OW_CREDS=user:pwd\\n\\nIn case of a POST method, msg.payload is assumed to carry the body of the call. The node returns JSON object, since this is the typical return object of an Openwhisk action.\\n\\nThis flow should be executed as a service or as a OW action. In case of usage in a manual way in a typical node-red flow, without environment variable population, the information from the UI may be used.\\n\\nWe have maintained the UI configuration of the OW action node, so that we can use this flow also in\\na typical nodered environment. However the retrieved information from the environment variables prevail\\nover the set ones in the UI.\\n\\nPENDING: check how to pass token from UI to http request node\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [                         {                             \"x\": 140,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"09223c13e462b3ba\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 800,                             \"y\": 180,                             \"wires\": [                                 {                                     \"id\": \"d01b33ba9a399455\",                                     \"port\": 0                                 },                                 {                                     \"id\": \"09223c13e462b3ba\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"OWendpoint\",                             \"type\": \"env\",                             \"value\": \"{$ACTION}_OW_ENDPOINT\"                         },                         {                             \"name\": \"token\",                             \"type\": \"cred\"                         },                         {                             \"name\": \"actionName\",                             \"type\": \"str\",                             \"value\": \"dockeraction\"                         },                         {                             \"name\": \"dependentArtefactID\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"dependentAppID\",                             \"type\": \"str\",                             \"value\": \"\"                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"node-red/function.svg\"                 },                 {                     \"id\": \"a80b2fa1299e3bb8\",                     \"type\": \"tls-config\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": true,                     \"alpnprotocol\": \"\"                 },                 {                     \"id\": \"b9c86339cffd54ea\",                     \"type\": \"http request\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"method\": \"use\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"a80b2fa1299e3bb8\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"\",                     \"x\": 370,                     \"y\": 180,                     \"wires\": [                         [                             \"27c3b0af40ccb4e0\"                         ]                     ]                 },                 {                     \"id\": \"60d351e91c4f1f19\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"GET ENV OF ENDPOINT AND KEYS\",                     \"func\": \"msg.url=env.get('OWendpoint');\\nmsg.headers={};\\nvar auth = 'Basic ' + new Buffer(env.get('token')).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 350,                     \"y\": 120,                     \"wires\": [                         [                             \"b9c86339cffd54ea\"                         ]                     ]                 },                 {                     \"id\": \"d01b33ba9a399455\",                     \"type\": \"subflow:789351ac.02c9d\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"env\": [],                     \"x\": 390,                     \"y\": 300,                     \"wires\": [                         [],                         [],                         []                     ]                 },                 {                     \"id\": \"27c3b0af40ccb4e0\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"change url\",                     \"func\": \"msg.headers={};\\nmsg.url=env.get('')+'api/v1/namespaces/_/activations/';\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 370,                     \"y\": 240,                     \"wires\": [                         [                             \"d01b33ba9a399455\"                         ]                     ]                 },                 {                     \"id\": \"09223c13e462b3ba\",                     \"type\": \"function\",                     \"z\": \"3352c7dddc9aad6d\",                     \"name\": \"\",                     \"func\": \"const propnamevar=env.get('actionName')+'_OW_endpoint';\\n//+1 for creds user:key\\n\\nvar globalenv = global.get(\\\"env2\\\");//needs to be set in the settings file, globalContext env2:process.env\\nmsg.payload4=globalenv[propnamevar];\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 260,                     \"y\": 80,                     \"wires\": [                         []                     ]                 },                 {                     \"id\": \"3352c7dddc9aad6d\",                     \"type\": \"subflow\",                     \"name\": \"Dynamic OW action\",                     \"info\": \"This node wraps around a typical http request node in order to have a specific type indicating a call to an Openwhisk action.\\n\\nThis annotation is needed for later stages of the PHYSICS platform, in which calls to OW actions need to be distinguished from calls to any other external REST API. Through this information, the platform and infrastructure services can understand which parts of the flow target OW actions in case of splitting of the flow in multiple OW locations.\\n\\n\\nFurthermore, it is used to instantiate dynamic workflows in which the developer does not know beforehand at which OW endpoint each action is going to be deployed. For this reason the relevant information for all actions is retrieved through environment variables inside the OW action container that is intended to run this orchestrator flow. The convention is as follows:\\n$ACTIONNAME_OW_ENDPOINT=http://10.100.59.183:3233\\n$ACTIONNAME_OW_CREDS=user:pwd\\n\\nIn case of a POST method, msg.payload is assumed to carry the body of the call. The node returns JSON object, since this is the typical return object of an Openwhisk action.\\n\\nThis flow should be executed as a service or as a OW action. In case of usage in a manual way in a typical node-red flow, without environment variable population, the information from the UI may be used.\\n\\nWe have maintained the UI configuration of the OW action node, so that we can use this flow also in\\na typical nodered environment. However the retrieved information from the environment variables prevail\\nover the set ones in the UI.\\n\\nPENDING: check how to pass token from UI to http request node\",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [                         {                             \"x\": 140,                             \"y\": 120,                             \"wires\": [                                 {                                     \"id\": \"09223c13e462b3ba\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 800,                             \"y\": 180,                             \"wires\": [                                 {                                     \"id\": \"d01b33ba9a399455\",                                     \"port\": 0                                 },                                 {                                     \"id\": \"09223c13e462b3ba\",                                     \"port\": 0                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"OWendpoint\",                             \"type\": \"env\",                             \"value\": \"{$ACTION}_OW_ENDPOINT\"                         },                         {                             \"name\": \"token\",                             \"type\": \"cred\"                         },                         {                             \"name\": \"actionName\",                             \"type\": \"str\",                             \"value\": \"dockeraction\"                         },                         {                             \"name\": \"dependentArtefactID\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"dependentAppID\",                             \"type\": \"str\",                             \"value\": \"\"                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"node-red/function.svg\"                 },                 {                     \"id\": \"eeb5210da7efebd3\",                     \"type\": \"comment\",                     \"z\": \"694cb784968dc0b9\",                     \"name\": \"Instructions\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"x\": 560,                     \"y\": 280,                     \"wires\": []                 },                 {                     \"id\": \"694cb784968dc0b9\",                     \"type\": \"subflow\",                     \"name\": \"Executor Mode\",                     \"info\": \"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",                     \"category\": \"PHYSICS Annotators\",                     \"in\": [],                     \"out\": [],                     \"env\": [                         {                             \"name\": \"Executor Mode\",                             \"type\": \"str\",                             \"value\": \"\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"Service\"                                             },                                             \"v\": \"Service\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NoderedFunction\"                                             },                                             \"v\": \"NoderedFunction\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"NativeSequence\"                                             },                                             \"v\": \"NativeSequence\"                                         }                                     ]                                 }                             }                         },                         {                             \"name\": \"isChoreographer\",                             \"type\": \"str\",                             \"value\": \"false\",                             \"ui\": {                                 \"type\": \"select\",                                 \"opts\": {                                     \"opts\": [                                         {                                             \"l\": {                                                 \"en-US\": \"true\"                                             },                                             \"v\": \"true\"                                         },                                         {                                             \"l\": {                                                 \"en-US\": \"false\"                                             },                                             \"v\": \"false\"                                         }                                     ]                                 }                             }                         }                     ],                     \"meta\": {},                     \"color\": \"#C0DEED\",                     \"icon\": \"font-awesome/fa-angle-right\"                 },                 {                     \"id\": \"2934f390.711324\",                     \"type\": \"tls-config\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"\",                     \"cert\": \"\",                     \"key\": \"\",                     \"ca\": \"\",                     \"certname\": \"\",                     \"keyname\": \"\",                     \"caname\": \"\",                     \"servername\": \"\",                     \"verifyservercert\": false                 },                 {                     \"id\": \"7d194c10.33b51c\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"defaults+activation id\",                     \"func\": \"\\nif (msg.hasOwnProperty('maxAttempts')){\\n    msg.iterations=msg.maxAttempts;\\n} else {\\n    msg.iterations=env.get('maxAttempts');\\n}\\n//needed to reset the iterations after function chaining\\nmsg.defaultAttempts=msg.iterations;\\n\\nif (msg.hasOwnProperty('pollPeriod')){\\n    \\n} else {\\n    msg.pollPeriod=env.get('pollPeriod');\\n}\\n\\nif (msg.hasOwnProperty('method')){\\n    \\n} else {\\n    msg.method=env.get('method');\\n}\\n\\nif (msg.hasOwnProperty('url')){\\n    \\n} else {\\n    msg.url=env.get('url');\\n}\\n\\nif (msg.hasOwnProperty('retryCode')){\\n    \\n} else {\\n    msg.retryCode=env.get('retryCode');\\n}\\n\\nif (msg.hasOwnProperty('acceptCode')){\\n    \\n} else {\\n    msg.acceptCode=env.get('acceptCode');\\n}\\n\\nif (msg.hasOwnProperty('creds')){\\n    \\n} else {\\n    msg.creds=env.get('creds');\\n}\\n\\nif (msg.hasOwnProperty('functionChain')){\\n    \\n} else {\\n    msg.functionChain=env.get('functionChain');\\n}\\n\\nif (msg.hasOwnProperty('inputData')){\\n    if (msg.inputData.hasOwnProperty('creds')){\\n        msg.creds=msg.inputData.creds;\\n    }\\n}\\n\\n\\n\\nmsg.delay=msg.pollPeriod;\\nmsg.start=Date.now();\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 200,                     \"y\": 160,                     \"wires\": [                         [                             \"cad17b04.a2b4d8\"                         ]                     ]                 },                 {                     \"id\": \"4be3f205.3e8dc4\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"iterations--\",                     \"func\": \"msg.iterations=msg.iterations-1;\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"x\": 350,                     \"y\": 300,                     \"wires\": [                         [                             \"c2cf68b7.263d4\",                             \"d8305759.866988\"                         ]                     ]                 },                 {                     \"id\": \"c2cf68b7.263d4\",                     \"type\": \"switch\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"if iterations finished\",                     \"property\": \"iterations\",                     \"propertyType\": \"msg\",                     \"rules\": [                         {                             \"t\": \"gte\",                             \"v\": \"1\",                             \"vt\": \"num\"                         },                         {                             \"t\": \"lt\",                             \"v\": \"1\",                             \"vt\": \"num\"                         }                     ],                     \"checkall\": \"true\",                     \"repair\": false,                     \"outputs\": 2,                     \"x\": 550,                     \"y\": 300,                     \"wires\": [                         [                             \"cad17b04.a2b4d8\"                         ],                         []                     ]                 },                 {                     \"id\": \"76299695.812bd8\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"SUCCESS\",                     \"info\": \"\",                     \"x\": 1100,                     \"y\": 60,                     \"wires\": []                 },                 {                     \"id\": \"48093072.b17a6\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"FINAL FAIL\",                     \"info\": \"\",                     \"x\": 890,                     \"y\": 360,                     \"wires\": []                 },                 {                     \"id\": \"d5960f2f.2e9448\",                     \"type\": \"delay\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"delay\",                     \"pauseType\": \"delayv\",                     \"timeout\": \"5\",                     \"timeoutUnits\": \"seconds\",                     \"rate\": \"1\",                     \"nbRateUnits\": \"1\",                     \"rateUnits\": \"second\",                     \"randomFirst\": \"1\",                     \"randomLast\": \"5\",                     \"randomUnits\": \"seconds\",                     \"drop\": false,                     \"outputs\": 1,                     \"x\": 170,                     \"y\": 300,                     \"wires\": [                         [                             \"4be3f205.3e8dc4\"                         ]                     ]                 },                 {                     \"id\": \"471b3d64.265894\",                     \"type\": \"http request\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"\",                     \"method\": \"GET\",                     \"ret\": \"obj\",                     \"paytoqs\": \"ignore\",                     \"url\": \"\",                     \"tls\": \"2934f390.711324\",                     \"persist\": false,                     \"proxy\": \"\",                     \"authType\": \"\",                     \"x\": 590,                     \"y\": 160,                     \"wires\": [                         [                             \"8694180b.ec1c68\"                         ]                     ]                 },                 {                     \"id\": \"8694180b.ec1c68\",                     \"type\": \"switch\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"Status code check\",                     \"property\": \"statusCode\",                     \"propertyType\": \"msg\",                     \"rules\": [                         {                             \"t\": \"lte\",                             \"v\": \"acceptCode\",                             \"vt\": \"msg\"                         },                         {                             \"t\": \"gte\",                             \"v\": \"retryCode\",                             \"vt\": \"msg\"                         }                     ],                     \"checkall\": \"true\",                     \"repair\": false,                     \"outputs\": 2,                     \"x\": 810,                     \"y\": 160,                     \"wires\": [                         [                             \"f9d0aba7.72382\"                         ],                         [                             \"d5960f2f.2e9448\"                         ]                     ]                 },                 {                     \"id\": \"ef03414f.ad9d78\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"RETRY FAIL\",                     \"info\": \"\",                     \"x\": 890,                     \"y\": 260,                     \"wires\": []                 },                 {                     \"id\": \"66bbc0cf.0c62f\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"BEFORE AUTH\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": false,                     \"tostatus\": false,                     \"complete\": \"true\",                     \"targetType\": \"full\",                     \"x\": 370,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"13791c2d.8cea7c\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"URL\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"url\",                     \"targetType\": \"msg\",                     \"x\": 580,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"cad17b04.a2b4d8\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"add auth\",                     \"func\": \"msg.headers={};\\nvar auth = 'Basic ' + new Buffer(msg.creds).toString('base64');\\nmsg.headers = {\\n    \\\"Authorization\\\": auth\\n}\\n\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 420,                     \"y\": 160,                     \"wires\": [                         [                             \"471b3d64.265894\"                         ]                     ]                 },                 {                     \"id\": \"f2b7c4e4.a24c3\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"adapt to new activation\",                     \"func\": \"\\n\\nmsg.url=msg.payload.response.result.newActivationIDURL;\\nmsg.iterations=msg.defaultAttempts+1;\\nconsole.log('IN ADAPTATION TO ACTIVATION',msg.url);\\nreturn msg;\",                     \"outputs\": 1,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 1500,                     \"y\": 160,                     \"wires\": [                         [                             \"d5960f2f.2e9448\",                             \"ee1dbf44.7368f8\"                         ]                     ]                 },                 {                     \"id\": \"c338e47b.b00ed\",                     \"type\": \"comment\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"FUNCTION CHAIN CONTINUATION\",                     \"info\": \"\",                     \"x\": 1240,                     \"y\": 240,                     \"wires\": []                 },                 {                     \"id\": \"ee1dbf44.7368f8\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"AFTER CONTINUATION IN Poll2Push\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1420,                     \"y\": 300,                     \"wires\": []                 },                 {                     \"id\": \"f9d0aba7.72382\",                     \"type\": \"switch\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"is Chain\",                     \"property\": \"functionChain\",                     \"propertyType\": \"msg\",                     \"rules\": [                         {                             \"t\": \"false\"                         },                         {                             \"t\": \"true\"                         }                     ],                     \"checkall\": \"true\",                     \"repair\": false,                     \"outputs\": 2,                     \"x\": 1020,                     \"y\": 160,                     \"wires\": [                         [],                         [                             \"6da1eea0.969368\",                             \"1bbc6fa0.4879c\"                         ]                     ]                 },                 {                     \"id\": \"6da1eea0.969368\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"RESULT STATUS\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1100,                     \"y\": 300,                     \"wires\": []                 },                 {                     \"id\": \"f20a68d.9711598\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"AFTER CODE CHECK\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"functionChain\",                     \"targetType\": \"msg\",                     \"x\": 890,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"36905e62.dfad92\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"TOP1\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1120,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"9610a737.bf275\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"TOP2\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1300,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"c52af08f.756ee8\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"TOP3\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"payload\",                     \"targetType\": \"msg\",                     \"x\": 1600,                     \"y\": 100,                     \"wires\": []                 },                 {                     \"id\": \"1bbc6fa0.4879c\",                     \"type\": \"function\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"compare completion\",                     \"func\": \"console.log('IN COMPARE COMPLETION',msg.payload.response);\\nif (msg.payload.response.result.status==='Completed'){\\n    return [msg,null];\\n} else {\\n    return [null,msg];\\n}\\n\",                     \"outputs\": 2,                     \"noerr\": 0,                     \"initialize\": \"\",                     \"finalize\": \"\",                     \"libs\": [],                     \"x\": 1240,                     \"y\": 160,                     \"wires\": [                         [                             \"c52af08f.756ee8\"                         ],                         [                             \"f2b7c4e4.a24c3\"                         ]                     ]                 },                 {                     \"id\": \"d8305759.866988\",                     \"type\": \"debug\",                     \"z\": \"789351ac.02c9d\",                     \"name\": \"URL\",                     \"active\": true,                     \"tosidebar\": true,                     \"console\": true,                     \"tostatus\": false,                     \"complete\": \"iterations\",                     \"targetType\": \"msg\",                     \"x\": 500,                     \"y\": 380,                     \"wires\": []                 },                 {                     \"id\": \"789351ac.02c9d\",                     \"type\": \"subflow\",                     \"name\": \"PollTOPushConverterFC\",                     \"info\": \"This helper node aims at performing synchronous calls for polling in case of an async API (calls that return prior to completion, e.g. in the case of non blocking calls in OW, the initial request is returned with a submission success and an activation id in order to follow up on the result). The main difference from the main PollTOPushConverter is that it supports also function chaining (through a msg.functionChain or UI set boolean parameter).\\n\\nThe according function should return as a response the following structure:\\n- have a result.status field with the 'Completed' (if chain is finished) or 'Continuing' string if the function has handed over to a new function in the chain.\\n- have a result.newActivationIDURL field that indicates the updated ID with which to check the follow-up action's status \\n\\nThe node also can get credentials from the msg.creds field of the input message.\\n\\nThe remaining operations are similar with the standard PollTOPushConverter. The node does polling to a specific endpoint in order to detect whether the function has successfully finished\\n\\nThe node has three outputs:\\n - Output 1 indicates successful finalization of the API call\\n - Output 2 indicates intermediate failure and was added to return the reason for failure\\n - Output 3 indicates final failure after max attempts\\n\\nCurrently the node assumes that in case of failure we get a >=40X return code, but this may not always be the case.\\n\\nThe node can be configured for the URL (msg.url), the HTTP method (msg.method), the maximum attempts (msg.maxAttempts), polling period (msg.pollPeriod), the status code above which to retry (msg.retryCode) and the status code for deciding the final success (msg.acceptCode). The msg properties override the UI set properties.\\n\\nGiven that conditions upon which the initial call needs to be polled are highly dependent on the used API, the node assumes that the initial call has been performed a priori.\\n\\nCredentials for accessing the HTTP endpoint can be set via msg.creds or through the UI (input msg prevails).\\n \\n\",                     \"category\": \"PHYSICS Helpers\",                     \"in\": [                         {                             \"x\": 60,                             \"y\": 160,                             \"wires\": [                                 {                                     \"id\": \"7d194c10.33b51c\"                                 }                             ]                         }                     ],                     \"out\": [                         {                             \"x\": 1380,                             \"y\": 40,                             \"wires\": [                                 {                                     \"id\": \"f9d0aba7.72382\",                                     \"port\": 0                                 },                                 {                                     \"id\": \"1bbc6fa0.4879c\",                                     \"port\": 0                                 }                             ]                         },                         {                             \"x\": 780,                             \"y\": 260,                             \"wires\": [                                 {                                     \"id\": \"c2cf68b7.263d4\",                                     \"port\": 0                                 }                             ]                         },                         {                             \"x\": 780,                             \"y\": 360,                             \"wires\": [                                 {                                     \"id\": \"c2cf68b7.263d4\",                                     \"port\": 1                                 }                             ]                         }                     ],                     \"env\": [                         {                             \"name\": \"maxAttempts\",                             \"type\": \"str\",                             \"value\": \"3\"                         },                         {                             \"name\": \"pollPeriod\",                             \"type\": \"str\",                             \"value\": \"3000\"                         },                         {                             \"name\": \"method\",                             \"type\": \"str\",                             \"value\": \"\"                         },                         {                             \"name\": \"url\",                             \"type\": \"str\",                             \"value\": \"http://10.100.59.182:3233/api/v1/namespaces/_/activations/\"                         },                         {                             \"name\": \"retryCode\",                             \"type\": \"num\",                             \"value\": \"202\"                         },                         {                             \"name\": \"acceptCode\",                             \"type\": \"num\",                             \"value\": \"200\"                         },                         {                             \"name\": \"functionChain\",                             \"type\": \"bool\",                             \"value\": \"true\"                         }                     ],                     \"meta\": {},                     \"color\": \"#b4e8a9\"                 }             ],             \"artifact\": \"registry.apps.ocphub.physics-faas.eu/custom/george:99\",             \"type\": \"image\"         }     ],     \"displayName\": \"\",     \"branchName\": \"george\" }",
        "payloadType": "json",
        "x": 170,
        "y": 800,
        "wires": [
            [
                "2017ddca62b26917"
            ]
        ]
    },
    {
        "id": "88498354456c8fbb",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "SET TARGET URL and CREDENTIALS",
        "props": [
            {
                "p": "myUrl",
                "v": "10.100.59.183:1881",
                "vt": "str"
            },
            {
                "p": "username",
                "v": "",
                "vt": "str"
            },
            {
                "p": "password",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "fadb1d1b8b7541e6"
            ]
        ]
    },
    {
        "id": "fadb1d1b8b7541e6",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "auth_prep",
        "func": "msg.payload = `client_id=node-red-admin&grant_type=password&scope=*&username=${msg.username}&password=${msg.password}`;\nmsg.headers = {\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 180,
        "wires": [
            [
                "d24935614c83db0d"
            ]
        ]
    },
    {
        "id": "d24935614c83db0d",
        "type": "http request",
        "z": "da309c1626dccde8",
        "name": "Auth to target Node-RED",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "body",
        "url": "{{myUrl}}/auth/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 650,
        "y": 160,
        "wires": [
            [
                "32190c23d5cb8bea",
                "adae8d257a7fc0ee"
            ]
        ]
    },
    {
        "id": "32190c23d5cb8bea",
        "type": "change",
        "z": "da309c1626dccde8",
        "name": "Set access",
        "rules": [
            {
                "t": "set",
                "p": "access_token",
                "pt": "flow",
                "to": "payload.access_token",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "flow",
                "to": "username",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "flow",
                "to": "password",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "target_url",
                "pt": "flow",
                "to": "myUrl",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 160,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "adae8d257a7fc0ee",
        "type": "debug",
        "z": "da309c1626dccde8",
        "name": "MSG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 200,
        "wires": []
    },
    {
        "id": "5a0025f4901d044b",
        "type": "comment",
        "z": "da309c1626dccde8",
        "name": "Authentication for target NODE-RED Auth API",
        "info": "",
        "x": 220,
        "y": 120,
        "wires": []
    },
    {
        "id": "1bf0817082422b56",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "trigger",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "3f8679cba15f1ec3"
            ]
        ]
    },
    {
        "id": "48da7b84a29d170d",
        "type": "http request",
        "z": "da309c1626dccde8",
        "name": "Flows Test",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{myUrl}}/flows",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 370,
        "y": 300,
        "wires": [
            [
                "5a11d47e0565edd8",
                "2e929fd3ed790657"
            ]
        ]
    },
    {
        "id": "2e929fd3ed790657",
        "type": "debug",
        "z": "da309c1626dccde8",
        "name": "MSG",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 530,
        "y": 300,
        "wires": []
    },
    {
        "id": "3f8679cba15f1ec3",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "prep",
        "func": "msg.myUrl = flow.get(\"target_url\");\nmsg.headers = {\n   \"Authorization\":  `Bearer ${flow.get(\"access_token\")}`\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 300,
        "wires": [
            [
                "48da7b84a29d170d"
            ]
        ]
    },
    {
        "id": "8897c0319e2d8a2b",
        "type": "file",
        "z": "da309c1626dccde8",
        "name": "Flows Output",
        "filename": "/mnt/d/Users/Stelios/Desktop/app_semantic_tests/RemoteFlows.json",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "utf8",
        "x": 650,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "5a11d47e0565edd8",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "beautify",
        "func": "msg.payload = {\"allFlows\": msg.payload}\n\nmsg.payload = JSON.stringify(msg.payload, null, 2)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 360,
        "wires": [
            [
                "8897c0319e2d8a2b"
            ]
        ]
    },
    {
        "id": "e94231e67204af92",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "clear",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "3c93039e9058b6f5"
            ]
        ]
    },
    {
        "id": "3c93039e9058b6f5",
        "type": "change",
        "z": "da309c1626dccde8",
        "name": "Set Subflows",
        "rules": [
            {
                "t": "set",
                "p": "SubFlows",
                "pt": "flow",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "flowAnnotators",
                "pt": "flow",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 460,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "3b25b238b61c3fcd",
        "type": "comment",
        "z": "da309c1626dccde8",
        "name": "TEST target NODE-RED, get flows",
        "info": "",
        "x": 190,
        "y": 260,
        "wires": []
    },
    {
        "id": "44ecf011703cf431",
        "type": "comment",
        "z": "da309c1626dccde8",
        "name": "SET SUBFLOWS",
        "info": "",
        "x": 130,
        "y": 420,
        "wires": []
    },
    {
        "id": "1e82ad79db03e6e4",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Get Sub-Flows",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.2",
        "topic": "",
        "payloadType": "date",
        "x": 120,
        "y": 580,
        "wires": [
            [
                "1a171fd05db0ed73"
            ]
        ]
    },
    {
        "id": "89a3050fecff5830",
        "type": "http request",
        "z": "da309c1626dccde8",
        "name": "Flows, all",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{myUrl}}/flows",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 460,
        "y": 580,
        "wires": [
            [
                "8a5f4014faa25fb3"
            ]
        ]
    },
    {
        "id": "1a171fd05db0ed73",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "prep",
        "func": "msg.myUrl = flow.get(\"target_url\");\nmsg.headers = {\n   \"Authorization\":  `Bearer ${flow.get(\"access_token\")}`\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 580,
        "wires": [
            [
                "89a3050fecff5830"
            ]
        ]
    },
    {
        "id": "8a5f4014faa25fb3",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "Filter and index subflows",
        "func": "msg.payload = {\"allFlows\": msg.payload};\nconst expression = jsonata(\"allFlows[type='subflow']\");\nconst results = expression.evaluate(msg.payload);\n\nmsg.payload = {};\nmsg.annotators = {};\nfor (const subflow of results){\n    msg.payload[subflow.id] = subflow;\n    if(subflow.category == \"PHYSICS Annotators\"){\n        msg.annotators[subflow.id] = subflow;\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jsonata",
                "module": "jsonata"
            }
        ],
        "x": 650,
        "y": 580,
        "wires": [
            [
                "f2738807754ea794",
                "c006d64d242686bd",
                "0c4bb2cdbef575d3"
            ]
        ]
    },
    {
        "id": "f2738807754ea794",
        "type": "change",
        "z": "da309c1626dccde8",
        "name": "Set Subflows",
        "rules": [
            {
                "t": "set",
                "p": "SubFlows",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "flowAnnotators",
                "pt": "flow",
                "to": "annotators",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 580,
        "wires": [
            [
                "90d281d1569362ab"
            ]
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "0c4bb2cdbef575d3",
        "type": "debug",
        "z": "da309c1626dccde8",
        "name": "Annotators",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "annotators",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 540,
        "wires": []
    },
    {
        "id": "90d281d1569362ab",
        "type": "switch",
        "z": "da309c1626dccde8",
        "name": "Continue with function",
        "property": "tempFlowData",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1180,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "c006d64d242686bd",
        "type": "debug",
        "z": "da309c1626dccde8",
        "name": "Subflows",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 500,
        "wires": []
    },
    {
        "id": "9b53b21aea3eac78",
        "type": "change",
        "z": "da309c1626dccde8",
        "name": "tempFlowData",
        "rules": [
            {
                "t": "set",
                "p": "tempFlowData",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 680,
        "wires": [
            [
                "1a171fd05db0ed73"
            ]
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "1ff73a345a65b226",
        "type": "comment",
        "z": "da309c1626dccde8",
        "name": "Get, filter and index subflows",
        "info": "",
        "x": 160,
        "y": 540,
        "wires": []
    },
    {
        "id": "0d810790aff10754",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Set Utils",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "x": 400,
        "y": 40,
        "wires": [
            [
                "4c63e4e18379fcfa"
            ]
        ]
    },
    {
        "id": "30fd03dacb287b88",
        "type": "change",
        "z": "da309c1626dccde8",
        "name": "Set utility functions",
        "rules": [
            {
                "t": "set",
                "p": "utilFunctions",
                "pt": "flow",
                "to": "utilFunctions",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 40,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-save"
    },
    {
        "id": "4c63e4e18379fcfa",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "Utilities",
        "func": "// Check if node type is supported\nconst supportedNodeType = (nodeType) => {\n    if(typeof nodeType != \"string\"){\n        console.error(`supportedNodeType: nodeType input ${nodeType} is not a string!`);\n        return false;\n    }\n    \n    if(!!flow.get(\"supportedNodes\")[nodeType]){\n        return true;\n    }\n        \n    if(nodeType.includes(\":\")){\n        const localTypes = nodeType.split(\":\");\n        for(const localType of localTypes){\n            if (supportedNodeType(localType)){\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    if(nodeType.includes(\" \")){\n        const localTypes = nodeType.split(\" \");\n        for(const localType of localTypes){\n            if (supportedNodeType(localType)){\n                return true;\n            }\n        }\n        return false;\n    }\n        \n    return false;\n};\n\n\n// Check if is valid NPM name. Does not support old package names by default.\nconst validNpmPackage = (str, oldPackages=false) => {\n    const ret = validNpm(str); // Imported library validate-npm-package-name.\n    return oldPackages ?\n        ret.validForNewPackages || ret.validForOldPackages :\n        ret.validForNewPackages;\n};\n\n\n// Check if Path or URI\nconst isPathOrUri = (str) => {\n    return isAbsolutePath(str) || isRelativePath(str) || isUri(str);\n};\n\n// Add object-property-value to a temp triples index for multiple objects.\nconst tempTripleToIndex = (object, property, value, tempTriplesIndex) => {\n    // Not a pure function! An empty or non empty object is changed here!\n    // tempTriplesIndex: { object: { property: [value] } }\n    // For multiple values, input all values in an array as value parameter.\n    if (!(object in tempTriplesIndex)) {\n        tempTriplesIndex[object] = {};\n    }\n    if(!(property in tempTriplesIndex[object])) {\n        tempTriplesIndex[object][property] = [];\n    }\n    if(Array.isArray(value)){\n        const temp = tempTriplesIndex[object][property];\n        tempTriplesIndex[object][property] = temp.concat(value);\n    }else tempTriplesIndex[object][property].push(value);\n};\n\n// Clean a temp triples index. Meant for the same type of index as above!\nconst cleanTriplesIndex = (tempTriplesIndex) => {\n    // Not a pure function! Input object is changed here!\n    // tempTriplesIndex: { object: { property: [value] } }\n    for(const object in tempTriplesIndex){\n        for(let property in tempTriplesIndex[object]){\n            // Remove any duplicate values.\n            if (tempTriplesIndex[object][property].length > 1) {\n                let temp = tempTriplesIndex[object][property];\n                tempTriplesIndex[object][property] = [...new Set(temp)];\n            }\n            \n            // If only one value, set value directly.\n            if(tempTriplesIndex[object][property].length == 1){\n                tempTriplesIndex[object][property] = tempTriplesIndex[object][property][0];\n            }\n        }\n    }\n};\n\n// Add a property value as in semantics, in a JS object for semantics.\n// Does NOT take array value.\nconst addPropertyValue = (js_obj, property, value) => {\n    if (! (property in js_obj)){\n        js_obj[property] = value;\n    } else {\n        // Results in array.\n        if ( ! (Array.isArray(js_obj[property]))) {\n            const temp = js_obj[property];\n            js_obj[property] = [ temp, value ];\n        } else js_obj[property].push(value);\n        // Removes duplicates\n        js_obj[property] = [...new Set(js_obj[property])]\n    }\n}\n\n// Deep clean all empty and faulty values, even NaN.\nconst cleanObj = (obj) => {\n    return cleanDeep(obj, NaNValues=true);\n}\n\n// First letter uppercase, rest lowercase\nconst firstLetter = (str) => {\n    return str.replace(/^.{1}/g, str[0].toUpperCase());\n}\n\n// Canonical Semantic property or class name style\nconst toSemanticName = (str, isProperty=false) => {\n    if (isAbsolutePath(str) || isUri(str)){\n        return str;\n    }\n    \n    let newStr = \"\";\n    let i = 0;\n    for (const part of str.split(\" \")){\n        if (isProperty && i==0) {\n            for (let subPart of part.split(/(?=[A-Z])/) ) {\n                if (isProperty && i==0){\n                    newStr = newStr.concat(subPart.toLowerCase());\n                    \n                } else newStr = newStr.concat(subPart);\n                i++;\n            }\n        }else newStr = newStr.concat(firstLetter(part));\n        i++;\n    }\n    return newStr;\n}\n\nmsg.utilFunctions = {\n    // ALL UTIL FUNCTIONS TO FLOW CONTEXT\n    \"supportedNodeType\": supportedNodeType,\n    \"isUri\": isUri, // Imported library validate.io-uri.\n    \"isAbsolutePath\": isAbsolutePath, // Imported library @stdlib/assert-is-absolute-path.\n    \"isRelativePath\": isRelativePath, // Imported library @stdlib/assert-is-relative-path.\n    \"isPathOrUri\": isPathOrUri,\n    \"validNpmPackage\": validNpmPackage,\n    \"tempTripleToIndex\": tempTripleToIndex,\n    \"cleanTriplesIndex\": cleanTriplesIndex,\n    \"addPropertyValue\": addPropertyValue,\n    \"cleanDeep\": cleanDeep, // Imported library clean-deep.\n    \"cleanObj\": cleanObj,\n    \"firstLetter\": firstLetter,\n    \"toSemanticName\": toSemanticName, \n    \n    // Test console log only\n    \"testFunc\": () => {\n        console.log(\"Hello testFunc\");\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "isUri",
                "module": "validate.io-uri"
            },
            {
                "var": "isRelativePath",
                "module": "@stdlib/assert-is-relative-path"
            },
            {
                "var": "isAbsolutePath",
                "module": "@stdlib/assert-is-absolute-path"
            },
            {
                "var": "validNpm",
                "module": "validate-npm-package-name"
            },
            {
                "var": "jsonata",
                "module": "jsonata"
            },
            {
                "var": "cleanDeep",
                "module": "clean-deep"
            }
        ],
        "x": 540,
        "y": 40,
        "wires": [
            [
                "30fd03dacb287b88"
            ]
        ]
    },
    {
        "id": "c9add37576062962",
        "type": "comment",
        "z": "da309c1626dccde8",
        "name": "OLD UTILITY FUNCTIONS",
        "info": "",
        "x": 160,
        "y": 40,
        "wires": []
    },
    {
        "id": "b454e01e2df1a38e",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Get Flow (id)",
        "props": [
            {
                "p": "flowId",
                "v": "26279234de993606",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 840,
        "wires": [
            [
                "18d872a1b01601f6"
            ]
        ]
    },
    {
        "id": "18d872a1b01601f6",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "prep",
        "func": "msg.myUrl = flow.get(\"target_url\");\nmsg.headers = {\n   \"Authorization\":  `Bearer ${flow.get(\"access_token\")}`\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 900,
        "wires": [
            [
                "16625bf36418b8c5"
            ]
        ]
    },
    {
        "id": "d6948773ee303343",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Get Flow: Hello Sequence",
        "props": [
            {
                "p": "flowId",
                "v": "19fe4293742e0b2c",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 900,
        "wires": [
            [
                "18d872a1b01601f6"
            ]
        ]
    },
    {
        "id": "c2e60599859472ed",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Get Flow: Hello NR function annotated",
        "props": [
            {
                "p": "flowId",
                "v": "7c6a3de135b840c5",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 190,
        "y": 960,
        "wires": [
            [
                "18d872a1b01601f6"
            ]
        ]
    },
    {
        "id": "abe761a65db238f7",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Get Flow: Hello Service",
        "props": [
            {
                "p": "flowId",
                "v": "1b3cbb423e3ab1b3",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 1020,
        "wires": [
            [
                "18d872a1b01601f6"
            ]
        ]
    },
    {
        "id": "16625bf36418b8c5",
        "type": "http request",
        "z": "da309c1626dccde8",
        "name": "Get Flow",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{myUrl}}/flow/{{flowId}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 580,
        "y": 900,
        "wires": [
            [
                "f4e3464d453c5279"
            ]
        ]
    },
    {
        "id": "f4e3464d453c5279",
        "type": "debug",
        "z": "da309c1626dccde8",
        "name": "Flow data",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 840,
        "wires": []
    },
    {
        "id": "28fe27ac186f03d0",
        "type": "comment",
        "z": "da309c1626dccde8",
        "name": "Get a Flow from target Node-RED",
        "info": "",
        "x": 190,
        "y": 800,
        "wires": []
    },
    {
        "id": "ab381d3f8c99d341",
        "type": "inject",
        "z": "da309c1626dccde8",
        "name": "Nodered Function Flow",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"dd8835083692860a\",\"type\":\"subflow\",\"name\":\"SizingAnnotator\",\"info\":\"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",\"category\":\"PHYSICS Annotators\",\"in\":[{\"x\":120,\"y\":60,\"wires\":[{\"id\":\"c66966a2d36f06b5\"}]}],\"out\":[{\"x\":440,\"y\":60,\"wires\":[{\"id\":\"c66966a2d36f06b5\",\"port\":0}]}],\"env\":[{\"name\":\"memory\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"label\":{\"en-US\":\"Memory (MB)\"}}},{\"name\":\"timeout\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"icon\":\"font-awesome/fa-times-circle-o\",\"label\":{\"en-US\":\"Timeout (millisecs)\"}}}],\"meta\":{},\"color\":\"#E9967A\",\"icon\":\"font-awesome/fa-arrows-h\"},{\"id\":\"c66966a2d36f06b5\",\"type\":\"function\",\"z\":\"dd8835083692860a\",\"name\":\"add sizing\",\"func\":\"\\nmsg.annotations={};\\nmsg.annotations.sizing={};\\nmsg.annotations.sizing.memory=env.get('memory');\\nmsg.annotations.sizing.timeout=env.get('timeout');\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":300,\"y\":60,\"wires\":[[]]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"},{\"id\":\"82b665f654048ecf\",\"type\":\"function\",\"z\":\"694cb784968dc0b9\",\"name\":\"\",\"func\":\"msg.annotations={};\\nmsg.annotations.executorMode=env.get('Executor Mode');\",\"outputs\":1,\"noerr\":0,\"initialize\":\"// Code added here will be run once\\n// whenever the node is started.\\n\\n//msg.payload.imageName=env.get('Image Name');\\n//return msg;\",\"finalize\":\"\",\"libs\":[],\"x\":360,\"y\":140,\"wires\":[[]]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"dbb496ac5b4b1756\",\"type\":\"http in\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":260,\"y\":140,\"wires\":[[\"dfd5d7f2a1e4bdce\"]]},{\"id\":\"b3ae2348a7357f89\",\"type\":\"http in\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":260,\"y\":240,\"wires\":[[\"247a1728e0231123\"]]},{\"id\":\"dfd5d7f2a1e4bdce\",\"type\":\"http response\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"x\":560,\"y\":140,\"wires\":[]},{\"id\":\"6d597da6d88a144a\",\"type\":\"http response\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"x\":690,\"y\":320,\"wires\":[]},{\"id\":\"247a1728e0231123\",\"type\":\"function\",\"z\":\"7c6a3de135b840c5\",\"name\":\"hello world\",\"func\":\"//@importance=high\\n//@OptimizationGoal=performance\\nconsole.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":550,\"y\":240,\"wires\":[[\"6d597da6d88a144a\"]]},{\"id\":\"d2f80557dffd0854\",\"type\":\"comment\",\"z\":\"7c6a3de135b840c5\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":360,\"y\":320,\"wires\":[]},{\"id\":\"164958dd7f2a7c37\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":310,\"y\":440,\"wires\":[]},{\"id\":\"ed773d649e8294b1\",\"type\":\"subflow:dd8835083692860a\",\"z\":\"7c6a3de135b840c5\",\"name\":\"\",\"env\":[{\"name\":\"memory\",\"value\":\"512\",\"type\":\"num\"},{\"name\":\"timeout\",\"value\":\"120000\",\"type\":\"num\"}],\"x\":300,\"y\":540,\"wires\":[[]]}]",
        "payloadType": "json",
        "x": 140,
        "y": 1140,
        "wires": [
            [
                "36eacb9b8556a6fd"
            ]
        ]
    },
    {
        "id": "36eacb9b8556a6fd",
        "type": "function",
        "z": "da309c1626dccde8",
        "name": "",
        "func": "return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 1140,
        "wires": [
            [
                "498586d213c968ce"
            ]
        ]
    },
    {
        "id": "498586d213c968ce",
        "type": "debug",
        "z": "da309c1626dccde8",
        "name": "Final output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 1140,
        "wires": []
    },
    {
        "id": "008038d60d83aa38",
        "type": "file in",
        "z": "0796678ec01bc492",
        "name": "",
        "filename": "rfEndpoint.json",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 380,
        "y": 220,
        "wires": [
            [
                "ccfb32c9374d4ea2"
            ]
        ]
    },
    {
        "id": "ccfb32c9374d4ea2",
        "type": "function",
        "z": "0796678ec01bc492",
        "name": "read and set",
        "func": "msg = JSON.parse(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 220,
        "wires": [
            [
                "4c90165d84edfbf5"
            ]
        ]
    },
    {
        "id": "7e51eef71b48dfd8",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "OLDER Tests",
        "info": "",
        "x": 150,
        "y": 480,
        "wires": []
    },
    {
        "id": "2bc7a23a0c57c1bc",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "helloFunctionV2DEoutput",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"flows\":[{\"flowID\":\"39ef55a8.55f96a\",\"flowName\":\"HelloFunctionV2\",\"flow\":[{\"id\":\"39ef55a8.55f96a\",\"type\":\"tab\",\"label\":\"HelloFunctionV2\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f70d642d7d615561\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":180,\"wires\":[[\"a8ea37eb3bb8cf23\"]]},{\"id\":\"ee0278d90f6393a9\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":280,\"wires\":[[\"f52b7bec399e315a\"]]},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":730,\"y\":180,\"wires\":[]},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":870,\"y\":380,\"wires\":[]},{\"id\":\"f52b7bec399e315a\",\"type\":\"function\",\"z\":\"39ef55a8.55f96a\",\"name\":\"hello world\",\"func\":\"//console.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":630,\"y\":280,\"wires\":[[\"ab91c6c51decfbab\"]]},{\"id\":\"47d1123d17b41031\",\"type\":\"comment\",\"z\":\"39ef55a8.55f96a\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":440,\"y\":360,\"wires\":[]},{\"id\":\"129fabd43047059b\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":240,\"y\":460,\"wires\":[]},{\"id\":\"bba4b91d07643081\",\"type\":\"subflow:dd8835083692860a\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"memory\",\"value\":\"512\",\"type\":\"num\"},{\"name\":\"timeout\",\"value\":\"120000\",\"type\":\"num\"}],\"x\":240,\"y\":520,\"wires\":[]},{\"id\":\"46230eca45760f58\",\"type\":\"subflow:f0b9b88b6dcb2ece\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"goal\",\"value\":\"performance\",\"type\":\"str\"}],\"x\":290,\"y\":580,\"wires\":[]},{\"id\":\"be87371dd5bad13a\",\"type\":\"subflow:94dffc86e4af9a58\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"importance\",\"value\":\"high\",\"type\":\"str\"}],\"x\":260,\"y\":640,\"wires\":[]},{\"id\":\"7ec29cdc3b1457ea\",\"type\":\"subflow:05f045b87080a61e\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"locality\",\"value\":\"aws\",\"type\":\"str\"}],\"x\":250,\"y\":700,\"wires\":[]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"},{\"id\":\"827476cff63f679c\",\"type\":\"comment\",\"z\":\"dd8835083692860a\",\"name\":\"README\",\"info\":\"The node is used to indicate memory and timing preferences for the final OW action.\",\"x\":440,\"y\":180,\"wires\":[]},{\"id\":\"dd8835083692860a\",\"type\":\"subflow\",\"name\":\"SizingAnnotator\",\"info\":\"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"memory\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"label\":{\"en-US\":\"Memory (MB)\"}}},{\"name\":\"timeout\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"icon\":\"font-awesome/fa-times-circle-o\",\"label\":{\"en-US\":\"Timeout (millisecs)\"}}}],\"meta\":{},\"color\":\"#E9967A\",\"icon\":\"font-awesome/fa-arrows-h\"},{\"id\":\"a0dfe746ee0c085b\",\"type\":\"comment\",\"z\":\"f0b9b88b6dcb2ece\",\"name\":\"README\",\"info\":\"The node is used to set the desired optimization goal: performance/energy\",\"x\":340,\"y\":160,\"wires\":[]},{\"id\":\"f0b9b88b6dcb2ece\",\"type\":\"subflow\",\"name\":\"Optimization Goal (Flow Level)\",\"info\":\"\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"goal\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"performance\"},\"v\":\"performance\"},{\"l\":{\"en-US\":\"energy\"},\"v\":\"energy\"},{\"l\":{\"en-US\":\"availability\"},\"v\":\"availability\"}]}}}],\"meta\":{},\"color\":\"#FFAAAA\",\"icon\":\"font-awesome/fa-sliders\"},{\"id\":\"1896904e3b2cf282\",\"type\":\"comment\",\"z\":\"94dffc86e4af9a58\",\"name\":\"README\",\"info\":\"The node is used to indicate at the flow level what is the importance of the flow (to be taken under consideration in the scheduling aspects of PHYSICS)\",\"x\":400,\"y\":160,\"wires\":[]},{\"id\":\"94dffc86e4af9a58\",\"type\":\"subflow\",\"name\":\"Importance (Flow level)\",\"info\":\"\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"importance\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"high\"},\"v\":\"high\"},{\"l\":{\"en-US\":\"medium\"},\"v\":\"medium\"},{\"l\":{\"en-US\":\"low\"},\"v\":\"low\"}]}}}],\"meta\":{},\"color\":\"#3FADB5\",\"icon\":\"node-red/alert.svg\"},{\"id\":\"30ee5c09f384361d\",\"type\":\"comment\",\"z\":\"05f045b87080a61e\",\"name\":\"README\",\"info\":\"The node is used to indicate at the flow level the locality of this flow with relation to a set of standard locations by name \",\"x\":400,\"y\":220,\"wires\":[]},{\"id\":\"05f045b87080a61e\",\"type\":\"subflow\",\"name\":\"Locality(flow level)\",\"info\":\"\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"locality\",\"type\":\"str\",\"value\":\"\"}],\"meta\":{},\"color\":\"#D8BFD8\",\"icon\":\"font-awesome/fa-braille\"}],\"artifact\":\"registry.apps.ocphub.physics-faas.eu/custom/george:79\",\"type\":\"image\"}],\"displayName\":{\"flows\":[[{\"id\":\"39ef55a8.55f96a\",\"type\":\"tab\",\"label\":\"HelloFunctionV2\",\"disabled\":false,\"info\":\"\",\"env\":[]},{\"id\":\"f70d642d7d615561\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/init\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":180,\"wires\":[[\"a8ea37eb3bb8cf23\"]]},{\"id\":\"ee0278d90f6393a9\",\"type\":\"http in\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"url\":\"/run\",\"method\":\"post\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":340,\"y\":280,\"wires\":[[\"f52b7bec399e315a\"]]},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":730,\"y\":180,\"wires\":[]},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"x\":870,\"y\":380,\"wires\":[]},{\"id\":\"f52b7bec399e315a\",\"type\":\"function\",\"z\":\"39ef55a8.55f96a\",\"name\":\"hello world\",\"func\":\"//console.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"initialize\":\"\",\"finalize\":\"\",\"libs\":[],\"x\":630,\"y\":280,\"wires\":[[\"ab91c6c51decfbab\"]]},{\"id\":\"47d1123d17b41031\",\"type\":\"comment\",\"z\":\"39ef55a8.55f96a\",\"name\":\"OW SKELETON with hello world function\",\"info\":\"\",\"x\":440,\"y\":360,\"wires\":[]},{\"id\":\"129fabd43047059b\",\"type\":\"subflow:694cb784968dc0b9\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"Executor Mode\",\"value\":\"NoderedFunction\",\"type\":\"str\"}],\"x\":240,\"y\":460,\"wires\":[]},{\"id\":\"bba4b91d07643081\",\"type\":\"subflow:dd8835083692860a\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"memory\",\"value\":\"512\",\"type\":\"num\"},{\"name\":\"timeout\",\"value\":\"120000\",\"type\":\"num\"}],\"x\":240,\"y\":520,\"wires\":[]},{\"id\":\"46230eca45760f58\",\"type\":\"subflow:f0b9b88b6dcb2ece\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"goal\",\"value\":\"performance\",\"type\":\"str\"}],\"x\":290,\"y\":580,\"wires\":[]},{\"id\":\"be87371dd5bad13a\",\"type\":\"subflow:94dffc86e4af9a58\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"importance\",\"value\":\"high\",\"type\":\"str\"}],\"x\":260,\"y\":640,\"wires\":[]},{\"id\":\"7ec29cdc3b1457ea\",\"type\":\"subflow:05f045b87080a61e\",\"z\":\"39ef55a8.55f96a\",\"name\":\"\",\"env\":[{\"name\":\"locality\",\"value\":\"aws\",\"type\":\"str\"}],\"x\":250,\"y\":700,\"wires\":[]},{\"id\":\"eeb5210da7efebd3\",\"type\":\"comment\",\"z\":\"694cb784968dc0b9\",\"name\":\"Instructions\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"x\":560,\"y\":280,\"wires\":[]},{\"id\":\"694cb784968dc0b9\",\"type\":\"subflow\",\"name\":\"Executor Mode\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"Service\"},\"v\":\"Service\"},{\"l\":{\"en-US\":\"NoderedFunction\"},\"v\":\"NoderedFunction\"},{\"l\":{\"en-US\":\"NativeSequence\"},\"v\":\"NativeSequence\"}]}}}],\"meta\":{},\"color\":\"#C0DEED\",\"icon\":\"font-awesome/fa-angle-right\"},{\"id\":\"827476cff63f679c\",\"type\":\"comment\",\"z\":\"dd8835083692860a\",\"name\":\"README\",\"info\":\"The node is used to indicate memory and timing preferences for the final OW action.\",\"x\":440,\"y\":180,\"wires\":[]},{\"id\":\"dd8835083692860a\",\"type\":\"subflow\",\"name\":\"SizingAnnotator\",\"info\":\"This node should be used to dictate what is the necessary size in terms of memory and timeout of the registered action in Openwhisk.\\n\\nIt is assumed that this node is used at the flow level, indicating that the annotation refers to the container configuration of a docker action that includes the overall flow in the used tab.\\n\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"memory\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"label\":{\"en-US\":\"Memory (MB)\"}}},{\"name\":\"timeout\",\"type\":\"num\",\"value\":\"\",\"ui\":{\"icon\":\"font-awesome/fa-times-circle-o\",\"label\":{\"en-US\":\"Timeout (millisecs)\"}}}],\"meta\":{},\"color\":\"#E9967A\",\"icon\":\"font-awesome/fa-arrows-h\"},{\"id\":\"a0dfe746ee0c085b\",\"type\":\"comment\",\"z\":\"f0b9b88b6dcb2ece\",\"name\":\"README\",\"info\":\"The node is used to set the desired optimization goal: performance/energy\",\"x\":340,\"y\":160,\"wires\":[]},{\"id\":\"f0b9b88b6dcb2ece\",\"type\":\"subflow\",\"name\":\"Optimization Goal (Flow Level)\",\"info\":\"\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"goal\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"performance\"},\"v\":\"performance\"},{\"l\":{\"en-US\":\"energy\"},\"v\":\"energy\"},{\"l\":{\"en-US\":\"availability\"},\"v\":\"availability\"}]}}}],\"meta\":{},\"color\":\"#FFAAAA\",\"icon\":\"font-awesome/fa-sliders\"},{\"id\":\"1896904e3b2cf282\",\"type\":\"comment\",\"z\":\"94dffc86e4af9a58\",\"name\":\"README\",\"info\":\"The node is used to indicate at the flow level what is the importance of the flow (to be taken under consideration in the scheduling aspects of PHYSICS)\",\"x\":400,\"y\":160,\"wires\":[]},{\"id\":\"94dffc86e4af9a58\",\"type\":\"subflow\",\"name\":\"Importance (Flow level)\",\"info\":\"\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"importance\",\"type\":\"str\",\"value\":\"\",\"ui\":{\"type\":\"select\",\"opts\":{\"opts\":[{\"l\":{\"en-US\":\"high\"},\"v\":\"high\"},{\"l\":{\"en-US\":\"medium\"},\"v\":\"medium\"},{\"l\":{\"en-US\":\"low\"},\"v\":\"low\"}]}}}],\"meta\":{},\"color\":\"#3FADB5\",\"icon\":\"node-red/alert.svg\"},{\"id\":\"30ee5c09f384361d\",\"type\":\"comment\",\"z\":\"05f045b87080a61e\",\"name\":\"README\",\"info\":\"The node is used to indicate at the flow level the locality of this flow with relation to a set of standard locations by name \",\"x\":400,\"y\":220,\"wires\":[]},{\"id\":\"05f045b87080a61e\",\"type\":\"subflow\",\"name\":\"Locality(flow level)\",\"info\":\"\",\"category\":\"PHYSICS Annotators\",\"in\":[],\"out\":[],\"env\":[{\"name\":\"locality\",\"type\":\"str\",\"value\":\"\"}],\"meta\":{},\"color\":\"#D8BFD8\",\"icon\":\"font-awesome/fa-braille\"}]],\"branchName\":\"george\",\"appName\":\"NewApp\"}}",
        "payloadType": "json",
        "x": 250,
        "y": 300,
        "wires": [
            [
                "b7a69d1ce95a0c4e"
            ]
        ]
    },
    {
        "id": "b7a69d1ce95a0c4e",
        "type": "http request",
        "z": "75bc5fa0db2ad379",
        "name": "Call Extractor (/transform)",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:1880/transform",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 710,
        "y": 300,
        "wires": [
            [
                "047e5a0f56c51ec3"
            ]
        ]
    },
    {
        "id": "047e5a0f56c51ec3",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "Extractor Output (/transform)",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 960,
        "y": 300,
        "wires": []
    },
    {
        "id": "904fe7bd45a33fba",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "SEoutput_SimpleApp_HelloFunctionV2",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"@context\":{\"@version\":1.1,\"@vocab\":\"http://www.physics-h2020.eu/physics/1.0.0/\",\"flow\":\"http://example_composer.physics.eu/flow/\",\"function\":\"http://example_composer.physics.eu/function/\",\"param\":\"http://example_parameters_repository.physics.eu/\",\"app\":\"http://example_composer.physics.eu/app/\",\"owner\":\"http://example_owners_repository.physics.eu/\",\"proglang\":\"http://languages.programming.physics.eu/\",\"js_lib\":\"http://languages.programming.physics.eu/javascript/lib/\"},\"@id\":\"app:[object Object]\",\"@type\":\"Application\",\"hasFlow\":{\"@id\":\"flow:39ef55a8.55f96a\",\"@type\":\"Flow\",\"definesInterface\":[{\"@id\":\"flow:39ef55a8.55f96a/interface/f70d642d7d615561\",\"@type\":\"REST\",\"allowsUpload\":false,\"hasHttpMethod\":\"POST\",\"interfaceToInterface\":\"flow:39ef55a8.55f96a/interface/a8ea37eb3bb8cf23\",\"interfaceURI\":\"/init\"},{\"@id\":\"flow:39ef55a8.55f96a/interface/ee0278d90f6393a9\",\"@type\":\"REST\",\"allowsUpload\":false,\"hasHttpMethod\":\"POST\",\"interfaceURI\":\"/run\",\"isNodeInputOf\":\"function:f52b7bec399e315a\"},{\"@id\":\"flow:39ef55a8.55f96a/interface/a8ea37eb3bb8cf23\",\"@type\":\"RESTOutput\"},{\"@id\":\"flow:39ef55a8.55f96a/interface/ab91c6c51decfbab\",\"@type\":\"RESTOutput\"}],\"executorMode\":\"NoderedFunction\",\"exposesREST\":[\"flow:39ef55a8.55f96a/interface/f70d642d7d615561\",\"flow:39ef55a8.55f96a/interface/ee0278d90f6393a9\"],\"goal\":\"performance\",\"hasFunction\":{\"@id\":\"function:f52b7bec399e315a\",\"@type\":\"Function\",\"funcCode\":\"//console.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"hasNodeOutput\":\"flow:39ef55a8.55f96a/interface/ab91c6c51decfbab\",\"label\":\"hello world\"},\"hasJSONDescription\":{\"artifact\":\"registry.apps.ocphub.physics-faas.eu/custom/george:79\",\"artifactType\":\"image\",\"id\":\"39ef55a8.55f96a\",\"label\":\"HelloFunctionV2\",\"nodes\":[{\"disabled\":false,\"id\":\"39ef55a8.55f96a\",\"label\":\"HelloFunctionV2\",\"type\":\"tab\"},{\"id\":\"f70d642d7d615561\",\"method\":\"post\",\"type\":\"http in\",\"upload\":false,\"url\":\"/init\",\"wires\":\"a8ea37eb3bb8cf23\",\"x\":340,\"y\":180,\"z\":\"39ef55a8.55f96a\"},{\"id\":\"ee0278d90f6393a9\",\"method\":\"post\",\"type\":\"http in\",\"upload\":false,\"url\":\"/run\",\"wires\":\"f52b7bec399e315a\",\"x\":340,\"y\":280,\"z\":\"39ef55a8.55f96a\"},{\"id\":\"a8ea37eb3bb8cf23\",\"type\":\"http response\",\"x\":730,\"y\":180,\"z\":\"39ef55a8.55f96a\"},{\"id\":\"ab91c6c51decfbab\",\"type\":\"http response\",\"x\":870,\"y\":380,\"z\":\"39ef55a8.55f96a\"},{\"func\":\"//console.log(msg);\\nmsg.payload={'response':'hello '+msg.payload.value.name};\\nreturn msg;\",\"id\":\"f52b7bec399e315a\",\"name\":\"hello world\",\"noerr\":0,\"outputs\":1,\"type\":\"function\",\"wires\":\"ab91c6c51decfbab\",\"x\":630,\"y\":280,\"z\":\"39ef55a8.55f96a\"},{\"id\":\"47d1123d17b41031\",\"name\":\"OW SKELETON with hello world function\",\"type\":\"comment\",\"x\":440,\"y\":360,\"z\":\"39ef55a8.55f96a\"},{\"env\":{\"name\":\"Executor Mode\",\"type\":\"str\",\"value\":\"NoderedFunction\"},\"id\":\"129fabd43047059b\",\"subflow\":\"694cb784968dc0b9\",\"type\":\"subflow:694cb784968dc0b9\",\"x\":240,\"y\":460,\"z\":\"39ef55a8.55f96a\"},{\"env\":[{\"name\":\"memory\",\"type\":\"num\",\"value\":\"512\"},{\"name\":\"timeout\",\"type\":\"num\",\"value\":\"120000\"}],\"id\":\"bba4b91d07643081\",\"subflow\":\"dd8835083692860a\",\"type\":\"subflow:dd8835083692860a\",\"x\":240,\"y\":520,\"z\":\"39ef55a8.55f96a\"},{\"env\":{\"name\":\"goal\",\"type\":\"str\",\"value\":\"performance\"},\"id\":\"46230eca45760f58\",\"subflow\":\"f0b9b88b6dcb2ece\",\"type\":\"subflow:f0b9b88b6dcb2ece\",\"x\":290,\"y\":580,\"z\":\"39ef55a8.55f96a\"},{\"env\":{\"name\":\"importance\",\"type\":\"str\",\"value\":\"high\"},\"id\":\"be87371dd5bad13a\",\"subflow\":\"94dffc86e4af9a58\",\"type\":\"subflow:94dffc86e4af9a58\",\"x\":260,\"y\":640,\"z\":\"39ef55a8.55f96a\"},{\"env\":{\"name\":\"locality\",\"type\":\"str\",\"value\":\"aws\"},\"id\":\"7ec29cdc3b1457ea\",\"subflow\":\"05f045b87080a61e\",\"type\":\"subflow:05f045b87080a61e\",\"x\":250,\"y\":700,\"z\":\"39ef55a8.55f96a\"},{\"id\":\"eeb5210da7efebd3\",\"info\":\"The Executor Mode Annotator is a mean to describe to the PHYSICS Environment the execution mode of a given flow. There are three options\\n1) Service mode: the selected flow will be deployed as a Node-RED service, thus always running\\n2) Node-RED Function mode: the selected flow will be wrapped around a Node-RED runtime and registered to a target Openwhisk platform, where it will be executed as a Node-RED runtime function\\n3) Native Sequence: the included functions will be packaged and registered individually at the Openwhisk platform, while their links (workflow) will be translated to the native Openwhisk sequence format and registered to the Openwhisk platform. This mode at the moment is limited to pure function nodes of Node-RED, while the workflow description is limited by the sequence abilities of Openwhisk. \",\"name\":\"Instructions\",\"type\":\"comment\",\"x\":560,\"y\":280,\"z\":\"694cb784968dc0b9\"},{\"id\":\"827476cff63f679c\",\"info\":\"The node is used to indicate memory and timing preferences for the final OW action.\",\"name\":\"README\",\"type\":\"comment\",\"x\":440,\"y\":180,\"z\":\"dd8835083692860a\"},{\"id\":\"a0dfe746ee0c085b\",\"info\":\"The node is used to set the desired optimization goal: performance/energy\",\"name\":\"README\",\"type\":\"comment\",\"x\":340,\"y\":160,\"z\":\"f0b9b88b6dcb2ece\"},{\"id\":\"1896904e3b2cf282\",\"info\":\"The node is used to indicate at the flow level what is the importance of the flow (to be taken under consideration in the scheduling aspects of PHYSICS)\",\"name\":\"README\",\"type\":\"comment\",\"x\":400,\"y\":160,\"z\":\"94dffc86e4af9a58\"},{\"id\":\"30ee5c09f384361d\",\"info\":\"The node is used to indicate at the flow level the locality of this flow with relation to a set of standard locations by name \",\"name\":\"README\",\"type\":\"comment\",\"x\":400,\"y\":220,\"z\":\"05f045b87080a61e\"}]},\"hasSoftwareArtifact\":{\"@id\":\"registry.apps.ocphub.physics-faas.eu/custom/george:79\",\"@type\":\"SoftwareImage\"},\"importance\":\"high\",\"label\":\"HelloFunctionV2\",\"locality\":\"aws\",\"memory\":\"512\",\"timeout\":\"120000\"},\"isTopLevelComposite\":true}]",
        "payloadType": "json",
        "x": 670,
        "y": 260,
        "wires": [
            [
                "b521ae1e0a18f681"
            ]
        ]
    },
    {
        "id": "784e5e265420c7ac",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "Simple Test",
        "info": "",
        "x": 200,
        "y": 260,
        "wires": []
    },
    {
        "id": "b521ae1e0a18f681",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "Expected transformation output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 260,
        "wires": []
    },
    {
        "id": "ec1b925f94d88501",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "ontology",
        "info": "/mnt/c/Users/Stelios/Dropbox/THESIS_Only/Post-Graduate (Web Engineering)/Smart_Orchestration_Thesis/PHYSICS ONTOLOGY FORK/PHYSICS_ONTOLOGY.ttl",
        "x": 80,
        "y": 1020,
        "wires": []
    },
    {
        "id": "1efcab60b9ead116",
        "type": "function",
        "z": "75bc5fa0db2ad379",
        "name": "JSON Schema Validation",
        "func": "const validate = jsonschema.validate;\n\nconst result = validate(msg.instance, msg.schema);\n\ndelete msg.instance;\ndelete msg.schema;\n\nconsole.log(\"JSON Schema Validation ======================\");\nconsole.log(result);\nconsole.log(\"=============================================\");\n\nmsg.validationErrors = result.errors;\nmsg.validJSON = result.errors.length == 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jsonschema",
                "module": "jsonschema"
            }
        ],
        "x": 470,
        "y": 1140,
        "wires": [
            [
                "8f065b44efad9ef4",
                "02534f015a4adbcb"
            ]
        ],
        "icon": "node-red/parser-json.svg",
        "info": "Validates JSON Schema on JSON instance.\nDoes not operate on payload.\nIt prints the complete output on console.\nExpects as inputs and deleted from msg afterward:\n- msg.instance: JSON instance to validate\n- msg.schema: JSON Schema to use for validation\nOutput:\n- msg.validationErrors: An ARRAY containing all validation errors. Empty if valid.\n- msg.validJSON: A boolean. Set to true if JSON was valid.\n\n"
    },
    {
        "id": "02534f015a4adbcb",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 1140,
        "wires": []
    },
    {
        "id": "8d5987f8662b2d9c",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1140,
        "wires": [
            [
                "2c45e1c83dced224"
            ]
        ]
    },
    {
        "id": "2c45e1c83dced224",
        "type": "function",
        "z": "75bc5fa0db2ad379",
        "name": "test",
        "func": "msg.instance = 4;\nmsg.schema = {\"type\": \"number\"};\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 1140,
        "wires": [
            [
                "1efcab60b9ead116"
            ]
        ]
    },
    {
        "id": "8f065b44efad9ef4",
        "type": "function",
        "z": "75bc5fa0db2ad379",
        "name": "errors",
        "func": "msg.payload = msg.validationErrors;\ndelete msg.validationErrors;\ndelete msg.validJSON;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 1100,
        "wires": [
            [
                "1ce31cbf7e323cdc"
            ]
        ]
    },
    {
        "id": "1ce31cbf7e323cdc",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "JSON SCHEMA ERRORS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1100,
        "wires": []
    },
    {
        "id": "ea3933e62ede5fec",
        "type": "function",
        "z": "75bc5fa0db2ad379",
        "name": "Process JSON-LD",
        "func": "const doc = msg.payload;\nconst context = flow.get(\"jsonLdBase\");\n\nconst expanded = await jsonld.expand({...context, ...doc });\nconst compacted = await jsonld.compact(expanded, context);\nconsole.log(\"=========EXPANDED JSON-LD=====================\");\nconsole.log(JSON.stringify(expanded, null, 2));\nconsole.log(\"=========COMPACTED JSON-LD====================\");\nconsole.log(JSON.stringify(compacted, null, 2));\nconsole.log(\"==============================================\");\nmsg.payload = compacted;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "jsonld",
                "module": "jsonld"
            }
        ],
        "x": 530,
        "y": 1260,
        "wires": [
            [
                "a01604656425b43b"
            ]
        ]
    },
    {
        "id": "8c1fae2ffa276552",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "Test file",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 90,
        "y": 1260,
        "wires": [
            [
                "4a60603111484404"
            ]
        ]
    },
    {
        "id": "a01604656425b43b",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "JSON-LD",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 1260,
        "wires": []
    },
    {
        "id": "f7371265bd9c5fb4",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "TEST SOME NODES",
        "info": "",
        "x": 390,
        "y": 1020,
        "wires": []
    },
    {
        "id": "2a89fce2358bb97e",
        "type": "json",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 330,
        "y": 1260,
        "wires": [
            [
                "ea3933e62ede5fec",
                "4b85cb3b4e11fae6"
            ]
        ]
    },
    {
        "id": "4b85cb3b4e11fae6",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "Test file contents",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 1300,
        "wires": []
    },
    {
        "id": "4a60603111484404",
        "type": "file in",
        "z": "75bc5fa0db2ad379",
        "name": "test",
        "filename": "/mnt/d/Users/Stelios/Desktop/app_semantic_tests/Test_Hello_Service.json",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 210,
        "y": 1260,
        "wires": [
            [
                "2a89fce2358bb97e"
            ]
        ]
    },
    {
        "id": "b63bad378f3ee476",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "For later: Create JSON Schema for each case, in order to validate",
        "info": "",
        "x": 1010,
        "y": 1140,
        "wires": []
    },
    {
        "id": "61737c710e43db0d",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "Duplicate this to have both cases of JSON-LD",
        "info": "",
        "x": 1020,
        "y": 1260,
        "wires": []
    },
    {
        "id": "4d952456090a15cb",
        "type": "inject",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 960,
        "wires": [
            [
                "c9c165956591eefc"
            ]
        ]
    },
    {
        "id": "c9c165956591eefc",
        "type": "function",
        "z": "75bc5fa0db2ad379",
        "name": "One-off test",
        "func": "const { validNpmPackage, addPropertyValue, cleanObj, toSemanticName, mergeDeep } = flow.get(\"utilFunctions\");\n\n// for toSemanticName\n// msg.payload =[ toSemanticName(\"hello man mou class\"), toSemanticName(\"hello man mou property\", true), toSemanticName(\"helloMan moy\", true)];\n\n// for validNpmPackage\n// msg.payload = {\n//     \"fds\" : validNpmPackage(\"fds\"),\n//     \"@stdlib/assert-is-absolute-path\": validNpmPackage(\"@stdlib/assert-is-absolute-path\"),\n//     \"//1loc.dev\": validNpmPackage(\"//1loc.dev\"),\n//     \"https://1loc.dev/foo/bar\": validNpmPackage(\"https://1loc.dev/foo/bar\"),\n//     \"./home/stelios.\": validNpmPackage(\"https://1loc.dev/foo/bar\"),\n//     \"./home/stelios/\": validNpmPackage(\"./home/stelios/\"),\n//     \"./home/stelios\": validNpmPackage(\"./home/stelios\"),\n// }\n\n// for addPropertyValue\n// msg.payload = {}\n// addPropertyValue(msg.payload, \"property\", \"value\"  );\n// addPropertyValue(msg.payload, \"property1\", \"value\"  );\n// addPropertyValue(msg.payload, \"property1\", \"value1\"  );\n// addPropertyValue(msg.payload, \"property1\", \"value1\"  );\n\n// for cleanObj\n// msg.payload = cleanObj({\n//     \"empty1\": {\n//         \"no\": \"\",\n//     },\n//     \"emtpy2\": [\n//         \"\"        \n//     ],\n//     \"empty3\": {\n//         \"empty4\": {\n//             \"hello\": [\n//                     null\n//                 ]\n//         }\n//     },\n//     \"myStuff\": {\n//         \"hello\": \"friend\",\n//         \"hi\": [\n//             \"fly\",\n//             ],\n//     }\n// }, NaNValues=true);\n\nmsg.payload = {};\n\nmergeDeep(msg.payload, {\n  a: 1\n}, {\n  b: {\n    c: 123\n  }\n});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 960,
        "wires": [
            [
                "a0234f6ea4dc6f35"
            ]
        ]
    },
    {
        "id": "a0234f6ea4dc6f35",
        "type": "debug",
        "z": "75bc5fa0db2ad379",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 960,
        "wires": []
    },
    {
        "id": "26eccf8ef3379e7d",
        "type": "comment",
        "z": "75bc5fa0db2ad379",
        "name": "OTHER TESTS -------------------------------------------------------",
        "info": "",
        "x": 230,
        "y": 900,
        "wires": []
    },
    {
        "id": "d7886c13b65c5958",
        "type": "comment",
        "z": "0796678ec01bc492",
        "name": "Reusable Functions & Config --------------------------",
        "info": "",
        "x": 200,
        "y": 40,
        "wires": []
    },
    {
        "id": "34c0d3a95dd92ccb",
        "type": "comment",
        "z": "0796678ec01bc492",
        "name": "Main Flow ---------------------------------------------------",
        "info": "",
        "x": 200,
        "y": 300,
        "wires": []
    },
    {
        "id": "4454a8cc21eec6f7",
        "type": "http in",
        "z": "0796678ec01bc492",
        "name": "",
        "url": "/transform",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 340,
        "wires": [
            [
                "a9cd39e968620ff5",
                "1237ad544df57164"
            ]
        ]
    },
    {
        "id": "12e65b57ed15c085",
        "type": "switch",
        "z": "0796678ec01bc492",
        "name": "Response",
        "property": "req.url",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "/extract/",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "/transform",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 940,
        "y": 1280,
        "wires": [
            [
                "ce9a063ad3b7d326"
            ],
            [
                "cd4dc6f2aaaa2e04"
            ]
        ]
    }
]